{"version":3,"sources":["utils/material-table-utils/index.jsx","services/NotificationService.js","components/shared/pop-up/assets/close.png","components/shared/pop-up/assets/play.png","components/shared/pop-up/assets/pause.png","services/ReportingService.js","components/navigation/styles.js","services/GlobalContext.js","components/shared/authorization-component/index.js","components/shared/authorization-component/AuthorizationComponent.jsx","components/navigation/components/settings-navigation/index.js","components/navigation/components/settings-navigation/SettingsNavigation.jsx","components/navigation/components/reports-navigation/index.js","components/navigation/components/reports-navigation/ReportsNavigation.jsx","components/navigation/Navigation.jsx","models/AppraisalItemModel.js","services/validators/operators.js","services/validators/UserValidators.js","services/validators/General.js","utils/constants.js","services/validators/AppraisalValidators.js","services/validators/index.js","services/AppraisalService.js","components/new-period-dialog/components/dialog-display/index.js","components/new-period-dialog/components/dialog-display/DialogDisplay.jsx","components/new-period-dialog/index.js","components/new-period-dialog/NewPeriodDialog.jsx","components/shared/login-required/index.js","components/shared/login-required/LoginRequired.jsx","components/appraisal-details/components/appraisal-info/index.js","components/appraisal-details/components/appraisal-info/AppraisalDetailsInfo.jsx","components/appraisal-field-set/components/appraisal-input/styles.js","components/appraisal-field-set/components/appraisal-input/index.js","components/appraisal-field-set/components/appraisal-input/AppraisalInput.jsx","components/appraisal-field-set/FieldSet.jsx","components/appraisal-field-set/index.js","services/UserService.js","components/shared/team-mates-autocomplete/index.js","components/shared/team-mates-autocomplete/TeamMatesAutocomplete.jsx","components/appraisal-user-redirect/AppraisalUserRedirect.jsx","components/appraisal-user-redirect/index.js","components/appraisal-details/components/appraisal-details-display/AppraisalDetailsDisplay.jsx","components/appraisal-details/components/appraisal-details-display/index.js","components/appraisal-details/components/appraisal-user-info/index.js","components/appraisal-details/components/appraisal-user-info/AppraisalUserInfo.jsx","components/appraisal-details/components/appraisal-user-details-display/AppraisalUserDetails.jsx","components/appraisal-details/components/appraisal-user-details-display/index.js","components/appraisal-details/index.js","components/appraisal-details/AppraisalDetails.jsx","components/shared/authorization-redirect-component/index.js","components/shared/authorization-redirect-component/AuthorizationRedirectComponent.jsx","routes/appraisal-details/index.js","routes/appraisal-details/AppraisalDetailsPage.jsx","components/shared/list-items-display/ListItemsDisplay.jsx","routes/appraisals/AppraisalsPage.jsx","routes/appraisals/index.js","components/home-planned-items/components/HomePlannedItemsDisplay/styles.js","components/home-planned-items/components/HomePlannedItemsDisplay/index.js","components/home-planned-items/components/HomePlannedItemsDisplay/HomePlannedItemsDisplay.jsx","components/home-planned-items/components/HomePlannedItemsInfoProvider/HomePlannedItemsInfoProvider.jsx","components/home-planned-items/index.js","components/home-planned-items/HomePlannedItems.jsx","routes/home/index.js","routes/home/HomePage.jsx","routes/settings/styles.js","styles/theme.js","routes/settings-general/index.js","routes/settings-general/SettingsGeneral.jsx","services/TeamService.js","services/AuthorizationService.js","routes/settings-users/components/TeamsEditComponent/index.js","routes/settings-users/components/TeamsEditComponent/TeamsEditComponent.jsx","routes/settings-users/components/OrganizationEditComponent/index.js","routes/settings-users/components/OrganizationEditComponent/OrganizationEditComponent.jsx","routes/settings-users/components/RoleEditComponent/index.js","routes/settings-users/components/RoleEditComponent/RoleEditComponent.jsx","routes/settings-users/index.js","routes/settings-users/SettingsUsers.jsx","routes/settings-app-periods/index.js","routes/settings-app-periods/SettingsAppraisalPeriods.jsx","routes/settings-app-items/index.js","routes/settings-app-items/SettingsAppraisalItems.jsx","components/security-details/components/security-info-provider/index.js","components/security-details/components/security-info-provider/SecurityInfoProvider.jsx","components/security-details/components/security-details-role-display/styles.js","components/security-details/components/security-details-role-display/index.js","components/security-details/components/security-details-role-display/SecurityDetailsRoleDisplay.jsx","components/security-details/components/security-details-user-display/styles.js","components/security-details/components/security-details-user-display/index.js","components/security-details/components/security-details-user-display/SecurityDetailsUserDisplay.jsx","components/security-details/SecurityDetails.jsx","components/security-details/index.js","routes/settings-role-permissions/index.js","routes/settings-role-permissions/SettingsRoles.jsx","routes/settings/index.js","routes/settings/SettingsPage.jsx","components/reports/components/report-details-parameters-edit/ReportDetailsParametersEdit.jsx","components/reports/components/report-details-parameters/ReportDetailsParameters.jsx","components/reports/components/report-details/ReportDetails.jsx","components/reports/components/reports-new/styles.js","components/reports/components/reports-new/ReportNew.jsx","components/reports/components/reports-info-provider/ReportsInfoProvider.jsx","components/reports/components/reports-info-provider/index.js","components/reports/ReportsList.jsx","routes/reporting-reports/index.js","routes/reporting-reports/ReportsPage.jsx","components/report-templates-list/index.js","components/report-template-details/styles.js","components/report-template-details/ReportTemplateDetails.jsx","components/shared/upload-file-component/UploadFileComponent.jsx","components/shared/upload-file-component/index.js","components/report-templates-new/components/AddTemplateStep/style.js","components/report-templates-new/components/AddTemplateStep/AddTemplateStep.jsx","components/report-templates-new/components/AddTemplateStep/index.js","components/report-templates-new/components/AggregationStep/style.js","components/shared/json-editor-component/JsonEditorComponent.jsx","components/shared/json-editor-component/index.js","components/report-templates-new/components/AggregationStep/index.js","components/report-templates-new/components/AggregationStep/AggregationStep.jsx","components/report-templates-new/components/TryOutStep/style.js","components/report-templates-new/components/TryOutStep/index.js","components/report-templates-new/components/TryOutStep/TryOutStep.jsx","components/report-templates-new/styles.js","components/report-templates-new/ReportNewTemplate.jsx","routes/reporting-templates/index.js","routes/reporting-templates/ReportTemplatesPage.jsx","routes/reporting/index.js","routes/reporting/ReportingPage.jsx","routes/login/index.js","routes/login/LoginPage.jsx","components/shared/pop-up/assets/error.svg","components/shared/pop-up/assets/warn.svg","components/shared/pop-up/assets/info.svg","components/shared/pop-up/assets/success.svg","components/shared/pop-up/styles.js","components/shared/pop-up/index.js","components/shared/pop-up/PopUp.jsx","components/shared/notification-manager/styles.js","components/shared/notification-manager/NotificationManager.jsx","components/shared/notification-manager/index.js","components/shared/user-securities-provider/index.js","components/shared/user-securities-provider/UserSecuritiesProvider.jsx","services/LoginService.js","components/shared/user-info-provider/index.js","components/shared/user-info-provider/UserInfoProvider.jsx","styles/GlobalCSS.jsx","components/app/styles.js","components/app/app.jsx","components/app/index.js","index.jsx","components/report-templates-list/styles.js","components/report-templates-list/ReportTemplatesList.jsx","components/shared/page-header/PageHeader.jsx"],"names":["tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","Download","nextId","NotificationService","notifications","setNotifications","func","this","addNotification","notification","prev","n","copy","slice","id","push","notify","module","exports","ReportingService","type","header","content","templatesPath","templatePath","templateDownloadPath","templateParametersPath","generateTemplatePath","templateSamplePath","getTemplates","axios","get","response","status","data","Error","statusText","error","getTemplate","createTemplate","formdata","post","headers","updateTemplate","update","put","downloadTemplate","filename","responseType","downloadBlob","getTempalteParameters","generateTemplate","getSample","aggregation","reportPath","postReportGeneratePath","reportsPath","getReports","getReport","addReport","formData","result","updateReport","generateReport","params","styles","makeStyles","theme","root","display","title","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","spacing","avatar","cursor","GlobalContext","React","createContext","AuthorizationComponent","code","grant","onReject","global","useContext","useState","access","setAccess","useEffect","Authorize","children","SettingsNavigation","List","component","disablePadding","ListItem","button","Link","to","ListItemIcon","DesktopMac","fontSize","ListItemText","secondary","People","Equalizer","Notes","ReportsNavigation","Assessment","FileCopy","ListItemLink","Navigation","navPaneOpened","setOpened","userMenuAnchorEl","setUserMenuAnchorEl","settings","collapses","setCollapses","classes","handleCollapseToggle","toggleDrawer","e","key","displayName","user","username","UserAvatar","Avatar","alt","onClick","evt","currentTarget","className","AppBar","position","clsx","Toolbar","IconButton","edge","color","arial-label","Menu","Build","style","Typography","variant","anchorEl","keepMounted","open","Boolean","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","href","MenuItem","userLoaded","Button","height","document","getElementById","clientHeight","Drawer","anchor","paper","CallToAction","alignSelf","Home","primary","Feedback","PanTool","PieChart","reports","ExpandLess","ExpandMore","Collapse","in","Settings","Item","item","periodId","organizationId","modifiedUser","modifiedDate","createdUser","createdDate","Date","and","validations","a","length","Promise","all","map","v","results","every","find","message","andSync","last","l","i","err","or","some","orSync","not","validation","val","notSync","perform","throwExceptions","performSync","userExists","userAuthorized","context","isTruthy","obj","constants","securities","REPORTS","description","grants","read","delete","APPRAISAL_DETAILS","createFinished","updateFinished","deleteFinished","APPRAISAL_DETAILS_OTHER","toggleLock","APPRAISAL_PERIODS","finish","SETTINGS","general","users","appraisalItems","appraisalPeriods","permissions","AUDITS","REPORT_TEMPLATES","operators","AD","ADO","periodStatus","period","name","periodExists","itemExists","periodLocked","userId","userPeriod","u","_id","locked","itemStatus","itemType","itemSameUser","String","itemRelated","relatedItemId","itemContentNotNull","trim","canInsert","generalVal","userVal","canUpdate","canDelete","validate","appraisalValidators","userValidators","generalValidators","AppraisalService","getPeriodsPath","addPeriodsPath","getItemsPath","getUserItemsPath","toggleLockPeriodPath","getItemPath","itemId","getOrphansPath","addItemPath","updateItemPath","deleteItemPath","addItemToPeriodPath","addUserItemPath","updateItemInPeriodPath","updateUserItemPath","deleteItemFromPeriodPath","deleteUserItemPath","finishPeriodPath","updateItemTypePath","updateUserItemTypePath","getPeriods","getItems","getOrphans","getUserItems","getItem","addItem","addOrphan","addUserItem","updateItemInPeriod","updateItem","updateUserItem","updateItemType","updateUserItemType","deleteItemFromPeriod","deleteItem","deleteUserItem","addPeriod","body","finishPeriod","toggleLockPeriod","blankItem","normalizeSet","items","min","filter","idx","dif","addItemToSet","value","addUserItemToSet","deleteItemFromSet","deleteUserItemFromSet","updateItemInSet","updateUserItemInSet","DialogDisplay","selectValues","handleSubmit","handleClose","setName","setStatus","handleSubmitWrapper","persist","preventDefault","organization","Dialog","aria-labelledby","DialogTitle","DialogContent","onSubmit","FormGroup","FormControl","required","InputLabel","htmlFor","Input","onChange","target","Select","margin","NewPeriodDialog","setItems","org","concat","LoginRequired","redirect","setRedirect","getUser","AppraisalDetailsInfo","setPeriodDetails","run","useStyles","feedBackInput","minHeight","startAdornment","AppraisalInput","changeHandler","blurHandler","removeHandler","changeTypeHandler","setValue","modified","setModified","itemMenuAnchorEl","setItemMenuAnchorEl","useParams","isRelated","isDeletable","isFinished","inputEditable","setValidations","mounted","calls","checkRelated","checkFinished","checkEditable","showEndAdornment","handleBlur","mod","handleChange","handleTypeChange","handleDelete","tooltip","toLocaleString","InputAdornment","Tooltip","enterDelay","disableHoverListener","disableFocusListener","aria-label","Info","endAdornment","tabIndex","MoreVert","disabled","indexOf","replace","ChevronLeft","ChevronRight","TextField","toLowerCase","size","multiline","onBlur","InputProps","textAlign","border","listItem","justifyContent","padding","popover","pointerEvents","FieldSet","details","setOtherItems","labels","Achieved","Planned","Training_Planned","Training_Achieved","SWOT_S","SWOT_W","SWOT_O","SWOT_T","isLocked","useCallback","firstChange","Number","isNaN","isNew","isToBeDeleted","Box","label","defaultProps","UserService","getUsersPath","updateUsersPath","getUserPath","getUserOrganizationsPath","getUserTeamMembersPath","getSettingsUsersPath","putSettingsUsersPath","normalizeUser","role","organizations","o","getUsers","getSettingsUsers","updateUser","updateSettingsUser","getUserOrganizations","getUserTeamMembers","TeamMatesAutocomplete","onUserSelect","defaultValue","setUsers","Autocomplete","options","getOptionLabel","option","getOptionSelected","renderInput","event","AppraisalUserRedirect","history","useHistory","selectedUser","setSelectedUser","handleSelect","userStyles","marginTop","marginBottom","middleFlex","centerButton","inputBlock","topMargin","conatiner","userInput","AppraisalDetailsDisplay","periodDetails","el","achieved","setAchieved","planned","setPlanned","trainingPlanned","setTrainingPlanned","trainingAchieved","setTrainingAchieved","swotS","setSWOTS","swotW","setSWOTW","swotO","setSWOTO","swotT","setSWOTT","feedBack","setFeedBack","setLocked","Container","maxWidth","Grid","container","xs","Chip","icon","Lock","Paper","sm","align","AppraisalUserInfo","setUserDetails","userData","periodData","buttonsCenter","flexFlow","alignItems","AppraisalUserDetails","userDetails","handleLockButton","finished","setFinished","startIcon","LockOpen","AppraisalDetails","AuthorizationRedirectComponent","failureNotification","notified","setNotified","isAuthorized","security","AppraisalDetailsPage","noDataText","paddingBottom","paddingTop","palette","text","ListItemsDisplay","collection","card","minWidth","flexDirection","cardActions","gridFlex","flexWrap","linkDecoration","textDecoration","AppraisalsPage","dialogOpen","setDialogOpen","path","useRouteMatch","handleClickPeriodMenu","clickFinishHandler","loadData","exact","Card","CardHeader","action","data-itemid","dataset","itemid","subheader","CardContent","CardActions","ctx","setCtx","setContext","grid","divider","addInput","itemAchievedText","HomePlannedItemsDisplay","newItemVal","setNewItemVal","setType","checkboxChangeHandler","checked","removeItem","borderColor","borderRadius","p","Divider","dense","FormControlLabel","control","Checkbox","ListItemSecondaryAction","HomePlannedItemsInfoProvider","HomePlannedItems","HomePage","themeDark","typography","fontFamily","join","themeLight","SettingsGeneral","userPreferences","setTheme","Switch","localStorage","setItem","createMuiTheme","TeamService","getTeamsPath","addTeamPath","team","getTeams","addTeam","AuthorizationService","getRolesPath","getCurrentUserSecuritiesPath","getUserSecuritiesPath","getOrganizationUsersSecuritiesPath","getRolesSecuritiesPath","getPermissionCodesPath","addPermissionPath","updatePermissionPath","deletePermissionPath","getRoles","getSecurities","getUserSecurities","getOrganizationUsersSecurities","getRolesSecurities","getPermissionCodes","addPermission","permission","updatePermission","deletePermission","index","TeamsEditComponent","rowData","teams","multiple","newVal","placeholder","OrganizationEditComponent","RoleEditComponent","roles","SettingsUsers","setData","setTeams","setRoles","columns","field","editable","render","t","editComponent","customFilterAndSearch","filterValue","fl","onRowUpdate","newData","oldData","resolve","reject","dataUpdate","tableData","catch","_teams","_roles","icons","materialTableUtils","searchFieldAlignment","SettingsAppraisalPeriods","SettingsAppraisalItems","SecurityInfoProvider","setLoaded","setPermissionCodes","setRolePermissions","setUserPermissions","codes","sort","b","rolesInfo","userInfo","rolesMap","forEach","reference","userPermissions","userPermMap","selector","toolBar","permissionDescription","permissionBox","SecurityDetailsRoleDisplay","rolePermissions","selectedRole","setSelectedRole","expanded","setExpanded","setFilter","handleSetPermission","handleAdd","permissionType","handleUpdate","handleClick","g","getPermissionChecked","Accordion","panel","isExpanded","AccordionSummary","aria-controls","expandIcon","gutterBottom","AccordionDetails","row","labelPlacement","SecurityDetailsUserDisplay","TabControl","mt","elevation","Tabs","centered","Tab","TabPanel","hidden","SecurityDetails","permissionCodes","selectedTab","setSetlectedTab","loaded","SettingsRolesPage","SettingsPage","ReportDetailsParametersEdit","template","possibleParams","setPossibleParams","newParam","setNewParam","handleChangeNewParam","handleUpdateParameter","parameters","resultParams","helperText","select","param","paths","pr","ReportDetailsParameters","d","ReportDetails","edit","setEdit","setDetails","updated","setUpdated","setParameters","handleUpdated","reportDetails","handleGenerate","reply","handleSave","PageHeader","mb","fullWidth","JSON","stringify","parse","textField","ReportNew","setDescription","setTemplate","parameter","setParameter","templates","setTemplates","selectedParameters","setSelectedParameters","set","handleChangeParameterName","handleChangeParameterValue","FormData","append","Table","TableBody","sp","TableRow","TableCell","ReportsInfoProvider","setReports","propTypes","PropTypes","isRequired","ReportsList","cellStyle","textOverflow","overflow","onRowClick","ReportsPage","ReportTemplatesList","require","default","paddedContainer","textarea","ceneteredItems","ReportTemplateDetails","updateResult","input","UploadFileComponent","file","setFile","setFilename","filelist","files","CloudUpload","buttons","AddTemplateStep","advanceStep","prevStep","multilineInput","JsonEditorComponent","Component","readOnly","Wrapper","OutlinedInput","rows","rowsMax","onKeyPress","console","log","AggregationStep","sample","setSample","handleSample","rel","TryOutStep","formContainer","ReportTemplateNew","activeStep","setActiveStep","setAggregation","selectedFile","setSelectedFile","stepLabels","nextStep","stepContents","Stepper","orientation","Step","StepLabel","StepContent","ReportTemplatesPage","ReportingPage","LoginPage","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","x","y","viewBox","enableBackground","xmlSpace","ForwardRef","fill","info","bg","bgLight","bgDark","warning","success","from","popUpContainer","backgroundColor","entry","opacity","popUpHeader","popUpWatermark","right","top","mixBlendMode","popUpDelimiter","borderTop","borderBottom","popUpToolbar","popUpTimer","left","background","popUpTimerOn","animationName","animationTimingFunction","popUpTimerOff","popUpControls","alignContent","popUpContent","PopUp","onBeforeClose","onAfterClose","entryLocal","setOpen","paused","setPaused","timerId","setTimerId","handleTimeout","setTimeout","togglePaused","clearTimeout","BackgroundWatermark","aria-hidden","src","play","pause","close","animationDuration","toUpperCase","bottom","containerTransition","animationTiminFunction","containerTransitionOff","animationFillMode","NotificationContainer","notificationRender","closing","setClosing","closeTimeOffset","res","NotificationManager","UserSecuritiesProvider","LoginService","currentUserPath","getCurrentUser","UserInfoProvider","verified","setVerified","split","GlobalCss","useStyle","between","App","Provider","ThemeProvider","CssBaseline","ReactDOM","StrictMode","actions"],"mappings":"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","file":"static/js/main.cc3a4189.chunk.js","sourcesContent":["/* eslint-disable react/jsx-filename-extension */\r\n/* eslint-disable react/jsx-props-no-spreading */\r\nimport React, { forwardRef } from 'react';\r\nimport {\r\n  AddBox,\r\n  ArrowDownward,\r\n  Check,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  Clear,\r\n  DeleteOutline,\r\n  Edit,\r\n  FilterList,\r\n  FirstPage,\r\n  LastPage,\r\n  Remove,\r\n  SaveAlt,\r\n  Search,\r\n  ViewColumn,\r\n  CloudDownload,\r\n} from '@material-ui/icons';\r\n\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  Download: forwardRef((props, ref) => <CloudDownload {...props} ref={ref} />),\r\n};\r\n\r\nexport default {\r\n  tableIcons,\r\n};\r\n","let nextId = 0;\r\n\r\nconst getNextId = () => {\r\n  if (nextId > 100000) {\r\n    nextId = 0;\r\n  }\r\n  nextId += 1;\r\n  return nextId;\r\n};\r\n\r\nconst NotificationService = {\r\n  notifications: [],\r\n  setNotifications(func) {\r\n    this.notifications = func(this.notifications);\r\n  },\r\n  addNotification(notification) { \r\n    this.setNotifications((prev) => {\r\n      const n = notification;\r\n      const copy = prev.slice();\r\n      n.id = getNextId();\r\n      copy.push(n);\r\n      return copy;\r\n    });\r\n  },\r\n  notify(notification) {\r\n    this.addNotification(notification);\r\n  },\r\n};\r\n\r\nexport default NotificationService;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC\"","import axios from 'axios';\nimport { downloadBlob } from 'download.js';\nimport NotificationService from './NotificationService';\n\nconst ReportingService = {\n  notify(type, header, content) {\n    NotificationService.notify({ type, header, content });\n  },\n  /**\n   * Templates\n   */\n  templatesPath: '/api/reporting/templates',\n  templatePath: (id) => `/api/reporting/templates/${id}`,\n  templateDownloadPath: (id) => `/api/reporting/templates/${id}/download`,\n  templateParametersPath: (id) => `/api/reporting/templates/${id}/parameters`,\n  generateTemplatePath: '/api/reporting/templates/generate',\n  templateSamplePath: '/api/reporting/templates/sample',\n\n  async getTemplates() {\n    try {\n      const response = await axios.get(this.templatesPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getTemplate(id) {\n    try {\n      const response = await axios.get(this.templatePath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async createTemplate(formdata) {\n    try {\n      const response = await axios.post(this.templatesPath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      if (response.status === 200) {\n        NotificationService.notify({\n          type: 'success',\n          header: 'Created',\n          content: 'Tempalte successfully created',\n        });\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateTemplate(id, update) {\n    try {\n      const response = await axios.put(this.templatePath(id), update);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async downloadTemplate(id, filename) {\n    try {\n      const response = await axios.post(this.templateDownloadPath(id), null, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        await downloadBlob(filename, response.data);\n      }\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getTempalteParameters(id) {\n    try {\n      const response = await axios.get(this.templateParametersPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async generateTemplate(formdata) {\n    try {\n      const response = await axios.post(this.generateTemplatePath, formdata, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        NotificationService.notify({\n          type: 'success',\n          header: 'Generated',\n          content: 'Tempalte successfully generated',\n        });\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getSample(aggregation) {\n    try {\n      const response = await axios.post(this.templateSamplePath, { aggregation });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  /**\n   * Reports\n   */\n  reportPath: (id) => `/api/reporting/reports/${id}`,\n  postReportGeneratePath: (id) => `/api/reporting/reports/${id}/generate`,\n  reportsPath: '/api/reporting/reports',\n\n  async getReports() {\n    try {\n      const response = await axios.get(this.reportsPath);\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async getReport(id) {\n    try {\n      const response = await axios.get(this.reportPath(id));\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async addReport(formData) {\n    try {\n      const result = await axios.post(this.reportsPath, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      return result.data;\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async updateReport(id, update) {\n    try {\n      const result = await axios.put(this.reportPath(id), update);\n      return result.data;\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n\n  async generateReport(id, params) {\n    try {\n      const response = await axios.post(this.postReportGeneratePath(id), params, {\n        responseType: 'blob',\n      });\n      if (response.status === 200) {\n        return response.data;\n      }\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\n    } catch (err) {\n      this.notify('error', 'Error', (err.response && err.response.data && err.response.data.error));\n      throw err;\n    }\n  },\n};\n\nexport default ReportingService;\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    flexGrow: 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: 'hidden',\r\n    width: 0,\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(7) + 1,\r\n    },\r\n  },\r\n  avatar: {\r\n    cursor: 'pointer',\r\n  },\r\n}));\r\n\r\nexport default styles;\r\n","import React from 'react';\r\n\r\nconst GlobalContext = React.createContext({});\r\n\r\nexport default GlobalContext;\r\n","import AuthorizationComponent from './AuthorizationComponent';\r\n\r\nexport default AuthorizationComponent;\r\n","import { useContext, useState, useEffect } from 'react';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst AuthorizationComponent = ({\r\n  code, grant, onReject, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setAccess(global.Authorize(code, grant));\r\n  }, [global, code, grant]);\r\n\r\n  if (access) {\r\n    return props.children;\r\n  } if (onReject) {\r\n    return onReject();\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default AuthorizationComponent;\r\n","import SettingsNavigation from './SettingsNavigation';\r\n\r\nexport default SettingsNavigation;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  People as PeopleIcon,\r\n  Equalizer as EqualizerIcon,\r\n  Notes as NotesIcon,\r\n  DesktopMac as DesktopMacIcon,\r\n  VpnKey as KeyIcon,\r\n} from '@material-ui/icons';\r\nimport {\r\n  List,\r\n  ListItemIcon,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@material-ui/core';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\n\r\nconst SettingsNavigation = () => (\r\n  <List component=\"div\" disablePadding>\r\n    <AuthorizationComponent code=\"SETTINGS\" grant=\"general\">\r\n      <ListItem button component={Link} to=\"/settings\">\r\n        <ListItemIcon>\r\n          <DesktopMacIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"General\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n    <AuthorizationComponent code=\"SETTINGS\" grant=\"users\">\r\n      <ListItem button component={Link} to=\"/settings/users\">\r\n        <ListItemIcon>\r\n          <PeopleIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Users\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n    <AuthorizationComponent code=\"SETTINGS\" grant=\"appraisal-periods\">\r\n      <ListItem button component={Link} to=\"/settings/appraisal-periods\">\r\n        <ListItemIcon>\r\n          <EqualizerIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Appraisal-periods\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n    <AuthorizationComponent code=\"SETTINGS\" grant=\"appraisal-items\">\r\n      <ListItem button component={Link} to=\"/settings/appraisal-items\">\r\n        <ListItemIcon>\r\n          <NotesIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Appraisal-items\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n    <AuthorizationComponent code=\"SETTINGS\" grant=\"permissions\">\r\n      <ListItem button component={Link} to=\"/settings/permissions\">\r\n        <ListItemIcon>\r\n          <KeyIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Permissions\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n  </List>\r\n);\r\n\r\nexport default SettingsNavigation;\r\n","import ReportsNavigation from './ReportsNavigation';\r\n\r\nexport default ReportsNavigation;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Assessment as AssessmentIcon,\r\n  FileCopy as FileCopyIcon,\r\n} from '@material-ui/icons';\r\nimport {\r\n  List,\r\n  ListItemIcon,\r\n  ListItem,\r\n  ListItemText,\r\n} from '@material-ui/core';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\n\r\nconst ReportsNavigation = () => (\r\n  <List component=\"div\" disablePadding>\r\n    <AuthorizationComponent code=\"REPORTS\" grant=\"read\">\r\n      <ListItem button component={Link} to=\"/reporting/reports\">\r\n        <ListItemIcon>\r\n          <AssessmentIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Reports\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n    <AuthorizationComponent code=\"REPORT-TEMPLATES\" grant=\"read\">\r\n      <ListItem button component={Link} to=\"/reporting/templates\">\r\n        <ListItemIcon>\r\n          <FileCopyIcon fontSize=\"small\" />\r\n        </ListItemIcon>\r\n        <ListItemText secondary=\"Templates\" />\r\n      </ListItem>\r\n    </AuthorizationComponent>\r\n  </List>\r\n);\r\n\r\nexport default ReportsNavigation;\r\n","import React, { useContext, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Menu as MenuIcon,\r\n  Home as HomeIcon,\r\n  CallToAction,\r\n  Feedback as FeedbackIcon,\r\n  Settings as SettingsIcon,\r\n  PieChart as PieChartIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  Build as BuildIcon,\r\n  ExpandLess as ExpandLessIcon,\r\n  PanTool as PanToolIcon,\r\n} from '@material-ui/icons';\r\nimport {\r\n  AppBar, Drawer,\r\n  List, ListItem,\r\n  ListItemText, Collapse,\r\n  IconButton, Avatar,\r\n  Toolbar, ListItemIcon,\r\n  Button, Typography,\r\n  Link as MuiLink, Menu,\r\n  MenuItem,\r\n} from '@material-ui/core';\r\nimport clsx from 'clsx';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './styles';\r\n\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport SettingsNavigation from './components/settings-navigation';\r\nimport ReportsNavigation from './components/reports-navigation';\r\nimport AuthorizationComponent from '../shared/authorization-component';\r\n\r\nconst ListItemLink = ({ to, children }) => (\r\n  <ListItem button component={Link} to={to}>{children}</ListItem>\r\n);\r\n\r\nexport default function Navigation() {\r\n  const global = useContext(GlobalContext);\r\n  const [navPaneOpened, setOpened] = useState(false);\r\n  const [userMenuAnchorEl, setUserMenuAnchorEl] = useState(null);\r\n  const [collapses, setCollapses] = useState({\r\n    settings: false,\r\n  });\r\n  const classes = styles();\r\n\r\n  const handleCollapseToggle = (type) => () => {\r\n    setCollapses((prev) => ({ ...prev, [type]: !prev[type] }));\r\n  };\r\n\r\n  const handleClickUserMenu = (evt) => {\r\n    setUserMenuAnchorEl(evt.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setUserMenuAnchorEl(null);\r\n  };\r\n\r\n  const toggleDrawer = (e) => {\r\n    if (e.type === 'keydown' && (e.key === 'Tab' || e.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setOpened(!navPaneOpened);\r\n  };\r\n\r\n  const displayName = global.user\r\n    ? (global.user.displayName || global.user.username)\r\n    : 'Unknown';\r\n\r\n  const UserAvatar = (\r\n    <Avatar\r\n      title={displayName}\r\n      alt={displayName}\r\n      onClick={handleClickUserMenu}\r\n      className={classes.avatar}\r\n    >\r\n      { global.user && global.user.avatar }\r\n    </Avatar>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <AppBar\r\n        id=\"app-bar-fixed\"\r\n        position=\"fixed\"\r\n        className={clsx(classes.root, classes.appBar, {\r\n          [classes.appBarShift]: navPaneOpened,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            arial-label=\"drawer\"\r\n            onClick={toggleDrawer}\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: navPaneOpened,\r\n            })}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <BuildIcon style={{ marginRight: 15 }} />\r\n          <Typography variant=\"h6\" className={clsx(classes.title)}>\r\n            Admin Tools\r\n          </Typography>\r\n          {\r\n                        global.user\r\n                          ? (\r\n                            <Toolbar>\r\n                              {UserAvatar}\r\n                              <Menu\r\n                                id=\"user-menu\"\r\n                                anchorEl={userMenuAnchorEl}\r\n                                keepMounted\r\n                                open={Boolean(userMenuAnchorEl)}\r\n                                onClose={handleClose}\r\n                                getContentAnchorEl={null}\r\n                                anchorOrigin={{\r\n                                  vertical: 'bottom',\r\n                                  horizontal: 'center',\r\n                                }}\r\n                                transformOrigin={{\r\n                                  vertical: 'top',\r\n                                  horizontal: 'center',\r\n                                }}\r\n                              >\r\n                                <MuiLink href=\"/api/logout\" color=\"inherit\">\r\n                                  <MenuItem>Logout</MenuItem>\r\n                                </MuiLink>\r\n                              </Menu>\r\n                            </Toolbar>\r\n                          )\r\n                          : (\r\n                            <div>\r\n                              { global.userLoaded\r\n                                ? (\r\n                                  <MuiLink href=\"/api/login\" color=\"inherit\">\r\n                                    <Button edge=\"end\" color=\"inherit\">Login</Button>\r\n                                  </MuiLink>\r\n                                )\r\n                                : null}\r\n                            </div>\r\n                          )\r\n                    }\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div style={{\r\n        width: '100%',\r\n        height: (document.getElementById('app-bar-fixed') ? document.getElementById('app-bar-fixed').clientHeight : 0),\r\n      }}\r\n      />\r\n      <Drawer\r\n        id=\"navigation-drawer\"\r\n        variant=\"permanent\"\r\n        anchor=\"left\"\r\n        open={navPaneOpened}\r\n        onClose={() => setOpened(false)}\r\n        className={clsx(classes.drawer, {\r\n          [classes.drawerOpen]: navPaneOpened,\r\n          [classes.drawerClose]: !navPaneOpened,\r\n        })}\r\n        classes={{\r\n          paper: clsx({\r\n            [classes.drawerOpen]: navPaneOpened,\r\n            [classes.drawerClose]: !navPaneOpened,\r\n          }),\r\n        }}\r\n      >\r\n        <IconButton onClick={toggleDrawer}>\r\n          <CallToAction fontSize=\"large\" style={{ alignSelf: 'center' }} />\r\n        </IconButton>\r\n        <List>\r\n          <ListItemLink to=\"/\">\r\n            <ListItemIcon>\r\n              <HomeIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Home\" />\r\n          </ListItemLink>\r\n          <AuthorizationComponent code=\"APPRAISAL PERIODS\" grant=\"read\">\r\n            <ListItemLink to=\"/appraisals\">\r\n              <ListItemIcon>\r\n                <FeedbackIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Appraisals\" />\r\n            </ListItemLink>\r\n          </AuthorizationComponent>\r\n          <AuthorizationComponent code=\"AUDITS\" grant=\"read\">\r\n            <ListItemLink to=\"/audits\">\r\n              <ListItemIcon>\r\n                <PanToolIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Audits\" />\r\n            </ListItemLink>\r\n          </AuthorizationComponent>\r\n          <AuthorizationComponent code=\"REPORTS\" grant=\"read\">\r\n            <ListItem button onClick={handleCollapseToggle('reports')}>\r\n              <ListItemIcon>\r\n                <PieChartIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Reporting\" />\r\n              {collapses.reports ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n            </ListItem>\r\n            <Collapse in={collapses.reports}>\r\n              <ReportsNavigation />\r\n            </Collapse>\r\n          </AuthorizationComponent>\r\n          <AuthorizationComponent code=\"SETTINGS\" grant=\"read\">\r\n            <ListItem button onClick={handleCollapseToggle('settings')}>\r\n              <ListItemIcon>\r\n                <SettingsIcon />\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Settings\" />\r\n              {collapses.settings ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n            </ListItem>\r\n            <Collapse in={collapses.settings}>\r\n              <SettingsNavigation />\r\n            </Collapse>\r\n          </AuthorizationComponent>\r\n        </List>\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n\r\nListItemLink.propTypes = {\r\n  to: PropTypes.string.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n","const validItemTypes = [\r\n  'Planned',\r\n  'Achieved',\r\n  'Training_Planned',\r\n  'Training_Achieved',\r\n  'SWOT_S',\r\n  'SWOT_W',\r\n  'SWOT_O',\r\n  'SWOT_T',\r\n];\r\n\r\nconst validItemStatuses = [\r\n  'Active',\r\n  'Finished',\r\n  'InProgress',\r\n];\r\n\r\nexport function Item(item) {\r\n  this.id = item.id ? item.id : 0;\r\n  this.type = item.type;\r\n  this.status = item.status ? item.status : 'Active';\r\n  this.content = item.content ? item.content : '';\r\n  this.periodId = item.periodId;\r\n  this.organizationId = item.organizationId ? item.organizationId : null;\r\n  this.user = item.user;\r\n  this.modifiedUser = item.modifiedUser ? item.modifiedUser : null;\r\n  this.modifiedDate = item.modifiedDate ? item.modifiedDate : null;\r\n  this.createdUser = item.createdUser ? item.createdUser : item.user;\r\n  this.createdDate = item.createdDate ? item.createdDate : new Date();\r\n}\r\n\r\nexport function validate(item) {\r\n  if (validItemTypes.indexOf(item.type) === -1) throw new Error(`Item type not valid: ${item.type}`);\r\n  if (validItemStatuses.indexOf(item.status) === -1) throw new Error(`Item status not valid: ${item.status}`);\r\n  if (item.periodId === 0) throw new Error(`Item periodId not valid: ${item.periodId}`);\r\n  if (!item.user) throw new Error(`Item user not valid: ${item.user}`);\r\n}\r\n\r\nexport function validateId(item) {\r\n  if (!item.id || item.id === 0) throw new Error(`Item id not valid: ${item.type}`);\r\n}\r\n\r\nexport default {\r\n  Item,\r\n  validate,\r\n  validateId,\r\n};\r\n","/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst and = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.every((v) => v.result)) {\r\n      return results[0];\r\n    }\r\n    return results.find((v) => v.result === false);\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: err.message,\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst andSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (!last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst or = (validations) => async () => {\r\n  try {\r\n    if (validations.length === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    const results = await Promise.all(validations.map((v) => v()));\r\n    if (results.some((v) => v.result)) {\r\n      return results.find((v) => v.result);\r\n    }\r\n    return results[results.length - 1];\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array.<function(): {result: boolean, message: string}>} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst orSync = (validations) => () => {\r\n  try {\r\n    const l = validations.length;\r\n    if (l === 0) {\r\n      throw new Error('No validations provided');\r\n    }\r\n    let last;\r\n    for (let i = 0; i < l; i += 1) {\r\n      last = validations[i]();\r\n      if (last.result) break;\r\n    }\r\n    return last;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst not = (validation) => async () => {\r\n  try {\r\n    const val = await validation();\r\n    val.result = !val.result;\r\n    val.message = `Not - ${val.message}`;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * @param {function(): {result: boolean, message: string}} validations\r\n * @return {function(): {result: boolean, message: string}} validations\r\n */\r\nconst notSync = (validation) => () => {\r\n  try {\r\n    const val = validation();\r\n    val.result = !val.result;\r\n    return val;\r\n  } catch (err) {\r\n    return {\r\n      result: false,\r\n      message: 'error',\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {Promise<{result: boolean, message: string}>}\r\n */\r\nconst perform = async (validation, throwExceptions = true) => {\r\n  const v = await validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\n/**\r\n *\r\n * @param {function(): {result: boolean, message: string}} validation\r\n * @param {boolean} throwExceptions\r\n * @returns {{ result: boolean, message: string }}\r\n */\r\nconst performSync = (validation, throwExceptions = true) => {\r\n  const v = validation();\r\n  if (!v.result) {\r\n    if (throwExceptions) {\r\n      throw new Error(v.message);\r\n    } else {\r\n      return v;\r\n    }\r\n  } else {\r\n    return v;\r\n  }\r\n};\r\n\r\nexport default {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\nconst userExists = (user) => async () => ({\r\n  result: Boolean(user),\r\n  message: 'User doesn\\'t exist.',\r\n});\r\n\r\nconst userAuthorized = (context, code, grant) => async () => ({\r\n  result: context.Authorize(code, grant),\r\n  message: `Access denied. Code: ${code}, Grant: ${grant}`,\r\n});\r\n\r\nexport default {\r\n  userExists,\r\n  userAuthorized,\r\n};\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\n\r\n/**\r\n * @param {any} obj\r\n * @returns {function(): {result: boolean, message: string}} validation result\r\n */\r\nconst isTruthy = (obj) => () => ({\r\n  result: Boolean(obj),\r\n  message: `${obj} is not true`,\r\n});\r\n\r\nexport default {\r\n  isTruthy,\r\n};\r\n","const constants = {\r\n  securities: {\r\n    REPORTS: {\r\n      code: 'REPORTS',\r\n      description: 'Access to view, generate, create and edit reports',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS: {\r\n      code: 'APPRAISAL DETAILS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for user himself',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n      },\r\n    },\r\n    APPRAISAL_DETAILS_OTHER: {\r\n      code: 'APPRAISAL DETAILS - OTHER USERS',\r\n      description: 'Access to see, add, edit, delete Appraisal details for other users within the team',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        createFinished: 'create-finished',\r\n        updateFinished: 'update-finished',\r\n        deleteFinished: 'delete-finished',\r\n        toggleLock: 'toggle-lock',\r\n      },\r\n    },\r\n    APPRAISAL_PERIODS: {\r\n      code: 'APPRAISAL PERIODS',\r\n      description: 'Access to see, add, edit, finish Appraisal Periods',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n        finish: 'finish',\r\n      },\r\n    },\r\n    SETTINGS: {\r\n      code: 'SETTINGS',\r\n      description: 'Access to various settings. Be careful about following: users - will allow users to modify other users; permissions - will allow users to alter permissions',\r\n      grants: {\r\n        read: 'read',\r\n        general: 'general',\r\n        users: 'users',\r\n        appraisalItems: 'appraisal-items',\r\n        appraisalPeriods: 'appraisal-periods',\r\n        permissions: 'permissions',\r\n      },\r\n    },\r\n    AUDITS: {\r\n      code: 'AUDITS',\r\n      description: 'Access to request, execute, update, delete audits.',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n    REPORT_TEMPLATES: {\r\n      code: 'REPORT-TEMPLATES',\r\n      description: 'Access to create and edit report templates',\r\n      grants: {\r\n        read: 'read',\r\n        create: 'create',\r\n        update: 'update',\r\n        delete: 'delete',\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport default constants;\r\n","/**\r\n * This file contains valious validation functions.\r\n * Function schema\r\n * @param {any} args - any arguments function might use\r\n * @returns {function(): {result: boolean, message: string}}\r\n */\r\nimport operators from './operators';\r\nimport userVal from './UserValidators';\r\nimport generalVal from './General';\r\nimport constants from '../../utils/constants';\r\n\r\nconst {\r\n  and, or, not, perform,\r\n} = operators;\r\nconst AD = constants.securities.APPRAISAL_DETAILS;\r\nconst ADO = constants.securities.APPRAISAL_DETAILS_OTHER;\r\n\r\nconst periodExists = (period) => async () => ({\r\n  result: Boolean(period),\r\n  message: 'Period doesn\\'t exist.',\r\n});\r\n\r\nconst periodLocked = (period, userId, message = null) => async () => {\r\n  const { users } = period;\r\n  if (users) {\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    const userPeriod = users.find((u) => u._id === userId);\r\n    if (userPeriod) {\r\n      return {\r\n        result: Boolean(userPeriod.locked),\r\n        message: message || 'Period is not locked',\r\n      };\r\n    }\r\n  }\r\n  return {\r\n    result: false,\r\n    message: message || 'Period is not locked',\r\n  };\r\n};\r\n\r\nconst itemExists = (item) => async () => ({\r\n  result: Boolean(item),\r\n  message: 'Item doesn\\'t exist.',\r\n});\r\n\r\nconst periodStatus = (period, status) => async () => ({\r\n  result: Boolean(period.status === status),\r\n  message: `Period '${period.name}' status is not valid. Expected (${status})`,\r\n});\r\n\r\nconst itemStatus = (item, status) => async () => ({\r\n  result: Boolean(item.status === status),\r\n  message: `Item '${item.content}' status is not valid. Expected '${status}'.`,\r\n});\r\n\r\nconst itemType = (item, type) => async () => ({\r\n  result: Boolean(item.type === type),\r\n  message: `Item '${item.content}' type is not valid. Expected '${type}'.`,\r\n});\r\n\r\nconst itemSameUser = (item, user) => async () => ({\r\n  result: Boolean(String(item.user) === String(user.id)),\r\n  message: `Item '${item.content}'s user is not the same as '${user.username}'`,\r\n});\r\n\r\nconst itemRelated = (item) => async () => ({\r\n  result: Boolean(item.relatedItemId),\r\n  message: 'Item is related.',\r\n});\r\n\r\nconst itemContentNotNull = (item) => async () => ({\r\n  result: Boolean(item.content.trim().length > 0),\r\n  message: 'Item content is empty',\r\n});\r\n\r\nconst canInsert = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.create),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.create),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.createFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.createFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canUpdate = (context, period, userId) => async () => {\r\n  const result = perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.update),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.update),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.updateFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.updateFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nconst canDelete = (context, period, userId) => async () => {\r\n  const result = await perform(or([\r\n    and([\r\n      periodStatus(period, 'Active'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.delete),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.delete),\r\n        ]),\r\n      ]),\r\n    ]),\r\n    and([\r\n      periodStatus(period, 'Finished'),\r\n      or([\r\n        and([\r\n          not(generalVal.isTruthy(userId)),\r\n          userVal.userAuthorized(context, AD.code, AD.grants.deleteFinished),\r\n        ]),\r\n        and([\r\n          generalVal.isTruthy(userId),\r\n          userVal.userAuthorized(context, ADO.code, ADO.grants.deleteFinished),\r\n        ]),\r\n      ]),\r\n    ]),\r\n  ]), false);\r\n  return result;\r\n};\r\n\r\nexport default {\r\n  periodExists,\r\n  itemExists,\r\n  periodStatus,\r\n  periodLocked,\r\n  itemStatus,\r\n  itemType,\r\n  itemSameUser,\r\n  itemRelated,\r\n  itemContentNotNull,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n};\r\n","import appraisalValidators from './AppraisalValidators';\r\nimport userValidators from './UserValidators';\r\nimport generalValidators from './General';\r\nimport operators from './operators';\r\n\r\nconst {\r\n  and, andSync, or, orSync, not, notSync, perform, performSync,\r\n} = operators;\r\n\r\nconst validate = {\r\n  ...appraisalValidators,\r\n  ...userValidators,\r\n  ...generalValidators,\r\n};\r\n\r\nexport {\r\n  and,\r\n  andSync,\r\n  or,\r\n  orSync,\r\n  not,\r\n  notSync,\r\n  perform,\r\n  performSync,\r\n  validate,\r\n};\r\n","import axios from 'axios';\r\nimport { Item } from '../models/AppraisalItemModel';\r\nimport NotificationService from './NotificationService';\r\nimport {\r\n  and, perform, validate,\r\n} from './validators';\r\n\r\nconst AppraisalService = {\r\n  getPeriodsPath: '/api/periods',\r\n  addPeriodsPath: '/api/periods',\r\n  getItemsPath: (id) => `/api/periods/${id}`,\r\n  getUserItemsPath: (id, userId) => `/api/periods/${id}/users/${userId}`,\r\n  toggleLockPeriodPath: (id, userId) => `/api/periods/${id}/users/${userId}/toggle-lock`,\r\n  getItemPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  getOrphansPath: '/api/appraisal-items',\r\n  addItemPath: '/api/appraisal-items',\r\n  updateItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  deleteItemPath: (id) => `/api/appraisal-items/${id}`,\r\n  addItemToPeriodPath: (periodId) => `/api/periods/${periodId}/items`,\r\n  addUserItemPath: (periodId, userId) => `/api/periods/${periodId}/users/${userId}/items`,\r\n  updateItemInPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  updateUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  deleteItemFromPeriodPath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}`,\r\n  deleteUserItemPath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}`,\r\n  finishPeriodPath: (periodId) => `/api/periods/${periodId}/finish`,\r\n  updateItemTypePath: (periodId, itemId) => `/api/periods/${periodId}/items/${itemId}/change-type`,\r\n  updateUserItemTypePath: (periodId, userId, itemId) => `/api/periods/${periodId}/users/${userId}/items/${itemId}/change-type`,\r\n\r\n  async getPeriods() {\r\n    try {\r\n      const response = await axios.get(this.getPeriodsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItems(periodId) {\r\n    try {\r\n      const response = await axios.get(this.getItemsPath(periodId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrphans(type = null) {\r\n    try {\r\n      const response = await axios.get(this.getOrphansPath, {\r\n        params: {\r\n          type,\r\n        },\r\n      });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserItems(periodId, userId) {\r\n    try {\r\n      const response = await axios.get(this.getUserItemsPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getItem(periodId, itemId) {\r\n    try {\r\n      const response = await axios.get(this.getItemPath(periodId, itemId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addItem(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addItemToPeriodPath(periodId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addOrphan(item) {\r\n    try {\r\n      const response = await axios.post(this.addItemPath, item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(this.addUserItemPath(periodId, userId), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemInPeriod(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n        validate.isTruthy(item.periodId),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemInPeriodPath(periodId, item.id), { ...item });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItem(item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(this.updateItemPath(item.id), item);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItem(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.put(\r\n        this.updateUserItemPath(periodId, userId, item.id), { ...item },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateItemType(periodId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateItemTypePath(periodId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUserItemType(periodId, userId, item) {\r\n    try {\r\n      const validations = and([\r\n        validate.itemContentNotNull(item),\r\n        validate.isTruthy(item.user),\r\n      ]);\r\n      await perform(validations);\r\n      const response = await axios.post(\r\n        this.updateUserItemTypePath(periodId, userId, item.id), { type: item.type },\r\n      );\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItemFromPeriod(periodId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemFromPeriodPath(periodId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteItem(itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteItemPath(itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deleteUserItem(periodId, userId, itemId) {\r\n    try {\r\n      const response = await axios.delete(this.deleteUserItemPath(periodId, userId, itemId));\r\n      if (response.status === 204) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPeriod(body) {\r\n    try {\r\n      const response = await axios.post(this.addPeriodsPath, body);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async finishPeriod(periodId) {\r\n    try {\r\n      const response = await axios.post(this.finishPeriodPath(periodId));\r\n      if (response.status === 200) {\r\n        return true;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param {String} periodId\r\n   * @param {String} userId\r\n   * @returns {any} the updated period\r\n   */\r\n  async toggleLockPeriod(periodId, userId) {\r\n    try {\r\n      if (!userId) throw new Error('User is unknown');\r\n      const response = await axios.post(this.toggleLockPeriodPath(periodId, userId));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  blankItem(periodId, user, type, status = 'Active') {\r\n    return new Item({\r\n      type,\r\n      status,\r\n      periodId,\r\n      user: user ? user.id : null,\r\n    });\r\n  },\r\n\r\n  /*\r\n   * Given the items, minimum amount and their type:\r\n   * this function should return back the adjusted items collection:\r\n   * 1. if number of items < min => add blank items to fullfil the list\r\n   * 2. if number of items > min and blank items > 1 => remove blank items until\r\n   * blank items = 1 or number of items = min\r\n   */\r\n  normalizeSet(periodId, user, items, min, type) {\r\n    const copy = items.slice().filter((i) => i.user !== null);\r\n    if (!user) {\r\n      return copy;\r\n    } if (type === 'Feedback' && items.length > 0) {\r\n      return copy;\r\n    }\r\n    // array of empty indexes ex: [1, 4, 5]\r\n    const empty = copy.map((i, idx) => idx).filter((i) => copy[i].content === '');\r\n    if (empty.length === 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n    }\r\n    let dif = min - copy.length;\r\n    while (dif > 0) {\r\n      copy.push(this.blankItem(periodId, user, type));\r\n      dif -= 1;\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  async addItemToSet(periodId, item) {\r\n    try {\r\n      const result = await this.addItem(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async addUserItemToSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.addUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: null,\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteItemFromSet(periodId, item) {\r\n    try {\r\n      const result = await this.deleteItemFromPeriod(periodId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async deleteUserItemFromSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.deleteUserItem(periodId, userId, item.id);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateItemInSet(periodId, item) {\r\n    try {\r\n      const result = await this.updateItemInPeriod(periodId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n\r\n  async updateUserItemInSet(periodId, userId, item) {\r\n    try {\r\n      const result = await this.updateUserItem(periodId, userId, item);\r\n      return {\r\n        value: result,\r\n        error: null,\r\n      };\r\n    } catch (err) {\r\n      return {\r\n        value: await this.getItem(periodId, item.id),\r\n        error: err,\r\n      };\r\n    }\r\n  },\r\n};\r\n\r\nexport default AppraisalService;\r\n","import DialogDisplay from './DialogDisplay';\r\n\r\nexport default DialogDisplay;\r\n","import React, { useState, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  FormGroup,\r\n  Select,\r\n  MenuItem,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport GlobalContext from '../../../../services/GlobalContext';\r\n\r\nconst DialogDisplay = ({\r\n  open,\r\n  selectValues,\r\n  handleSubmit,\r\n  handleClose,\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [name, setName] = useState('');\r\n  const [status, setStatus] = useState(selectValues[0]);\r\n\r\n  const handleNameChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  const handleSubmitWrapper = async (e) => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    await handleSubmit(name, status, global.user.organization.id);\r\n  };\r\n\r\n  const handleCloseWrapper = (e) => {\r\n    setStatus(selectValues[0]);\r\n    handleClose(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleCloseWrapper}\r\n        aria-labelledby=\"new-period-dialog\"\r\n      >\r\n        <DialogTitle id=\"new-period-dialog\">Create new period</DialogTitle>\r\n        <DialogContent>\r\n          <form onSubmit={handleSubmitWrapper}>\r\n            <FormGroup>\r\n              <FormControl color=\"primary\" required>\r\n                <InputLabel htmlFor=\"new-period-name\">Period name</InputLabel>\r\n                <Input id=\"new-period-name\" name=\"name\" value={name} onChange={handleNameChange} />\r\n              </FormControl>\r\n              <FormControl color=\"primary\" required>\r\n                <InputLabel htmlFor=\"new-period-status\">Status</InputLabel>\r\n                <Select id=\"new-period-status\" name=\"status\" value={status} onChange={handleStatusChange}>\r\n                  {\r\n                    selectValues\r\n                      ? selectValues.map((e) => (\r\n                        <MenuItem key={e} value={e}>{e}</MenuItem>\r\n                      ))\r\n                      : null\r\n                  }\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl style={{ margin: 20 }}>\r\n                <Button type=\"submit\" color=\"primary\" variant=\"contained\">\r\n                  Save\r\n                </Button>\r\n              </FormControl>\r\n            </FormGroup>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nDialogDisplay.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  selectValues: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  handleSubmit: PropTypes.func.isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DialogDisplay;\r\n","import NewPeriodDialog from './NewPeriodDialog';\r\n\r\nexport default NewPeriodDialog;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport DialogDisplay from './components/dialog-display';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport NotificationService from '../../services/NotificationService';\r\n\r\nconst NewPeriodDialog = ({\r\n  context,\r\n  open,\r\n  handleClose,\r\n  setItems,\r\n}) => {\r\n  const selectValues = [\r\n    'Active',\r\n    'Finished',\r\n  ];\r\n  const handleSubmit = async (name, status, org) => {\r\n    const result = await AppraisalService.addPeriod({\r\n      name, status, organizationId: org, createdUser: context.user.id,\r\n    });\r\n    setItems((prev) => prev.slice().concat(result));\r\n    handleClose();\r\n    NotificationService.notify({\r\n      type: 'success',\r\n      header: 'Created',\r\n      content: `Period '${name}' created`,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DialogDisplay\r\n        open={open}\r\n        selectValues={selectValues}\r\n        handleSubmit={handleSubmit}\r\n        handleClose={handleClose}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nNewPeriodDialog.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  handleClose: PropTypes.func.isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default NewPeriodDialog;\r\n","import LoginRequired from './LoginRequired';\r\n\r\nexport default LoginRequired;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst LoginRequired = () => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      // const user = await LoginService.getCurrentUser();\r\n\r\n      if (!global.userLoaded) return;\r\n      // There is no user anymore, probably logged out, so we need to remove it from the state\r\n      if (global.user === null) {\r\n        setRedirect(true);\r\n      }\r\n    }\r\n    getUser();\r\n  }, [global]);\r\n\r\n  return (\r\n    <>\r\n      {redirect\r\n        ? <Redirect to=\"/login\" />\r\n        : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginRequired;\r\n","import AppraisalDetailsInfo from './AppraisalDetailsInfo';\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\n\r\nconst AppraisalDetailsInfo = ({ periodId, setPeriodDetails }) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      const data = await AppraisalService.getItems(periodId);\r\n      setPeriodDetails(data);\r\n    }\r\n    run();\r\n  }, [periodId, setPeriodDetails]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default AppraisalDetailsInfo;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '80%',\r\n  },\r\n  feedBackInput: {\r\n    width: '90%',\r\n    '& textarea': {\r\n      minHeight: 300,\r\n    },\r\n  },\r\n  startAdornment: {\r\n    cursor: 'pointer',\r\n    '& > *:last-child': {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import AppraisalInput from './AppraisalInput';\r\n\r\nexport default AppraisalInput;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  InputAdornment,\r\n  IconButton,\r\n  TextField,\r\n  Tooltip,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport {\r\n  Delete,\r\n  Info,\r\n  MoreVert,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from '@material-ui/icons';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport useStyles from './styles';\r\nimport {\r\n  validate, perform, not, and, or,\r\n} from '../../../../services/validators';\r\n\r\nconst AppraisalInput = ({\r\n  item,\r\n  idx,\r\n  changeHandler,\r\n  blurHandler,\r\n  removeHandler,\r\n  changeTypeHandler,\r\n  canInsert,\r\n  canUpdate,\r\n  canDelete,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState({ ...item });\r\n  const [modified, setModified] = useState(false);\r\n  const [itemMenuAnchorEl, setItemMenuAnchorEl] = useState(null);\r\n  const { userId } = useParams();\r\n  const [validations, setValidations] = useState({\r\n    isRelated: false,\r\n    isDeletable: false,\r\n    isFinished: false,\r\n    inputEditable: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const calls = [\r\n        perform(validate.itemRelated(item), false),\r\n        perform(validate.itemStatus(item, 'Finished'), false),\r\n        perform(and([\r\n          not(validate.itemRelated(item)),\r\n          or([\r\n            not(validate.isTruthy(userId)),\r\n            validate.isTruthy(userId),\r\n          ]),\r\n        ]), false),\r\n      ];\r\n      const [checkRelated, checkFinished, checkEditable] = await Promise.all(calls);\r\n      const isRelated = checkRelated.result;\r\n      const isFinished = checkFinished.result;\r\n      const inputEditable = (canInsert || canUpdate)\r\n      && checkEditable.result;\r\n      const isDeletable = canDelete && !isRelated;\r\n      if (mounted) {\r\n        setValidations({\r\n          isRelated,\r\n          isDeletable,\r\n          isFinished,\r\n          inputEditable,\r\n        });\r\n      }\r\n    }\r\n    setValue({ ...item });\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [item, canInsert, canUpdate, canDelete, userId]);\r\n\r\n  const showEndAdornment = () => {\r\n    if (item.type === 'Feedback') return false;\r\n    return [canInsert, canUpdate, canDelete].some((e) => e);\r\n  };\r\n\r\n  const handleClickUserMenu = (evt) => {\r\n    setItemMenuAnchorEl(evt.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setItemMenuAnchorEl(null);\r\n  };\r\n\r\n  const handleBlur = async (e) => {\r\n    e.persist();\r\n    const mod = modified;\r\n    setModified(false);\r\n    await blurHandler(value, idx, mod);\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValue({ ...item, content: e.target.value });\r\n    changeHandler({ ...value, content: e.target.value }, idx, !modified);\r\n    setModified(true);\r\n  };\r\n\r\n  const handleTypeChange = (type) => async () => {\r\n    if (item.id !== 0) { await changeTypeHandler(item.id, type); }\r\n    handleClose();\r\n  };\r\n\r\n  const handleDelete = async (e) => {\r\n    e.persist();\r\n    setValue({ ...item, content: '' });\r\n    await removeHandler(value, idx);\r\n    setModified(false);\r\n    handleClose();\r\n  };\r\n\r\n  const tooltip = (\r\n    <>\r\n      {\r\n        validations.isRelated\r\n          ? (\r\n            <Typography variant=\"caption\">\r\n              This item was added automatically from your previous appraisals\r\n              <br />\r\n            </Typography>\r\n          )\r\n          : null\r\n      }\r\n      <Typography variant=\"caption\">\r\n        <strong>Created user:</strong>\r\n        {' '}\r\n        {item.createdUser && item.createdUser.username}\r\n      </Typography>\r\n      <br />\r\n      <Typography variant=\"caption\">\r\n        <strong>Created date:</strong>\r\n        {' '}\r\n        {item.createdDate && new Date(item.createdDate).toLocaleString()}\r\n      </Typography>\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <br />\r\n              <Typography variant=\"caption\">\r\n                <strong>Modified user:</strong>\r\n                {' '}\r\n                {item.modifiedUser && item.modifiedUser.username}\r\n              </Typography>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n      {\r\n        item.modifiedUser\r\n          ? (\r\n            <>\r\n              <br />\r\n              <Typography variant=\"caption\">\r\n                <strong>Modified date:</strong>\r\n                {' '}\r\n                {item.modifiedDate && new Date(item.modifiedDate).toLocaleString()}\r\n              </Typography>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n    </>\r\n  );\r\n\r\n  const startAdornment = (\r\n    item.id !== 0\r\n      ? (\r\n        <InputAdornment position=\"start\" className={classes.startAdornment}>\r\n          <Tooltip\r\n            title={tooltip}\r\n            enterDelay={500}\r\n            disableHoverListener={item.id === 0}\r\n            disableFocusListener\r\n            aria-label=\"info item\"\r\n          >\r\n            <Info />\r\n          </Tooltip>\r\n        </InputAdornment>\r\n      )\r\n      : null\r\n  );\r\n\r\n  const endAdornment = (\r\n    <InputAdornment position=\"end\" className={classes.startAdornment}>\r\n      <IconButton aria-label=\"menu\" color=\"inherit\" tabIndex={-1} onClick={handleClickUserMenu}>\r\n        <MoreVert />\r\n      </IconButton>\r\n      <Menu\r\n        id={`item-menu-${item.id}-${idx}`}\r\n        anchorEl={itemMenuAnchorEl}\r\n        keepMounted\r\n        open={Boolean(itemMenuAnchorEl)}\r\n        onClose={handleClose}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <MenuItem disabled={!validations.isDeletable} aria-label=\"delete appraisal item\" onClick={handleDelete}>\r\n          <ListItemIcon>\r\n            <Delete fontSize=\"small\" />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Delete\" />\r\n        </MenuItem>\r\n        {\r\n          item.type.indexOf('Planned') !== -1\r\n            ? (\r\n              <MenuItem aria-label=\"Move item to Achieved\" onClick={handleTypeChange(item.type.replace('Planned', 'Achieved'))}>\r\n                <ListItemIcon>\r\n                  <ChevronLeft fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Achieved\" />\r\n              </MenuItem>\r\n            )\r\n            : null\r\n        }\r\n        {\r\n          item.type.indexOf('Achieved') !== -1\r\n            ? (\r\n              <MenuItem aria-label=\"move item to Planned\" onClick={handleTypeChange(item.type.replace('Achieved', 'Planned'))}>\r\n                <ListItemIcon>\r\n                  <ChevronRight fontSize=\"small\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Planned\" />\r\n              </MenuItem>\r\n            )\r\n            : null\r\n        }\r\n      </Menu>\r\n    </InputAdornment>\r\n  );\r\n\r\n  return item.type !== 'Feedback'\r\n    ? (\r\n      <TextField\r\n        className={classes.root}\r\n        id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n        value={value.content}\r\n        size=\"small\"\r\n        variant=\"outlined\"\r\n        multiline\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        disabled={!validations.inputEditable}\r\n        InputProps={{\r\n          startAdornment,\r\n          endAdornment: showEndAdornment() ? endAdornment : null,\r\n        }}\r\n      />\r\n    )\r\n    : (\r\n      <Tooltip\r\n        title={tooltip}\r\n        enterDelay={500}\r\n        disableHoverListener={item.id === 0}\r\n        disableFocusListener\r\n        aria-label=\"info item\"\r\n      >\r\n        <TextField\r\n          className={classes.feedBackInput}\r\n          id={`app-item-${item.type.toLowerCase()}-${idx}`}\r\n          value={value.content}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          multiline\r\n          onChange={handleChange}\r\n          onBlur={handleBlur}\r\n          disabled={!validations.inputEditable}\r\n          InputProps={{\r\n            endAdornment: showEndAdornment() ? endAdornment : null,\r\n          }}\r\n        />\r\n      </Tooltip>\r\n    );\r\n};\r\n\r\nAppraisalInput.propTypes = {\r\n  item: PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    status: PropTypes.string,\r\n    type: PropTypes.string,\r\n    content: PropTypes.string,\r\n    relatedItemId: PropTypes.string,\r\n    createdUser: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }).isRequired,\r\n    createdDate: PropTypes.string,\r\n    modifiedUser: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }).isRequired,\r\n    modifiedDate: PropTypes.string,\r\n  }).isRequired,\r\n  idx: PropTypes.number.isRequired,\r\n  changeHandler: PropTypes.func.isRequired,\r\n  blurHandler: PropTypes.func.isRequired,\r\n  removeHandler: PropTypes.func.isRequired,\r\n  changeTypeHandler: PropTypes.func.isRequired,\r\n  canInsert: PropTypes.bool.isRequired,\r\n  canUpdate: PropTypes.bool.isRequired,\r\n  canDelete: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default AppraisalInput;\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  makeStyles, Box, List, ListItem,\r\n} from '@material-ui/core';\r\nimport { useParams } from 'react-router-dom';\r\nimport AppraisalInput from './components/appraisal-input';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport { validate, perform } from '../../services/validators';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  header: {\r\n    textAlign: 'center',\r\n  },\r\n  border: {\r\n    border: '1px solid black',\r\n  },\r\n  listItem: {\r\n    justifyContent: 'center',\r\n    padding: 0,\r\n  },\r\n  popover: {\r\n    pointerEvents: 'none',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst FieldSet = ({\r\n  context,\r\n  items,\r\n  setItems,\r\n  details,\r\n  type,\r\n  setOtherItems,\r\n}) => {\r\n  const minItems = {\r\n    Achieved: 5,\r\n    Planned: 5,\r\n    Training_Planned: 3,\r\n    Training_Achieved: 3,\r\n    SWOT_S: 5,\r\n    SWOT_W: 5,\r\n    SWOT_O: 5,\r\n    SWOT_T: 5,\r\n    Feedback: 1,\r\n  };\r\n\r\n  const labels = {\r\n    Achieved: 'Achieved',\r\n    Planned: 'Planned',\r\n    Training_Planned: 'Planned',\r\n    Training_Achieved: 'Achieved',\r\n    SWOT_S: 'Strengths',\r\n    SWOT_W: 'Weaknesses',\r\n    SWOT_O: 'Opportunities',\r\n    SWOT_T: 'Threats',\r\n    Feedback: 'Remarks / Other feedback',\r\n  };\r\n  const periodId = details.id;\r\n  const classes = useStyles();\r\n  const min = minItems[type] || 0;\r\n  const [validations, setValidations] = useState({\r\n    canInsert: false,\r\n    canUpdate: false,\r\n    canDelete: false,\r\n  });\r\n  const { userId } = useParams();\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      // if we have no userid, we need to check if the period is locked\r\n      let isLocked = !userId\r\n        ? (await validate.periodLocked(details, user.id)()).result\r\n        : false;\r\n      const isFinished = (await validate.periodStatus(details, 'Finished')()).result;\r\n      // Locked is false by default for finished periods\r\n      if (isFinished) isLocked = false;\r\n      // if period is locked, we cannot insert, update or delete items\r\n      if (!isLocked) {\r\n        const canInsert = (await perform(validate\r\n          .canInsert(context, details, userId), false)).result;\r\n        const canUpdate = (await perform(validate\r\n          .canUpdate(context, details, userId), false)).result;\r\n        const canDelete = (await perform(validate\r\n          .canDelete(context, details, userId), false)).result;\r\n        setValidations((prev) => ({\r\n          ...prev,\r\n          canInsert,\r\n          canUpdate,\r\n          canDelete,\r\n        }));\r\n      }\r\n    }\r\n    setItems(AppraisalService.normalizeSet(\r\n      periodId,\r\n      context.user,\r\n      items,\r\n      min,\r\n      type,\r\n    ));\r\n    run();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // CRUD functions\r\n  const addItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.addItemToSet(id, item);\r\n    }\r\n    return AppraisalService.addUserItemToSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const updateItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.updateItemInSet(id, item);\r\n    }\r\n    return AppraisalService.updateUserItemInSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const deleteItem = useCallback(async (id, item) => {\r\n    if (!userId) {\r\n      return AppraisalService.deleteItemFromSet(id, item);\r\n    }\r\n    return AppraisalService.deleteUserItemFromSet(id, userId, item);\r\n  }, [userId]);\r\n\r\n  const changeHandler = useCallback((item, idx, firstChange) => {\r\n    if (firstChange) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx].content = item.content;\r\n        return AppraisalService.normalizeSet(\r\n          periodId, user, copy, min, type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, periodId, type, min, setItems]);\r\n\r\n  const changeTypeHandler = useCallback(async (itemId, itemType) => {\r\n    if (itemId !== 0 && setOtherItems) {\r\n      const item = items.find((i) => i.id === itemId);\r\n      if (item) {\r\n        item.type = itemType;\r\n        const result = await updateItem(periodId, item);\r\n        if (!result.error) {\r\n          setItems((prev) => (\r\n            AppraisalService.normalizeSet(\r\n              periodId,\r\n              user,\r\n              prev.filter((i) => i.id !== result.value.id),\r\n              min,\r\n              itemType,\r\n            )));\r\n          setOtherItems((prev) => AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            prev.filter((i) => i.content !== '').concat(result.value),\r\n            min,\r\n            itemType,\r\n          ));\r\n        }\r\n      }\r\n    }\r\n  }, [user, setOtherItems, min, items, periodId, setItems, updateItem]);\r\n\r\n  // Handle the remove button press\r\n  const removeHandler = useCallback(async (item, idx) => {\r\n    try {\r\n      if (!Number.isNaN(idx) && idx < items.length) {\r\n        if (item.id !== 0) {\r\n          const result = await deleteItem(periodId, items[idx]);\r\n          if (result.error !== null) {\r\n            throw result.error;\r\n          }\r\n        }\r\n        setItems((prev) => {\r\n          const copy = prev.filter((i) => i.id !== item.id);\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setItems((prev) => {\r\n        const copy = prev.slice();\r\n        copy[idx] = item;\r\n        return AppraisalService.normalizeSet(\r\n          periodId,\r\n          user,\r\n          copy,\r\n          min,\r\n          type,\r\n        );\r\n      });\r\n    }\r\n  }, [user, items, periodId, type, min, deleteItem, setItems]);\r\n\r\n  /*\r\n      Following procedure needs to syncronize the current\r\n    item modification with the database\r\n    whenever user loses focus of the input field.\r\n    (Press Tab or click out).\r\n    I receive the item that i was modifying, it's order in\r\n    the group of inputs (index), and a\r\n    flag saiyng whether it was modified.\r\n   */\r\n  const blurHandler = useCallback(async (item, idx, modified) => {\r\n    // If the element i want to syncronize is valid, meaning it has correct order number and type.\r\n    if (idx < items.length && item.type === type) {\r\n      // I determine if the item is new (if it was earlier saved to the database)\r\n      const isNew = item.id === 0 && item.content;\r\n      // I determine if the item needs to be deleted from the database\r\n      // (is not new and content is empty)\r\n      const isToBeDeleted = item.id !== 0 && item.content === '';\r\n      if (isNew) {\r\n        // I try to add the item to the database.\r\n        const result = await addItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          const copy = prev.slice();\r\n          if (!result.error) {\r\n            copy[idx] = result.value;\r\n          } else {\r\n            copy[idx] = item;\r\n            copy[idx].content = '';\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (isToBeDeleted) {\r\n        // I try to delete the item from the database:\r\n        const result = await deleteItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy = prev.slice();\r\n          if (!result.error) {\r\n            copy = copy.filter((i) => i.id !== item.id);\r\n          } else if (result.value) {\r\n            copy[idx] = result.value;\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      } else if (!isNew && !isToBeDeleted && modified && item.content !== '') {\r\n        // I try to modify item in the database\r\n        const result = await updateItem(periodId, item);\r\n        // Depending whether the addition succeeded or not, i update the input field accordingly\r\n        setItems((prev) => {\r\n          let copy;\r\n          if (result.error) {\r\n            copy = prev.slice();\r\n            if (result.value) copy[idx] = result.value;\r\n          } else {\r\n            copy = prev.map((i) => {\r\n              if (i.id === item.id) {\r\n                return result.value;\r\n              }\r\n              return i;\r\n            });\r\n          }\r\n          return AppraisalService.normalizeSet(\r\n            periodId,\r\n            user,\r\n            copy,\r\n            min,\r\n            type,\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }, [user, items, periodId, type, min, addItem, deleteItem, updateItem, setItems]);\r\n\r\n  return (\r\n    <Box>\r\n      <h3 className={classes.header}>{labels[type]}</h3>\r\n      <List>\r\n        {items.map((i, idx) => {\r\n          const key = i.id === 0 ? idx : i.id;\r\n          return (\r\n            <ListItem\r\n              className={classes.listItem}\r\n              key={key}\r\n            >\r\n              <AppraisalInput\r\n                item={i}\r\n                idx={idx}\r\n                label={labels[type]}\r\n                changeHandler={changeHandler}\r\n                blurHandler={blurHandler}\r\n                removeHandler={removeHandler}\r\n                changeTypeHandler={changeTypeHandler}\r\n                canInsert={validations.canInsert}\r\n                canUpdate={validations.canUpdate}\r\n                canDelete={validations.canDelete}\r\n              />\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nFieldSet.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n    Authorize: PropTypes.func,\r\n  }).isRequired,\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n  details: PropTypes.shape({\r\n    id: PropTypes.string,\r\n  }).isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  setOtherItems: PropTypes.func,\r\n};\r\n\r\nFieldSet.defaultProps = {\r\n  setOtherItems: null,\r\n};\r\n\r\nexport default FieldSet;\r\n","import FieldSet from './FieldSet';\r\n\r\nexport default FieldSet;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst UserService = {\r\n  getUsersPath: '/api/users',\r\n  updateUsersPath: (id) => `/api/users/${id}`,\r\n  getUserPath: (id) => `/api/users/user/${id}`,\r\n  getUserOrganizationsPath: '/api/users/organizations',\r\n  getUserTeamMembersPath: '/api/users/team-members',\r\n  getSettingsUsersPath: '/api/settings/users',\r\n  putSettingsUsersPath: (id) => `/api/settings/users/${id}`,\r\n\r\n  normalizeUser(user) {\r\n    const u = user;\r\n    if (u.role && u.role.id) {\r\n      u.role = u.role.id;\r\n    }\r\n    if (u.organization && u.organization.id) {\r\n      u.organization = u.organization.id;\r\n    }\r\n    u.organizations = u.organizations.map((o) => o.id || o);\r\n    return u;\r\n  },\r\n\r\n  async getUsers() {\r\n    try {\r\n      const response = await axios.get(this.getUsersPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getSettingsUsers() {\r\n    try {\r\n      const response = await axios.get(this.getSettingsUsersPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUser(id) {\r\n    try {\r\n      const response = await axios.get(this.getUserPath(id));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.updateUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updateSettingsUser(id, user) {\r\n    try {\r\n      const response = await axios.put(this.putSettingsUsersPath(id), this.normalizeUser(user));\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}\\n`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserOrganizations() {\r\n    try {\r\n      const response = await axios.get(this.getUserOrganizationsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserTeamMembers() {\r\n    try {\r\n      const response = await axios.get(this.getUserTeamMembersPath);\r\n      return response.data;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n};\r\nexport default UserService;\r\n","import TeamMatesAutocomplete from './TeamMatesAutocomplete';\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { TextField } from '@material-ui/core';\r\nimport UserService from '../../../services/UserService';\r\n\r\nconst TeamMatesAutocomplete = ({ onUserSelect, defaultValue, className }) => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await UserService.getUserTeamMembers();\r\n      if (mounted) setUsers(data);\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleSelect = (event, value) => {\r\n    if (onUserSelect) { onUserSelect(value); }\r\n  };\r\n\r\n  const autocomplete = (\r\n    <Autocomplete\r\n      defaultValue={defaultValue}\r\n      className={className}\r\n      id=\"users-autocomplete\"\r\n      options={users}\r\n      getOptionLabel={(option) => option.username}\r\n      getOptionSelected={(option, value) => value && option.id === value.id}\r\n      // eslint-disable-next-line react/jsx-props-no-spreading\r\n      renderInput={(params) => <TextField {...params} label=\"Team-members\" variant=\"outlined\" />}\r\n      onChange={handleSelect}\r\n    />\r\n  );\r\n\r\n  return (\r\n    autocomplete\r\n  );\r\n};\r\n\r\nexport default TeamMatesAutocomplete;\r\n","import React, { useCallback, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport TeamMatesAutocomplete from '../shared/team-mates-autocomplete';\r\n\r\nconst AppraisalUserRedirect = ({ defaultValue, className }) => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [selectedUser, setSelectedUser] = useState(defaultValue || null);\r\n\r\n  const handleSelect = useCallback((user) => {\r\n    if (user) return history.push(`/appraisals/${id}/user/${user.id}`);\r\n    return setSelectedUser(user);\r\n  }, [history, id]);\r\n\r\n  return (\r\n    <>\r\n      <TeamMatesAutocomplete\r\n        value={selectedUser}\r\n        onUserSelect={(user) => handleSelect(user)}\r\n        className={className}\r\n        defaultValue={defaultValue}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nAppraisalUserRedirect.propTypes = {\r\n  defaultValue: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }),\r\n  className: PropTypes.string.isRequired,\r\n};\r\n\r\nAppraisalUserRedirect.defaultProps = {\r\n  defaultValue: null,\r\n};\r\n\r\nexport default AppraisalUserRedirect;\r\n","import AppraisalUserRedirect from './AppraisalUserRedirect';\r\n\r\nexport default AppraisalUserRedirect;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Lock } from '@material-ui/icons';\r\nimport {\r\n  Container, makeStyles, Grid, Paper, Chip, Avatar, Typography,\r\n} from '@material-ui/core';\r\nimport FieldSet from '../../../appraisal-field-set';\r\nimport AppraisalUserRedirect from '../../../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport { validate } from '../../../../services/validators';\r\n\r\nconst userStyles = makeStyles((theme) => ({\r\n  header: {\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  middleFlex: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  border: {\r\n    border: '1px solid black',\r\n  },\r\n  listItem: {\r\n    justifyContent: 'center',\r\n  },\r\n  centerButton: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: theme.spacing(10, 0),\r\n  },\r\n  inputBlock: {\r\n    padding: theme.spacing(4),\r\n  },\r\n  topMargin: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  conatiner: {\r\n    '& > *:last-child': {\r\n      marginBottom: theme.spacing(5),\r\n    },\r\n  },\r\n  userInput: {\r\n    width: '50%',\r\n  },\r\n}));\r\n\r\nconst AppraisalDetailsDisplay = ({ context, periodDetails }) => {\r\n  const classes = userStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const { user } = context;\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, user.id)()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, user.id]);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" className={classes.conatiner}>\r\n      <Typography variant=\"h4\" className={classes.header}>\r\n        Details\r\n        {periodDetails.name ? ` '${periodDetails.name}'` : null}\r\n      </Typography>\r\n      <Grid container>\r\n        <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n          <Grid item xs={12} className={classes.middleFlex}>\r\n            <AppraisalUserRedirect className={classes.userInput} />\r\n          </Grid>\r\n        </AuthorizationComponent>\r\n        <Grid item xs={12} className={classes.middleFlex}>\r\n          {user\r\n            ? (\r\n              <Chip\r\n                avatar={<Avatar />}\r\n                label={user.username}\r\n                color=\"secondary\"\r\n              />\r\n            )\r\n            : null}\r\n        </Grid>\r\n        <Grid item xs={12} className={classes.middleFlex}>\r\n          {\r\n            locked\r\n              ? (\r\n                <Chip\r\n                  icon={<Lock />}\r\n                  label=\"Locked\"\r\n                  color=\"text-secondary\"\r\n                />\r\n              )\r\n              : null\r\n          }\r\n        </Grid>\r\n        <Grid container item xs={12} component={Paper} className={classes.inputBlock}>\r\n          <Grid item xs={12}>\r\n            <Typography className={classes.middleFlex} variant=\"h6\">Objectives</Typography>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12}>\r\n            <Typography className={classes.middleFlex} variant=\"h6\" align=\"center\">Trainings</Typography>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12}>\r\n            <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalDetailsDisplay.propTypes = {\r\n  context: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      id: PropTypes.string,\r\n      avatar: PropTypes.string,\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n};\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalDetailsDisplay from './AppraisalDetailsDisplay';\r\n\r\nexport default AppraisalDetailsDisplay;\r\n","import AppraisalUserInfo from './AppraisalUserInfo';\r\n\r\nexport default AppraisalUserInfo;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport UserService from '../../../../services/UserService';\r\n\r\nconst AppraisalUserInfo = ({\r\n  periodId, userId, setUserDetails, setPeriodDetails,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      /*\r\n        I try to get user's info and set it\r\n        Then i try to get periodInfo and set it\r\n        If i fail, i throw an error\r\n      */\r\n      const userData = await UserService.getUser(userId);\r\n      setUserDetails(userData);\r\n      const periodData = await AppraisalService.getUserItems(periodId, userId);\r\n      setPeriodDetails(periodData);\r\n    }\r\n    run();\r\n  }, [periodId, userId, setPeriodDetails, setUserDetails]);\r\n  return null;\r\n};\r\n\r\nexport default AppraisalUserInfo;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Container, makeStyles, Grid, Paper, Chip, Avatar, Button, Typography,\r\n} from '@material-ui/core';\r\nimport {\r\n  Lock,\r\n  LockOpen,\r\n} from '@material-ui/icons';\r\nimport FieldSet from '../../../appraisal-field-set';\r\nimport AppraisalUserRedirect from '../../../appraisal-user-redirect';\r\nimport AuthorizationComponent from '../../../shared/authorization-component';\r\nimport constants from '../../../../utils/constants';\r\nimport { validate } from '../../../../services/validators';\r\n\r\nconst userStyles = makeStyles((theme) => ({\r\n  header: {\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  middleFlex: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  border: {\r\n    border: '1px solid black',\r\n  },\r\n  listItem: {\r\n    justifyContent: 'center',\r\n  },\r\n  centerButton: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: theme.spacing(10, 0),\r\n  },\r\n  inputBlock: {\r\n    padding: theme.spacing(4),\r\n  },\r\n  topMargin: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  conatiner: {\r\n    '& > *:last-child': {\r\n      marginBottom: theme.spacing(5),\r\n    },\r\n  },\r\n  userInput: {\r\n    width: '50%',\r\n  },\r\n  buttonsCenter: {\r\n    flexFlow: 'column nowrap',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nconst AppraisalUserDetails = ({\r\n  context, periodDetails, userDetails, handleLockButton,\r\n}) => {\r\n  const classes = userStyles();\r\n  const [achieved, setAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Achieved'));\r\n  const [planned, setPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Planned'));\r\n  const [trainingPlanned, setTrainingPlanned] = useState(periodDetails.items.filter((el) => el.type === 'Training_Planned'));\r\n  const [trainingAchieved, setTrainingAchieved] = useState(periodDetails.items.filter((el) => el.type === 'Training_Achieved'));\r\n  const [swotS, setSWOTS] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_S'));\r\n  const [swotW, setSWOTW] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_W'));\r\n  const [swotO, setSWOTO] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_O'));\r\n  const [swotT, setSWOTT] = useState(periodDetails.items.filter((el) => el.type === 'SWOT_T'));\r\n  const [feedBack, setFeedBack] = useState(periodDetails.items.filter((el) => el.type === 'Feedback'));\r\n  const [locked, setLocked] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const isLocked = (await validate.periodLocked(periodDetails, userDetails.id)()).result;\r\n      const isFinished = (await validate.periodStatus(periodDetails, 'Finished')()).result;\r\n      if (mounted) {\r\n        setLocked(isLocked);\r\n        setFinished(isFinished);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [periodDetails, userDetails.id]);\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" className={classes.conatiner}>\r\n      <Typography variant=\"h4\" className={classes.header}>\r\n        Details\r\n        {periodDetails.name ? ` '${periodDetails.name}'` : null}\r\n      </Typography>\r\n      <Grid container>\r\n        <AuthorizationComponent code=\"APPRAISAL DETAILS - OTHER USERS\" grant=\"read\">\r\n          <Grid item xs={12} className={classes.middleFlex}>\r\n            <AppraisalUserRedirect defaultValue={userDetails} className={classes.userInput} />\r\n          </Grid>\r\n        </AuthorizationComponent>\r\n        <Grid item xs={12} className={classes.middleFlex}>\r\n          {userDetails\r\n            ? (\r\n              <Chip\r\n                avatar={<Avatar />}\r\n                label={userDetails.username}\r\n                color=\"primary\"\r\n              />\r\n            )\r\n            : null}\r\n        </Grid>\r\n        <Grid item xs={12} className={classes.middleFlex}>\r\n          {\r\n            locked\r\n              ? (\r\n                <Chip\r\n                  icon={<Lock />}\r\n                  label=\"Locked\"\r\n                  color=\"text-secondary\"\r\n                />\r\n              )\r\n              : null\r\n          }\r\n        </Grid>\r\n        <Grid container item xs={12} component={Paper} className={classes.inputBlock}>\r\n          <Grid item xs={12}>\r\n            <Typography className={classes.middleFlex} variant=\"h6\">Objectives</Typography>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={achieved} setItems={setAchieved} type=\"Achieved\" setOtherItems={setPlanned} />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={planned} setItems={setPlanned} type=\"Planned\" setOtherItems={setAchieved} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12}>\r\n            <Typography className={classes.middleFlex} variant=\"h6\" align=\"center\">Trainings</Typography>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={trainingAchieved} setItems={setTrainingAchieved} type=\"Training_Achieved\" setOtherItems={setTrainingPlanned} />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={trainingPlanned} setItems={setTrainingPlanned} type=\"Training_Planned\" setOtherItems={setTrainingAchieved} />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotS} setItems={setSWOTS} type=\"SWOT_S\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotW} setItems={setSWOTW} type=\"SWOT_W\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotO} setItems={setSWOTO} type=\"SWOT_O\" />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <FieldSet context={context} details={periodDetails} items={swotT} setItems={setSWOTT} type=\"SWOT_T\" />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Grid container item xs={12} component={Paper} className={`${classes.inputBlock} ${classes.topMargin}`}>\r\n          <Grid item xs={12}>\r\n            <FieldSet context={context} details={periodDetails} items={feedBack} setItems={setFeedBack} type=\"Feedback\" />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <AuthorizationComponent\r\n          code={constants.securities.APPRAISAL_DETAILS_OTHER.code}\r\n          grant={constants.securities.APPRAISAL_DETAILS_OTHER.grants.toggleLock}\r\n        >\r\n          {\r\n            !finished\r\n              ? (\r\n                <Grid container item xs={12} className={classes.buttonsCenter}>\r\n                  <Grid item xs={12} className={classes.topMargin}>\r\n                    <Button\r\n                      startIcon={locked ? <LockOpen /> : <Lock />}\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                      onClick={handleLockButton}\r\n                    >\r\n                      { locked ? 'Unlock' : 'Lock' }\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              )\r\n              : null\r\n          }\r\n        </AuthorizationComponent>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nAppraisalUserDetails.propTypes = {\r\n  context: PropTypes.shape({\r\n\r\n  }).isRequired,\r\n  // eslint-disable-next-line react/forbid-prop-types\r\n  userDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  periodDetails: PropTypes.shape({\r\n    id: PropTypes.string,\r\n    name: PropTypes.string,\r\n    items: PropTypes.arrayOf(PropTypes.shape({\r\n      type: PropTypes.string,\r\n    })),\r\n  }).isRequired,\r\n  handleLockButton: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalUserDetails from './AppraisalUserDetails';\r\n\r\nexport default AppraisalUserDetails;\r\n","import AppraisalDetails from './AppraisalDetails';\r\n\r\nexport default AppraisalDetails;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport AppraisalDetailsInfo from './components/appraisal-info';\r\nimport AppraisalDetailsDisplay from './components/appraisal-details-display';\r\nimport AppraisalUserInfo from './components/appraisal-user-info';\r\nimport AppraisalUserDetails from './components/appraisal-user-details-display';\r\nimport AppraisalService from '../../services/AppraisalService';\r\n\r\nconst AppraisalDetails = ({ context }) => {\r\n  const [periodDetails, setPeriodDetails] = useState(null);\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const periodId = useParams().id;\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    setPeriodDetails(null);\r\n    setUserDetails(null);\r\n  }, [userId]);\r\n\r\n  /**\r\n   * Handle locking button for user period\r\n   */\r\n  const handleLockButton = async () => {\r\n    if (userId) {\r\n      const result = await AppraisalService.toggleLockPeriod(periodDetails.id, userId);\r\n      setPeriodDetails((prev) => {\r\n        if (prev) {\r\n          return {\r\n            ...prev,\r\n            users: result.users.slice(),\r\n          };\r\n        }\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  let display;\r\n  if (!userId) {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null\r\n            ? <AppraisalDetailsInfo periodId={periodId} setPeriodDetails={setPeriodDetails} />\r\n            : <AppraisalDetailsDisplay context={context} periodDetails={periodDetails} />\r\n        }\r\n      </>\r\n    );\r\n  } else {\r\n    display = (\r\n      <>\r\n        {\r\n          periodDetails === null || userDetails === null\r\n            ? (\r\n              <AppraisalUserInfo\r\n                periodId={periodId}\r\n                userId={userId}\r\n                setUserDetails={setUserDetails}\r\n                setPeriodDetails={setPeriodDetails}\r\n              />\r\n            )\r\n            : (\r\n              <AppraisalUserDetails\r\n                context={context}\r\n                periodDetails={periodDetails}\r\n                userDetails={userDetails}\r\n                handleLockButton={handleLockButton}\r\n              />\r\n            )\r\n}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DocumentTitle title={periodDetails && periodDetails.name}>\r\n      {display}\r\n    </DocumentTitle>\r\n  );\r\n};\r\n\r\nAppraisalDetails.propTypes = {\r\n  context: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport default AppraisalDetails;\r\n","import AuthorizationRedirectComponent from './AuthorizationRedirectComponent';\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\nimport NotificationService from '../../../services/NotificationService';\r\n\r\nconst AuthorizationRedirectComponent = ({\r\n  code, grant, to, failureNotification, ...props\r\n}) => {\r\n  const global = useContext(GlobalContext);\r\n  const [access, setAccess] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [notified, setNotified] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const isAuthorized = global.Authorize(code, grant);\r\n    setAccess(isAuthorized);\r\n    if (global.security) {\r\n      setRedirect(!isAuthorized);\r\n      if (failureNotification && !isAuthorized && !notified) {\r\n        NotificationService.notify(failureNotification);\r\n        setNotified(true);\r\n      }\r\n    }\r\n  }, [global, code, grant, failureNotification, notified]);\r\n\r\n  let result = null;\r\n\r\n  if (access) {\r\n    result = props.children;\r\n  }\r\n\r\n  if (redirect) {\r\n    result = (<Redirect to={to || '/'} />);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport default AuthorizationRedirectComponent;\r\n","import AppraisalDetailsPage from './AppraisalDetailsPage';\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React, { useContext } from 'react';\r\nimport { Container } from '@material-ui/core';\r\nimport AppraisalDetails from '../../components/appraisal-details';\r\nimport LoginRequired from '../../components/shared/login-required';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport constants from '../../utils/constants';\r\n\r\nconst AppraisalDetailsPage = () => {\r\n  const global = useContext(GlobalContext);\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <LoginRequired />\r\n      <AuthorizationRedirectComponent\r\n        code={constants.securities.APPRAISAL_DETAILS.code}\r\n        grant={constants.securities.APPRAISAL_DETAILS.grants.read}\r\n        to=\"/appraisals\"\r\n        failureNotification={{\r\n          type: 'info',\r\n          header: 'No access',\r\n          content: 'You have no access to this page. Please contact your administrator',\r\n        }}\r\n      >\r\n        <AppraisalDetails context={global} />\r\n      </AuthorizationRedirectComponent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AppraisalDetailsPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  noDataText: {\r\n    textAlign: 'center',\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\nconst ListItemsDisplay = ({ collection, children }) => {\r\n  const classes = useStyles();\r\n  if (collection.length === 0) return (<Typography className={classes.noDataText} variant=\"subtitle1\">No data...</Typography>);\r\n  return children;\r\n};\r\n\r\nListItemsDisplay.propTypes = {\r\n  collection: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  children: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n};\r\n\r\nexport default ListItemsDisplay;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Grid,\r\n  Card,\r\n  CardHeader,\r\n  IconButton,\r\n  CardContent,\r\n  Typography,\r\n  CardActions,\r\n  Button,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n} from '@material-ui/core';\r\nimport {\r\n  Link, Switch, Route, useRouteMatch,\r\n} from 'react-router-dom';\r\nimport {\r\n  Lock as LockIcon,\r\n  MoreVert as MoreVertIcon,\r\n} from '@material-ui/icons';\r\nimport AppraisalService from '../../services/AppraisalService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport NewPeriodDialog from '../../components/new-period-dialog';\r\nimport LoginRequired from '../../components/shared/login-required';\r\nimport AppraisalDetailsPage from '../appraisal-details';\r\nimport ListItemsDisplay from '../../components/shared/list-items-display/ListItemsDisplay';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  header: {\r\n    textAlign: 'center',\r\n  },\r\n  centerButton: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: theme.spacing(10, 0),\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n    width: '15vw',\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(2),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardActions: {\r\n    height: '100%',\r\n  },\r\n  gridFlex: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-evenly',\r\n  },\r\n  linkDecoration: {\r\n    textDecoration: 'none',\r\n    alignSelf: 'flex-end',\r\n  },\r\n}));\r\n\r\nconst AppraisalsPage = () => {\r\n  const [items, setItems] = useState([]);\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n  const classes = useStyles();\r\n  const { path } = useRouteMatch();\r\n  const [itemMenuAnchorEl, setItemMenuAnchorEl] = useState(null);\r\n\r\n  const handleClickPeriodMenu = (evt) => {\r\n    setItemMenuAnchorEl(evt.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setItemMenuAnchorEl(null);\r\n  };\r\n\r\n  const clickFinishHandler = (item) => async () => {\r\n    const result = await AppraisalService.finishPeriod(item.id);\r\n    if (result) {\r\n      setItems((prev) => prev.map((i) => (i.id === item.id ? { ...item, status: 'Finished' } : i)));\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function loadData() {\r\n      setItems(await AppraisalService.getPeriods());\r\n    }\r\n    loadData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Container maxWidth=\"md\">\r\n            <LoginRequired />\r\n            <Grid container>\r\n              <Grid item xs={12}>\r\n                <h1 className={classes.header}>Appraisals</h1>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <h2 className={classes.header}>Opened</h2>\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.gridFlex}>\r\n                <ListItemsDisplay collection={items.filter((item) => item.status === 'Active')}>\r\n                  {items.filter((item) => item.status === 'Active').map((item) => (\r\n                    <Card key={item.id} className={classes.card}>\r\n                      <CardHeader\r\n                        action={(\r\n                          <>\r\n                            <IconButton data-itemid={item.id} aria-label=\"menu\" color=\"inherit\" tabIndex={-1} onClick={handleClickPeriodMenu}>\r\n                              <MoreVertIcon />\r\n                            </IconButton>\r\n                            <Menu\r\n                              id={`item-menu-${item.id}`}\r\n                              anchorEl={itemMenuAnchorEl}\r\n                              keepMounted\r\n                              open={Boolean(itemMenuAnchorEl)\r\n                                && itemMenuAnchorEl.dataset.itemid === item.id}\r\n                              onClose={handleClose}\r\n                              getContentAnchorEl={null}\r\n                              anchorOrigin={{\r\n                                vertical: 'bottom',\r\n                                horizontal: 'center',\r\n                              }}\r\n                              transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'center',\r\n                              }}\r\n                            >\r\n                              <MenuItem onClick={clickFinishHandler(item)}>\r\n                                <ListItemIcon>\r\n                                  <LockIcon fontSize=\"small\" />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary=\"Finish\" />\r\n                              </MenuItem>\r\n                            </Menu>\r\n                          </>\r\n                      )}\r\n                        title={item.name}\r\n                        subheader={item.status}\r\n                      />\r\n                      <CardContent>\r\n                        <Typography variant=\"body1\" component=\"p\">\r\n                          Created by:\r\n                          {' '}\r\n                          {item.createdUser.username}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                          {(new Date(item.createdDate)).toLocaleString()}\r\n                        </Typography>\r\n                      </CardContent>\r\n                      <CardActions className={classes.cardActions}>\r\n                        <Link to={`/appraisals/${item.id}`} className={classes.linkDecoration}>\r\n                          <Button variant=\"contained\" color=\"primary\">\r\n                            Open\r\n                          </Button>\r\n                        </Link>\r\n                      </CardActions>\r\n                    </Card>\r\n                  ))}\r\n                </ListItemsDisplay>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <h2 className={classes.header}>Closed</h2>\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.gridFlex}>\r\n                <ListItemsDisplay collection={items.filter((item) => item.status !== 'Active')}>\r\n                  {items.filter((item) => item.status !== 'Active').map((item) => (\r\n                    <Card key={item.id} className={classes.card}>\r\n                      <CardHeader\r\n                        action={(\r\n                          <IconButton aria-label=\"actions\">\r\n                            <MoreVertIcon />\r\n                          </IconButton>\r\n                        )}\r\n                        title={item.name}\r\n                        subheader={item.status}\r\n                      />\r\n                      <CardContent>\r\n                        <Typography variant=\"body1\" component=\"p\">\r\n                          Created by:\r\n                          {' '}\r\n                          {item.createdUser.username}\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                          {(new Date(item.createdDate)).toLocaleString()}\r\n                        </Typography>\r\n                      </CardContent>\r\n                      <CardActions className={classes.cardActions}>\r\n                        <Link to={`/appraisals/${item.id}`} className={classes.linkDecoration}>\r\n                          <Button variant=\"contained\" color=\"primary\">\r\n                            Open\r\n                          </Button>\r\n                        </Link>\r\n                      </CardActions>\r\n                    </Card>\r\n                  ))}\r\n                </ListItemsDisplay>\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.centerButton}>\r\n                <Button onClick={() => setDialogOpen(true)} variant=\"contained\" color=\"primary\">\r\n                  New Period\r\n                </Button>\r\n              </Grid>\r\n              {/* Dialogs */}\r\n              <NewPeriodDialog\r\n                open={dialogOpen}\r\n                context={global}\r\n                handleClose={() => setDialogOpen(false)}\r\n                setItems={setItems}\r\n              />\r\n            </Grid>\r\n          </Container>\r\n        </Route>\r\n        <Route exact path={`${path}/:id/user/:userId`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n        <Route path={`${path}/:id`}>\r\n          <AppraisalDetailsPage ctx={global} setCtx={global.setContext} />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AppraisalsPage;\r\n","import AppraisalsPage from './AppraisalsPage';\r\n\r\nexport default AppraisalsPage;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grid: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n  },\r\n  subheader: {\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  divider: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  addInput: {\r\n    width: '90%',\r\n  },\r\n  itemAchievedText: {\r\n    textDecoration: 'line-through',\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import HomePlannedItemsDisplay from './HomePlannedItemsDisplay';\r\n\r\nexport default HomePlannedItemsDisplay;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Checkbox,\r\n  Grid,\r\n  FormControlLabel,\r\n  Box,\r\n  TextField,\r\n  Button,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Typography,\r\n  Divider,\r\n} from '@material-ui/core';\r\nimport {\r\n  Clear,\r\n} from '@material-ui/icons';\r\n\r\nimport clsx from 'clsx';\r\nimport useStyles from './styles';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\nimport ListItemsDisplay from '../../../shared/list-items-display/ListItemsDisplay';\r\n\r\nconst HomePlannedItemsDisplay = ({ items, setItems }) => {\r\n  const classes = useStyles();\r\n  const [newItemVal, setNewItemVal] = useState('');\r\n\r\n  const handleInputChange = (e) => {\r\n    setNewItemVal(e.target.value);\r\n  };\r\n\r\n  const setType = async (item, type) => {\r\n    const result = await AppraisalService.updateItem({ ...item, type });\r\n    setItems((prev) => {\r\n      const copy = { ...item, type: result.type };\r\n      return prev.map((i) => (i.id === item.id ? copy : i));\r\n    });\r\n  };\r\n\r\n  const checkboxChangeHandler = (item) => (e) => {\r\n    if (e.target.checked) {\r\n      setType(item, 'Achieved');\r\n    } else {\r\n      setType(item, 'Planned');\r\n    }\r\n  };\r\n\r\n  const addItem = async (content) => {\r\n    if (content !== '') {\r\n      const item = {\r\n        content,\r\n        createdDate: new Date(),\r\n        modifiedDate: new Date(),\r\n        status: 'Active',\r\n        type: 'Planned',\r\n        periodId: null,\r\n        relatedItemId: null,\r\n      };\r\n      const result = await AppraisalService.addOrphan(item);\r\n      setItems((prev) => prev.concat(result));\r\n      setNewItemVal('');\r\n    }\r\n  };\r\n\r\n  const removeItem = async (item) => {\r\n    await AppraisalService.deleteItem(item.id);\r\n    setItems((prev) => prev.filter((i) => i.id !== item.id));\r\n  };\r\n\r\n  return (\r\n    <Box border={1} borderColor=\"secondary.main\" borderRadius={3} p={3}>\r\n      <Typography className={classes.header} variant=\"h6\">Planned items</Typography>\r\n      <Typography className={classes.subheader} variant=\"subtitle2\">Here you will see items planned over past periods</Typography>\r\n      <Divider className={classes.divider} />\r\n      <ListItemsDisplay collection={items}>\r\n        <List>\r\n          {\r\n            items.map((item) => (\r\n              <ListItem dense>\r\n                <FormControlLabel\r\n                  className={clsx({\r\n                    [classes.itemAchievedText]: item.type === 'Achieved',\r\n                  })}\r\n                  control={<Checkbox name={item.content} checked={item.type === 'Achieved'} onChange={checkboxChangeHandler(item)} />}\r\n                  label={item.content}\r\n                />\r\n                <ListItemSecondaryAction>\r\n                  <IconButton\r\n                    disabled={item.relatedItemId !== null}\r\n                    onClick={() => removeItem(item)}\r\n                  >\r\n                    <Clear />\r\n                  </IconButton>\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            ))\r\n          }\r\n        </List>\r\n      </ListItemsDisplay>\r\n      <Grid container className={classes.grid}>\r\n        <Grid item xs={6}>\r\n          <TextField className={classes.addInput} variant=\"filled\" size=\"small\" label=\"Add New\" color=\"secondary\" value={newItemVal} onChange={handleInputChange} />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <Button variant=\"contained\" color=\"secondary\" disabled={newItemVal === ''} onClick={() => addItem(newItemVal)}>Add</Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nHomePlannedItemsDisplay.propTypes = {\r\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  setItems: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default HomePlannedItemsDisplay;\r\n","import { useEffect } from 'react';\r\nimport AppraisalService from '../../../../services/AppraisalService';\r\n\r\nconst HomePlannedItemsInfoProvider = ({ setItems }) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      setItems(await AppraisalService.getOrphans('Planned'));\r\n    }\r\n    run();\r\n  }, [setItems]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default HomePlannedItemsInfoProvider;\r\n","import HomePlannedItems from './HomePlannedItems';\r\n\r\nexport default HomePlannedItems;\r\n","import React, { useState } from 'react';\r\n\r\nimport HomePlannedItemsDisplay from './components/HomePlannedItemsDisplay';\r\nimport HomePlannedItemsInfoProvider from './components/HomePlannedItemsInfoProvider/HomePlannedItemsInfoProvider';\r\n\r\nconst HomePlannedItems = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  return (\r\n    <>\r\n      <HomePlannedItemsInfoProvider setItems={setItems} />\r\n      <HomePlannedItemsDisplay items={items} setItems={setItems} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePlannedItems;\r\n","import HomePage from './HomePage';\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\nimport {\r\n  Grid,\r\n} from '@material-ui/core';\r\nimport HomePlannedItems from '../../components/home-planned-items';\r\nimport AuthorizationComponent from '../../components/shared/authorization-component';\r\n\r\nconst HomePage = () => (\r\n  <>\r\n    <h1 style={{ textAlign: 'center' }}>HomePage</h1>\r\n    <Grid container>\r\n      <Grid item xs={12} sm={6}>\r\n        <AuthorizationComponent code=\"APPRAISAL DETAILS\" grant=\"read\">\r\n          <HomePlannedItems />\r\n        </AuthorizationComponent>\r\n      </Grid>\r\n    </Grid>\r\n  </>\r\n);\r\n\r\nexport default HomePage;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = makeStyles(() => ({\r\n  root: {\r\n  },\r\n}));\r\n\r\nexport default styles;\r\n","const themeDark = {\r\n  palette: {\r\n    type: 'dark',\r\n  },\r\n  typography: {\r\n    fontFamily: [\r\n      'Roboto',\r\n      'Arial',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n  },\r\n};\r\n\r\nconst themeLight = {\r\n  palette: {\r\n    type: 'light',\r\n  },\r\n  typography: {\r\n    fontFamily: [\r\n      'Roboto',\r\n      'Arial',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n  },\r\n};\r\n\r\nexport {\r\n  themeDark,\r\n  themeLight,\r\n};\r\n","import SettingsGeneral from './SettingsGeneral';\r\n\r\nexport default SettingsGeneral;\r\n","import { Grid, Typography } from '@material-ui/core';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport React, { useContext, useState } from 'react';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport { themeDark, themeLight } from '../../styles/theme';\r\n\r\nconst SettingsGeneral = () => {\r\n  const global = useContext(GlobalContext);\r\n  const [theme, setTheme] = useState(global.userPreferences.theme.palette.type);\r\n\r\n  const handleChange = (evt) => {\r\n    let type;\r\n    if (evt.target.checked) {\r\n      type = 'dark';\r\n    } else {\r\n      type = 'light';\r\n    }\r\n    setTheme(type);\r\n    localStorage.setItem('theme', type);\r\n    global.setContext((prev) => ({\r\n      ...prev,\r\n      userPreferences: {\r\n        ...global.userPreferences,\r\n        theme: type === 'light' ? createMuiTheme(themeLight) : createMuiTheme(themeDark),\r\n      },\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h4\">\r\n          General Settings\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h6\">\r\n          Appearence:\r\n        </Typography>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n          <Grid item>Light</Grid>\r\n          <Grid item>\r\n            <Switch checked={theme === 'dark'} onChange={handleChange} />\r\n          </Grid>\r\n          <Grid item>Dark</Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SettingsGeneral;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst TeamService = {\r\n  getTeamsPath: '/api/teams/',\r\n  addTeamPath: '/api/teams',\r\n\r\n  validate(team) {\r\n    if (!team) throw new Error('Team name missing');\r\n    return true;\r\n  },\r\n\r\n  async getTeams() {\r\n    try {\r\n      const response = await axios.get(this.getTeamsPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addTeam(team) {\r\n    try {\r\n      this.validate(team);\r\n      const response = await axios.post(this.addTeamPath, { team });\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      throw new Error(`Server response: ${response.status} - ${response.statusText}`);\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n};\r\n\r\nexport default TeamService;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst AuthorizationService = {\r\n  getRolesPath: '/api/security/roles',\r\n  getCurrentUserSecuritiesPath: '/api/security/permissions/me',\r\n  getUserSecuritiesPath: (id) => `/api/security/permissions/user/${id}`,\r\n  getOrganizationUsersSecuritiesPath: '/api/security/permissions/organization',\r\n  getRolesSecuritiesPath: '/api/security/permissions/role',\r\n  getPermissionCodesPath: '/api/security/permissions/code',\r\n  addPermissionPath: '/api/security/permissions',\r\n  updatePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n  deletePermissionPath: (id) => `/api/security/permissions/${id}`,\r\n\r\n  async getRoles() {\r\n    try {\r\n      const result = await axios.get(this.getRolesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getCurrentUserSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getUserSecurities(id) {\r\n    try {\r\n      const result = await axios.get(this.getUserSecuritiesPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getOrganizationUsersSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getOrganizationUsersSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getRolesSecurities() {\r\n    try {\r\n      const result = await axios.get(this.getRolesSecuritiesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async getPermissionCodes() {\r\n    try {\r\n      const result = await axios.get(this.getPermissionCodesPath);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async addPermission(permission) {\r\n    try {\r\n      const result = await axios.post(this.addPermissionPath, permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async updatePermission(id, permission) {\r\n    try {\r\n      const result = await axios.put(this.updatePermissionPath(id), permission);\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  async deletePermission(id) {\r\n    try {\r\n      const result = await axios.delete(this.deletePermissionPath(id));\r\n      if (result.status === 200) {\r\n        return result.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      throw err;\r\n    }\r\n  },\r\n\r\n  // this function is meant to be injected in the context in order to have access to 'this'\r\n  Authorize(code, grant) {\r\n    try {\r\n      if (this.security) {\r\n        const codes = this.security.map((el) => el.code);\r\n        const index = codes.indexOf(code);\r\n        if (index !== -1) {\r\n          return this.security[index].grants.indexOf(grant) !== -1;\r\n        }\r\n      }\r\n      return false;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: (err.response.data && err.response.data.error) || err.message,\r\n      });\r\n      return false;\r\n    }\r\n  },\r\n};\r\n\r\nexport default AuthorizationService;\r\n","import TeamsEditComponent from './TeamsEditComponent';\r\n\r\nexport default TeamsEditComponent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nconst TeamsEditComponent = ({ rowData, onChange, teams }) => (\r\n  <Autocomplete\r\n    multiple\r\n    id=\"tags-standard\"\r\n    options={teams}\r\n    getOptionLabel={(option) => option.name}\r\n    getOptionSelected={(option, value) => option.name === value.name}\r\n    value={rowData.teams}\r\n    onChange={(e, newVal) => {\r\n      onChange(newVal);\r\n    }}\r\n    renderInput={(params) => (\r\n      <TextField\r\n              // eslint-disable-next-line react/jsx-props-no-spreading\r\n        {...params}\r\n        variant=\"standard\"\r\n        label=\"Multiple values\"\r\n        placeholder=\"Favorites\"\r\n      />\r\n    )}\r\n  />\r\n);\r\n\r\nTeamsEditComponent.propTypes = {\r\n  rowData: PropTypes.shape({\r\n    teams: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  teams: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n};\r\n\r\nexport default TeamsEditComponent;\r\n","import OrganizationEditComponent from './OrganizationEditComponent';\r\n\r\nexport default OrganizationEditComponent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nconst OrganizationEditComponent = ({ rowData, onChange, global }) => (\r\n  <Autocomplete\r\n    multiple\r\n    id=\"tags-standard-organizations\"\r\n    options={global.user.organizations}\r\n    getOptionLabel={(option) => option.name}\r\n    getOptionSelected={(option, value) => option.name === value.name}\r\n    value={rowData.organizations}\r\n    onChange={(e, newVal) => {\r\n      onChange(newVal);\r\n    }}\r\n    renderInput={(params) => (\r\n      <TextField\r\n        // eslint-disable-next-line react/jsx-props-no-spreading\r\n        {...params}\r\n        variant=\"standard\"\r\n        label=\"Organizaions\"\r\n        placeholder=\"Organizations\"\r\n      />\r\n    )}\r\n  />\r\n);\r\n\r\nOrganizationEditComponent.propTypes = {\r\n  rowData: PropTypes.shape({\r\n    organizations: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  global: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      organizations: PropTypes.arrayOf(PropTypes.shape({})),\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default OrganizationEditComponent;\r\n","import RoleEditComponent from './RoleEditComponent';\r\n\r\nexport default RoleEditComponent;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nconst RoleEditComponent = ({ rowData, onChange, roles }) => (\r\n  <Autocomplete\r\n    id=\"tags-standard-role\"\r\n    options={roles}\r\n    getOptionLabel={(option) => option.name}\r\n    getOptionSelected={(option, value) => option.name === value.name}\r\n    value={rowData.role}\r\n    onChange={(e, newVal) => {\r\n      onChange(newVal);\r\n    }}\r\n    renderInput={(params) => (\r\n      <TextField\r\n              // eslint-disable-next-line react/jsx-props-no-spreading\r\n        {...params}\r\n        variant=\"standard\"\r\n        label=\"Roles\"\r\n        placeholder=\"Roles\"\r\n      />\r\n    )}\r\n  />\r\n);\r\n\r\nRoleEditComponent.propTypes = {\r\n  rowData: PropTypes.shape({\r\n    role: PropTypes.shape({\r\n      name: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n};\r\n\r\nexport default RoleEditComponent;\r\n","import SettingsUsers from './SettingsUsers';\r\n\r\nexport default SettingsUsers;\r\n","import { Grid } from '@material-ui/core';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport materialTableUtils from '../../utils/material-table-utils';\r\nimport UserService from '../../services/UserService';\r\nimport TeamService from '../../services/TeamService';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport AuthorizationService from '../../services/AuthorizationService';\r\nimport TeamsEditComponent from './components/TeamsEditComponent';\r\nimport OrganizationEditComponent from './components/OrganizationEditComponent';\r\nimport RoleEditComponent from './components/RoleEditComponent';\r\n\r\nconst SettingsUsers = () => {\r\n  const [data, setData] = useState([]);\r\n  const [teams, setTeams] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const global = useContext(GlobalContext);\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Username',\r\n      field: 'username',\r\n      editable: 'never',\r\n    },\r\n    {\r\n      title: 'Teams',\r\n      field: 'teams',\r\n      render: (rowData) => rowData.teams.map((t) => t.name).join(', '),\r\n      // eslint-disable-next-line react/prop-types\r\n      editComponent: ({ rowData, onChange }) => (\r\n        <TeamsEditComponent rowData={rowData} onChange={onChange} teams={teams} />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Organizations',\r\n      field: 'organizations',\r\n      render: (rowData) => (rowData.organizations ? rowData.organizations.map((o) => o.name).join(', ') : null),\r\n      customFilterAndSearch: (filterValue, rowData) => {\r\n        const fl = filterValue.toLowerCase();\r\n        return rowData\r\n          .organizations\r\n          .filter((o) => o.name.toLowerCase().indexOf(fl) !== -1).length > 0;\r\n      },\r\n      // eslint-disable-next-line react/prop-types\r\n      editComponent: ({ rowData, onChange }) => (\r\n        <OrganizationEditComponent rowData={rowData} onChange={onChange} global={global} />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Role',\r\n      field: 'role',\r\n      render: (rowData) => rowData.role && rowData.role.name,\r\n      // eslint-disable-next-line react/prop-types\r\n      editComponent: ({ rowData, onChange }) => (\r\n        <RoleEditComponent rowData={rowData} onChange={onChange} roles={roles} />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const editable = {\r\n    onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {\r\n      async function run() {\r\n        try {\r\n          const dataUpdate = [...data];\r\n          const index = oldData.tableData.id;\r\n          let organization = oldData.organization || null;\r\n          if (!oldData.organization && newData.organizations.length) {\r\n            organization = newData.organizations[0].id;\r\n          } else if (newData.organizations.length === 0) {\r\n            organization = null;\r\n          }\r\n          const result = await UserService.updateSettingsUser(newData.id, {\r\n            ...newData,\r\n            teams: newData.teams.map((t) => t.id),\r\n            organizations: newData.organizations.map((o) => o.id),\r\n            organization,\r\n          });\r\n          dataUpdate[index] = result;\r\n          setData(() => dataUpdate);\r\n          resolve();\r\n        } catch (err) {\r\n          reject(err);\r\n        }\r\n      }\r\n      run();\r\n    }).catch((err) => {\r\n      throw err;\r\n    }),\r\n  };\r\n\r\n  /**\r\n   * Retrieve the users list\r\n   */\r\n  useEffect(() => {\r\n    async function run() {\r\n      const [users, _teams, _roles] = await Promise.all(\r\n        [\r\n          UserService.getSettingsUsers(),\r\n          TeamService.getTeams(),\r\n          AuthorizationService.getRoles(),\r\n        ],\r\n      );\r\n      setData(() => users);\r\n      setTeams(() => _teams);\r\n      setRoles(() => _roles);\r\n    }\r\n    run();\r\n  }, []);\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <h1>Users Settings</h1>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <MaterialTable\r\n          icons={materialTableUtils.tableIcons}\r\n          title=\"Users\"\r\n          columns={columns}\r\n          data={data}\r\n          options={{\r\n            searchFieldAlignment: 'left',\r\n          }}\r\n          editable={editable}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SettingsUsers;\r\n","import SettingsAppraisalPeriods from './SettingsAppraisalPeriods';\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst SettingsAppraisalPeriods = () => (\r\n  <Grid container>\r\n    <Grid item xs={12}>\r\n      <h1>AppraisalPeriods Settings</h1>\r\n    </Grid>\r\n  </Grid>\r\n);\r\n\r\nexport default SettingsAppraisalPeriods;\r\n","import SettingsAppraisalItems from './SettingsAppraisalItems';\r\n\r\nexport default SettingsAppraisalItems;\r\n","import { Grid } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst SettingsAppraisalItems = () => (\r\n  <Grid container>\r\n    <Grid item xs={12}>\r\n      <h1>AppraisalItems Settings</h1>\r\n    </Grid>\r\n  </Grid>\r\n);\r\n\r\nexport default SettingsAppraisalItems;\r\n","import SecurityInfoProvider from './SecurityInfoProvider';\r\n\r\nexport default SecurityInfoProvider;\r\n","import { useEffect } from 'react';\r\nimport AuthorizationService from '../../../../services/AuthorizationService';\r\nimport UserService from '../../../../services/UserService';\r\n\r\nconst SecurityInfoProvider = ({\r\n  setLoaded,\r\n  setPermissionCodes,\r\n  setRoles,\r\n  setUsers,\r\n  setRolePermissions,\r\n  setUserPermissions,\r\n}) => {\r\n  useEffect(() => {\r\n    async function run() {\r\n      // Get Permission Codes\r\n      const codes = await AuthorizationService.getPermissionCodes();\r\n      setPermissionCodes(codes.sort((a, b) => (a.code < b.code ? -1 : 1)));\r\n\r\n      // get all roles\r\n      const rolesInfo = await AuthorizationService.getRoles();\r\n      setRoles(rolesInfo.sort((a, b) => (a.name < b.name ? -1 : 1)));\r\n\r\n      // get all users\r\n      const userInfo = await UserService.getSettingsUsers();\r\n      setUsers(userInfo.sort((a, b) => (a.username < b.username ? -1 : 1)));\r\n\r\n      // get All role permissions\r\n      const roles = await AuthorizationService.getRolesSecurities();\r\n      const rolesMap = {};\r\n      roles.forEach((role) => {\r\n        rolesMap[role.reference.name] = {\r\n          ...rolesMap[role.reference.name],\r\n          [role.code.code]: role,\r\n        };\r\n      });\r\n      setRolePermissions(rolesMap);\r\n\r\n      // get my organization's user permission\r\n      const userPermissions = await AuthorizationService.getOrganizationUsersSecurities();\r\n      const userPermMap = {};\r\n      userPermissions.forEach((user) => {\r\n        userPermMap[user.reference.username] = {\r\n          ...userPermMap[user.reference.username],\r\n          [user.code.code]: user,\r\n        };\r\n      });\r\n      setUserPermissions(userPermMap);\r\n\r\n      // Confirm information was loaded\r\n      setLoaded(true);\r\n    }\r\n    run();\r\n  }, [\r\n    setPermissionCodes,\r\n    setLoaded,\r\n    setRoles,\r\n    setUsers,\r\n    setRolePermissions,\r\n    setUserPermissions,\r\n  ]);\r\n  return null;\r\n};\r\n\r\nexport default SecurityInfoProvider;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(5),\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    '& > *:last-child': {\r\n      marginBottom: theme.spacing(5),\r\n    },\r\n  },\r\n  selector: {\r\n    maxWidth: '300px',\r\n    margin: '0 auto',\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(3),\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(3),\r\n    },\r\n  },\r\n  permissionDescription: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n  permissionBox: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import SecurityDetailsRoleDisplay from './SecurityDetailsRoleDisplay';\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Accordion,\r\n  AccordionSummary,\r\n  Typography,\r\n  AccordionDetails,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Paper,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@material-ui/icons';\r\nimport AuthorizationService from '../../../../services/AuthorizationService';\r\nimport useStyles from './styles';\r\n\r\nconst SecurityDetailsRoleDisplay = ({\r\n  codes,\r\n  roles,\r\n  rolePermissions,\r\n  setRolePermissions,\r\n  selectedRole,\r\n  setSelectedRole,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (panel) => (e, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, panel]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((p) => p !== panel));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    setFilter(e.target.value);\r\n  };\r\n\r\n  const handleSetPermission = (role, code, permission) => {\r\n    setRolePermissions((prev) => ({\r\n      ...prev,\r\n      [role.name]: {\r\n        ...prev[role.name],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (role, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'Role',\r\n      reference: role.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (role, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!rolePermissions[role.name] || !rolePermissions[role.name][code.code]) {\r\n      const result = await handleAdd(role, code, grant);\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...rolePermissions[role.name][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n      result && handleSetPermission(role, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = rolePermissions[role.name][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(rolePermissions[role.name][code.code]);\r\n        handleSetPermission(role, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...rolePermissions[role.name][code.code], grants });\r\n        result && handleSetPermission(role, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (role, code, grant) => {\r\n    const permission = rolePermissions[role.name] && rolePermissions[role.name][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedRole) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        render.map((permission) => (\r\n          <Accordion\r\n            key={permission.id}\r\n            expanded={expanded.indexOf(permission.code) !== -1}\r\n            onChange={handleExpandSingle(permission.code)}\r\n          >\r\n            <AccordionSummary\r\n              aria-controls=\"permission-content\"\r\n              expandIcon={<ExpandMoreIcon />}\r\n            >\r\n              <div className={classes.permissionDescription}>\r\n                <Typography>{permission.code}</Typography>\r\n                <Typography variant=\"caption\" gutterBottom>{permission.description}</Typography>\r\n              </div>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.permissionBox}>\r\n              {permission.grants.map((grant) => (\r\n                <FormGroup aria-label={grant} row key={`${permission.id}-${grant}`}>\r\n                  <FormControlLabel\r\n                    value={grant}\r\n                    label={<Typography variant=\"button\">{grant}</Typography>}\r\n                    control={<Checkbox color=\"secondary\" checked={getPermissionChecked(selectedRole, permission, grant)} />}\r\n                    onChange={handleClick(selectedRole, permission, grant)}\r\n                    labelPlacement=\"start\"\r\n                  />\r\n                </FormGroup>\r\n              ))}\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        ))\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      <Grid item xs={12}>\r\n        <Autocomplete\r\n          id=\"security-role-select\"\r\n          options={roles}\r\n          getOptionLabel={(role) => role.name}\r\n          // eslint-disable-next-line react/jsx-props-no-spreading\r\n          renderInput={(params) => <TextField {...params} label=\"Roles\" variant=\"outlined\" />}\r\n          onChange={(e, val) => {\r\n            setSelectedRole(val);\r\n          }}\r\n          value={selectedRole}\r\n          className={classes.selector}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Paper variant=\"outlined\" className={classes.toolBar}>\r\n          <TextField\r\n            id=\"role-permissions-search\"\r\n            label=\"Search\"\r\n            size=\"small\"\r\n            value={filter}\r\n            onChange={handleFilterInputChange}\r\n          />\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleExpandAll}>{expanded.length !== codes.length ? 'Expand All' : 'Collapse All'}</Button>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        { renderPermissions() }\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nSecurityDetailsRoleDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  roles: PropTypes.arrayOf(PropTypes.shape({\r\n    name: PropTypes.string,\r\n  })).isRequired,\r\n  rolePermissions: PropTypes.shape({}).isRequired,\r\n  setRolePermissions: PropTypes.func.isRequired,\r\n  selectedRole: PropTypes.shape({\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedRole: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsRoleDisplay;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(5),\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n    '& > *:last-child': {\r\n      marginBottom: theme.spacing(5),\r\n    },\r\n  },\r\n  selector: {\r\n    maxWidth: '300px',\r\n    margin: '0 auto',\r\n  },\r\n  toolBar: {\r\n    padding: theme.spacing(3),\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(3),\r\n    },\r\n  },\r\n  permissionDescription: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n  permissionBox: {\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import SecurityDetailsUserDisplay from './SecurityDetailsUserDisplay';\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Accordion,\r\n  AccordionSummary,\r\n  Typography,\r\n  AccordionDetails,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Paper,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  ExpandMore as ExpandMoreIcon,\r\n} from '@material-ui/icons';\r\nimport AuthorizationService from '../../../../services/AuthorizationService';\r\nimport useStyles from './styles';\r\n\r\nconst SecurityDetailsUserDisplay = ({\r\n  codes,\r\n  users,\r\n  userPermissions,\r\n  setUserPermissions,\r\n  selectedUser,\r\n  setSelectedUser,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState([]);\r\n  const [filter, setFilter] = useState('');\r\n\r\n  const handleExpandSingle = (panel) => (e, isExpanded) => {\r\n    if (isExpanded) {\r\n      setExpanded((prev) => [...prev, panel]);\r\n    } else {\r\n      setExpanded((prev) => prev.filter((err) => err !== panel));\r\n    }\r\n  };\r\n\r\n  const handleExpandAll = () => {\r\n    if (expanded.length === codes.length) {\r\n      setExpanded([]);\r\n    } else {\r\n      setExpanded(codes.map((e) => e.code));\r\n    }\r\n  };\r\n\r\n  const handleFilterInputChange = (e) => {\r\n    setFilter(e.target.value);\r\n  };\r\n\r\n  const handleSetPermission = (user, code, permission) => {\r\n    setUserPermissions((prev) => ({\r\n      ...prev,\r\n      [user.username]: {\r\n        ...prev[user.username],\r\n        [code.code]: permission,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const handleAdd = async (user, code, grant) => {\r\n    const result = await AuthorizationService.addPermission({\r\n      grants: [grant],\r\n      code: code.id,\r\n      permissionType: 'User',\r\n      reference: user.id,\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const handleUpdate = async (permission) => {\r\n    const result = await AuthorizationService.updatePermission(permission.id, permission);\r\n    return result;\r\n  };\r\n\r\n  const handleDelete = async (permission) => {\r\n    try {\r\n      const result = await AuthorizationService.deletePermission(permission.id);\r\n      return result;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleClick = (user, code, grant) => async (e) => {\r\n    e.persist();\r\n    // check if it's a new permission\r\n    if (!userPermissions[user.username] || !userPermissions[user.username][code.code]) {\r\n      const result = await handleAdd(user, code, grant);\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (e.target.checked) {\r\n      // add a grant\r\n      const grants = [...userPermissions[user.username][code.code].grants, grant];\r\n      const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n      result && handleSetPermission(user, code, result);\r\n    } else if (!e.target.checked) {\r\n      const grants = userPermissions[user.username][code.code].grants.filter((g) => g !== grant);\r\n      if (grants.length === 0) {\r\n        await handleDelete(userPermissions[user.username][code.code]);\r\n        handleSetPermission(user, code, null);\r\n      } else {\r\n        const result = await handleUpdate({ ...userPermissions[user.username][code.code], grants });\r\n        result && handleSetPermission(user, code, result);\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPermissionChecked = (user, code, grant) => {\r\n    const permission = userPermissions[user.username] && userPermissions[user.username][code.code];\r\n    if (permission) {\r\n      return permission.grants.indexOf(grant) !== -1;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const renderPermissions = () => {\r\n    if (selectedUser) {\r\n      const render = codes.filter((el) => (\r\n        el.code.toLowerCase().indexOf(filter.toLowerCase()) !== -1));\r\n      return (\r\n        render.map((permission) => (\r\n          <Accordion\r\n            key={permission.id}\r\n            expanded={expanded.indexOf(permission.code) !== -1}\r\n            onChange={handleExpandSingle(permission.code)}\r\n          >\r\n            <AccordionSummary\r\n              aria-controls=\"permission-content\"\r\n              expandIcon={<ExpandMoreIcon />}\r\n            >\r\n              <div className={classes.permissionDescription}>\r\n                <Typography>{permission.code}</Typography>\r\n                <Typography variant=\"caption\" gutterBottom>{permission.description}</Typography>\r\n              </div>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.permissionBox}>\r\n              <FormGroup aria-label=\"overrule\" row key={`${permission.id}-$'overrule'`}>\r\n                <FormControlLabel\r\n                  value=\"overrule\"\r\n                  label={<Typography variant=\"button\">overrule</Typography>}\r\n                  control={<Checkbox color=\"secondary\" checked={getPermissionChecked(selectedUser, permission, 'overrule')} />}\r\n                  onChange={handleClick(selectedUser, permission, 'overrule')}\r\n                  labelPlacement=\"start\"\r\n                />\r\n              </FormGroup>\r\n              {permission.grants.map((grant) => (\r\n                <FormGroup aria-label={grant} row key={`${permission.id}-${grant}`}>\r\n                  <FormControlLabel\r\n                    value={grant}\r\n                    label={<Typography variant=\"button\">{grant}</Typography>}\r\n                    control={<Checkbox color=\"secondary\" checked={getPermissionChecked(selectedUser, permission, grant)} />}\r\n                    onChange={handleClick(selectedUser, permission, grant)}\r\n                    labelPlacement=\"start\"\r\n                  />\r\n                </FormGroup>\r\n              ))}\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        ))\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      <Grid item xs={12}>\r\n        <Autocomplete\r\n          id=\"security-role-select\"\r\n          options={users}\r\n          getOptionLabel={(user) => user.username}\r\n          // eslint-disable-next-line react/jsx-props-no-spreading\r\n          renderInput={(params) => <TextField {...params} label=\"Users\" variant=\"outlined\" />}\r\n          onChange={(e, val) => {\r\n            setSelectedUser(val);\r\n          }}\r\n          value={selectedUser}\r\n          className={classes.selector}\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Paper variant=\"outlined\" className={classes.toolBar}>\r\n          <TextField\r\n            id=\"user-permissions-search\"\r\n            label=\"Search\"\r\n            size=\"small\"\r\n            value={filter}\r\n            onChange={handleFilterInputChange}\r\n          />\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={handleExpandAll}>{expanded.length !== codes.length ? 'Expand All' : 'Collapse All'}</Button>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        { renderPermissions() }\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nSecurityDetailsUserDisplay.propTypes = {\r\n  codes: PropTypes.arrayOf(PropTypes.shape({\r\n    code: PropTypes.string,\r\n  })).isRequired,\r\n  users: PropTypes.arrayOf(PropTypes.shape({\r\n    username: PropTypes.string,\r\n  })).isRequired,\r\n  userPermissions: PropTypes.shape({}).isRequired,\r\n  setUserPermissions: PropTypes.func.isRequired,\r\n  selectedUser: PropTypes.shape({\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n  setSelectedUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SecurityDetailsUserDisplay;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  AppBar, Tabs, Tab, Box,\r\n} from '@material-ui/core';\r\nimport SecurityInfoProvider from './components/security-info-provider';\r\nimport SecurityDetailsRoleDisplay from './components/security-details-role-display';\r\nimport SecurityDetailsUserDisplay from './components/security-details-user-display';\r\n\r\nconst TabControl = ({ value, setValue }) => {\r\n  const handleChange = (e, newVal) => {\r\n    setValue(newVal);\r\n  };\r\n  return (\r\n    <Box mt={2}>\r\n      <AppBar position=\"static\" color=\"transparent\" elevation={0}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          centered\r\n          mt={5}\r\n        >\r\n          <Tab label=\"Roles\" />\r\n          <Tab label=\"Users\" />\r\n        </Tabs>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nTabControl.propTypes = {\r\n  value: PropTypes.number.isRequired,\r\n  setValue: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TabPanel({\r\n  children, value, index,\r\n}) {\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n    >\r\n      {value === index && (\r\n        <Box>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nTabPanel.propTypes = {\r\n  children: PropTypes.shape({}).isRequired,\r\n  value: PropTypes.number.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n};\r\n\r\nconst SecurityDetails = () => {\r\n  const [permissionCodes, setPermissionCodes] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [rolePermissions, setRolePermissions] = useState({});\r\n  const [userPermissions, setUserPermissions] = useState({});\r\n  const [selectedRole, setSelectedRole] = useState(null);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedTab, setSetlectedTab] = useState(0);\r\n\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedRole((prev) => {\r\n      if (prev === null && roles.length > 0) return roles[0];\r\n      return prev;\r\n    });\r\n  }, [roles]);\r\n\r\n  useEffect(() => {\r\n    setSelectedUser((prev) => {\r\n      if (prev === null && users.length > 0) return users[0];\r\n      return prev;\r\n    });\r\n  }, [users]);\r\n\r\n  return (\r\n    <>\r\n      <SecurityInfoProvider\r\n        setLoaded={setLoaded}\r\n        setPermissionCodes={setPermissionCodes}\r\n        setRoles={setRoles}\r\n        setUsers={setUsers}\r\n        setRolePermissions={setRolePermissions}\r\n        setUserPermissions={setUserPermissions}\r\n      />\r\n      {\r\n        loaded\r\n          ? (\r\n            <>\r\n              <TabControl value={selectedTab} setValue={setSetlectedTab} />\r\n              <TabPanel value={selectedTab} index={0}>\r\n                <SecurityDetailsRoleDisplay\r\n                  codes={permissionCodes}\r\n                  roles={roles}\r\n                  rolePermissions={rolePermissions}\r\n                  setRolePermissions={setRolePermissions}\r\n                  selectedRole={selectedRole}\r\n                  setSelectedRole={setSelectedRole}\r\n                />\r\n              </TabPanel>\r\n              <TabPanel value={selectedTab} index={1}>\r\n                <SecurityDetailsUserDisplay\r\n                  codes={permissionCodes}\r\n                  users={users}\r\n                  userPermissions={userPermissions}\r\n                  setUserPermissions={setUserPermissions}\r\n                  selectedUser={selectedUser}\r\n                  setSelectedUser={setSelectedUser}\r\n                />\r\n              </TabPanel>\r\n            </>\r\n          )\r\n          : null\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SecurityDetails;\r\n","import SecurityDetails from './SecurityDetails';\r\n\r\nexport default SecurityDetails;\r\n","import SettingsRolesPage from './SettingsRoles';\r\n\r\nexport default SettingsRolesPage;\r\n","import React from 'react';\r\nimport SecurityDetails from '../../components/security-details';\r\n\r\nconst SettingsRolesPage = () => (<SecurityDetails />);\r\n\r\nexport default SettingsRolesPage;\r\n","import SettingsPage from './SettingsPage';\r\n\r\nexport default SettingsPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport { Container } from '@material-ui/core';\r\nimport DocumentTitle from 'react-document-title';\r\nimport LoginRequired from '../../components/shared/login-required';\r\nimport styles from './styles';\r\nimport SettingsGeneral from '../settings-general';\r\nimport SettingsUsers from '../settings-users';\r\nimport SettingsAppraisalPeriods from '../settings-app-periods';\r\nimport SettingsAppraisalItems from '../settings-app-items';\r\nimport SettingsRolesPage from '../settings-role-permissions';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\n\r\n/*\r\n * On the settings page the navigation will be done via a\r\n */\r\nconst SettingsPage = () => {\r\n  const { path } = useRouteMatch();\r\n  const classes = styles();\r\n\r\n  return (\r\n    <>\r\n      <LoginRequired />\r\n      <Container maxWidth=\"lg\" className={classes.root}>\r\n        <Switch>\r\n          <Route exact path={path}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"general\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <SettingsGeneral />\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/users`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"users\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Users\">\r\n                <SettingsUsers />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-periods`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-periods\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal periods\">\r\n                <SettingsAppraisalPeriods />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/appraisal-items`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"appraisal-items\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - appraisal items\">\r\n                <SettingsAppraisalItems />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/permissions`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"SETTINGS\"\r\n              grant=\"permissions\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Settings - Securities\">\r\n                <SettingsRolesPage />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n        </Switch>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SettingsPage;\r\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Delete } from '@material-ui/icons';\nimport {\n  Button,\n  Divider,\n  IconButton,\n  List, ListItem, ListItemSecondaryAction, MenuItem, TextField, Typography,\n} from '@material-ui/core';\nimport ReportingService from '../../../../services/ReportingService';\n\nconst ReportDetailsParametersEdit = ({ template, params, handleUpdate }) => {\n  const [possibleParams, setPossibleParams] = useState([]);\n  const [newParam, setNewParam] = useState({\n    name: '',\n    defaultValue: '',\n    path: '',\n  });\n\n  const handleChangeNewParam = (key) => (evt) => {\n    const { value } = evt.target;\n    setNewParam((prev) => ({\n      ...prev,\n      [key]: value,\n    }));\n  };\n\n  const handleAddParameter = () => {\n    if (newParam.name === '' || newParam.path === '') return;\n    handleUpdate((prev) => ({\n      ...prev,\n      parameters: prev.parameters.concat(newParam),\n    }));\n    setNewParam({\n      name: '',\n      defaultValue: '',\n      path: '',\n    });\n  };\n\n  const handleDeleteParameter = (path) => () => {\n    handleUpdate((prev) => ({\n      ...prev,\n      parameters: prev.parameters.filter((p) => p.path !== path),\n    }));\n  };\n\n  const handleUpdateParameter = (path, key) => (evt) => {\n    const { value } = evt.target;\n    handleUpdate((prev) => ({\n      ...prev,\n      parameters: prev.parameters.map((p) => {\n        if (p.path === path) {\n          return {\n            ...p,\n            [key]: value,\n          };\n        }\n        return p;\n      }),\n    }));\n  };\n\n  useEffect(() => {\n    let mounted = true;\n    async function run() {\n      const resultParams = await ReportingService.getTempalteParameters(template.id);\n      if (mounted) {\n        setPossibleParams(resultParams);\n      }\n    }\n    run();\n    return () => {\n      mounted = false;\n    };\n  }, [template.id]);\n\n  return (\n    <List dense className=\"owl fullWidth\">\n      {\n      params.map((p) => (\n        <>\n          <ListItem>\n            <div className=\"flexColumn owl\">\n              <TextField\n                label=\"Name\"\n                variant=\"outlined\"\n                value={p.name}\n                onChange={handleUpdateParameter(p.path, 'name')}\n              />\n              <TextField\n                label=\"Default Value\"\n                variant=\"outlined\"\n                value={p.defaultValue}\n                onChange={handleUpdateParameter(p.path, 'defaultValue')}\n              />\n              <TextField\n                label=\"Path\"\n                variant=\"outlined\"\n                disabled\n                value={p.path}\n              />\n            </div>\n            <ListItemSecondaryAction>\n              <IconButton edge=\"end\" aria-label=\"delete\" onClick={handleDeleteParameter(p.path)}>\n                <Delete />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          <Divider />\n        </>\n      ))\n    }\n      <ListItem className=\"flexColumn owl\">\n        <Typography variant=\"body1\">Add new:</Typography>\n        <TextField\n          label=\"Name\"\n          variant=\"outlined\"\n          value={newParam.name}\n          onChange={handleChangeNewParam('name')}\n        />\n        <TextField\n          label=\"Default value\"\n          variant=\"outlined\"\n          value={newParam.defaultValue}\n          onChange={handleChangeNewParam('defaultValue')}\n        />\n        <TextField\n          label=\"Parameter\"\n          variant=\"outlined\"\n          value={newParam.path}\n          helperText=\"Select the path meant to be modified\"\n          onChange={handleChangeNewParam('path')}\n          select\n        >\n          <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem>\n          {possibleParams.map((param) => param.paths.map((p) => (\n            <MenuItem\n              disabled={params.length && params.find((pr) => pr.path === `${param.name}.${p}`) !== -1}\n              value={`${param.name}.${p}`}\n            >\n              {`${param.name}.${p}`}\n            </MenuItem>\n          )))}\n        </TextField>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={handleAddParameter}\n          disabled={!(newParam.name.length && newParam.path.length)}\n        >\n          Add\n        </Button>\n      </ListItem>\n    </List>\n  );\n};\n\nReportDetailsParametersEdit.propTypes = {\n  template: PropTypes.string.isRequired,\n  params: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n};\n\nexport default ReportDetailsParametersEdit;\n","import {\n  Box, Divider, TextField, Typography,\n} from '@material-ui/core';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ReportDetailsParameters = ({ params, handleUpdate }) => (\n  <>\n    {\n          params.map((d, idx) => (\n            <>\n              <Box className=\"flexColumn owl\">\n                <Typography variant=\"body1\">\n                  <strong>Name: </strong>\n                  { ' ' }\n                  {d.name}\n                </Typography>\n                <Typography variant=\"body1\">\n                  <strong>Path: </strong>\n                  { ' ' }\n                  {d.path}\n                </Typography>\n                <TextField\n                  label=\"Value\"\n                  variant=\"standard\"\n                  value={d.value}\n                  onChange={handleUpdate(idx)}\n                />\n              </Box>\n              <Divider style={{ width: '100%' }} />\n            </>\n          ))\n    }\n  </>\n);\n\nReportDetailsParameters.propTypes = {\n  params: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n};\n\nexport default ReportDetailsParameters;\n","import {\r\n  Box,\r\n  Button, Container, Divider, Grid, Paper, TextField, Typography,\r\n} from '@material-ui/core';\r\nimport { downloadBlob } from 'download.js';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport PageHeader from '../../../shared/page-header/PageHeader';\r\nimport ReportDetailsParametersEdit from '../report-details-parameters-edit/ReportDetailsParametersEdit';\r\nimport ReportDetailsParameters from '../report-details-parameters/ReportDetailsParameters';\r\n\r\nconst ReportDetails = () => {\r\n  const [edit, setEdit] = useState(false);\r\n  const [details, setDetails] = useState(null);\r\n  const [updated, setUpdated] = useState({});\r\n  const [parameters, setParameters] = useState([]);\r\n  const params = useParams();\r\n  const { id } = params;\r\n\r\n  const handleUpdated = (data) => {\r\n    setUpdated({\r\n      name: data.name,\r\n      description: data.description,\r\n      parameters: data.parameters,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const reportDetails = await ReportingService.getReport(id);\r\n      if (mounted) {\r\n        setDetails(reportDetails);\r\n        handleUpdated(reportDetails);\r\n        setParameters(reportDetails.parameters.map((p) => ({\r\n          name: p.name,\r\n          value: p.defaultValue,\r\n          path: p.path,\r\n        })));\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  const handleChange = (key) => (evt) => {\r\n    const { value } = evt.currentTarget;\r\n    setUpdated((prev) => ({\r\n      ...prev,\r\n      [key]: value,\r\n    }));\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    const reply = await ReportingService.generateReport(id, parameters);\r\n    await downloadBlob(details.template.filename, reply);\r\n  };\r\n\r\n  const handleParameterUpdate = (idx) => (evt) => {\r\n    const { value } = evt.currentTarget;\r\n    setParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].value = value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setEdit(true);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (edit) {\r\n      const result = await ReportingService.updateReport(details.id, updated);\r\n      setDetails(result);\r\n      handleUpdated(result);\r\n      setParameters(result.parameters.map((p) => ({\r\n        name: p.name,\r\n        value: p.defaultValue,\r\n        path: p.path,\r\n      })));\r\n      setEdit(false);\r\n    }\r\n  };\r\n\r\n  let render = null;\r\n  if (details) {\r\n    render = (\r\n      <Grid container className=\"owl\">\r\n        <Grid item xs={12}>\r\n          <PageHeader text={details.name} />\r\n        </Grid>\r\n        <Grid item xs={12} container component={Paper}>\r\n          <Box p={2} className=\"flexColumn owl\">\r\n            <Typography variant=\"h6\">General: </Typography>\r\n            <TextField\r\n              label=\"Name\"\r\n              variant=\"outlined\"\r\n              disabled={!edit}\r\n              value={updated.name}\r\n              onChange={handleChange('name')}\r\n            />\r\n            <TextField\r\n              label=\"Description\"\r\n              variant=\"outlined\"\r\n              disabled={!edit}\r\n              multiline\r\n              value={updated.description}\r\n              onChange={handleChange('description')}\r\n            />\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={12} container component={Paper}>\r\n          <Grid item xs={12} sm={6}>\r\n            <Box p={2} width=\"100%\" className=\"flexColumn owl\">\r\n              <Typography variant=\"h6\">Parameters: </Typography>\r\n              <Divider style={{ width: '100%' }} />\r\n              {\r\n                edit\r\n                  ? (\r\n                    <ReportDetailsParametersEdit\r\n                      params={updated.parameters}\r\n                      handleUpdate={setUpdated}\r\n                      template={details.template}\r\n                    />\r\n                  )\r\n                  : (\r\n                    <ReportDetailsParameters\r\n                      params={parameters}\r\n                      handleUpdate={handleParameterUpdate}\r\n                    />\r\n                  )\r\n              }\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Box p={2}>\r\n              <Box mb={1}>\r\n                <Typography variant=\"h6\">Aggregation: </Typography>\r\n              </Box>\r\n              <TextField\r\n                multiline\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                label=\"Aggregation\"\r\n                disabled\r\n                value={JSON.stringify(JSON.parse(details.template.aggregation), null, 4)}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs={12} component={Paper}>\r\n          <Box className=\"flexRow owlHorizontal\" p={2}>\r\n            <Button\r\n              disabled={Boolean(edit)}\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={handleGenerate}\r\n            >\r\n              Generate\r\n            </Button>\r\n            {\r\n              edit\r\n                ? (<Button variant=\"contained\" color=\"secondary\" onClick={handleSave}>Save</Button>)\r\n                : (<Button variant=\"contained\" color=\"secondary\" onClick={handleEdit}>Edit</Button>)\r\n            }\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      {render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportDetails;\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  textField: {\n    width: '30%',\n  },\n}));\n\nexport default useStyles;\n","import {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  MenuItem,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useState, useEffect } from 'react';\r\nimport ReportingService from '../../../../services/ReportingService';\r\nimport NotificationService from '../../../../services/NotificationService';\r\nimport PageHeader from '../../../shared/page-header/PageHeader';\r\nimport useStyles from './styles';\r\n\r\nconst ReportNew = () => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [template, setTemplate] = useState('');\r\n  const [parameter, setParameter] = useState('');\r\n  const [templates, setTemplates] = useState([]);\r\n  const [parameters, setParameters] = useState([]);\r\n  const [selectedParameters, setSelectedParameters] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (set) => (e) => {\r\n    set(e.target.value);\r\n  };\r\n\r\n  const handleChangeTempalte = (e) => {\r\n    setTemplate(e.target.value);\r\n  };\r\n\r\n  const handleChangeParameter = (e) => {\r\n    setParameter(e.target.value);\r\n  };\r\n\r\n  const handleAddParameter = (e) => {\r\n    if (parameter !== '') {\r\n      setSelectedParameters((prev) => {\r\n        if (selectedParameters.map((p) => p.name).indexOf(parameter) === -1) {\r\n          return prev.concat({\r\n            name: parameter,\r\n            defaultValue: '',\r\n            path: parameter,\r\n          });\r\n        }\r\n        setParameter('');\r\n        return prev;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleChangeParameterName = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].name = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleChangeParameterValue = (idx) => (e) => {\r\n    e.persist();\r\n    setSelectedParameters((prev) => {\r\n      const copy = prev.slice();\r\n      copy[idx].defaultValue = e.target.value;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.persist();\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('name', name);\r\n    formData.append('description', description);\r\n    formData.append('template', template);\r\n    formData.append('parameters', JSON.stringify(selectedParameters));\r\n    const result = await ReportingService.addReport(formData);\r\n    if (result) {\r\n      history.push('/reporting/reports');\r\n      NotificationService.notify({\r\n        type: 'success',\r\n        header: 'Report created',\r\n        content: 'Report successfully created',\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const t = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(t);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      if (template !== '') {\r\n        const params = await ReportingService.getTempalteParameters(template);\r\n        if (params.length && mounted) {\r\n          setParameters(params);\r\n        }\r\n      } else {\r\n        setParameters([]);\r\n      }\r\n      setSelectedParameters([]);\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [template]);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Grid container className=\"owl\">\r\n          <Grid item xs={12}>\r\n            <PageHeader text=\"Create Report\" />\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Box\r\n                p={2}\r\n                className=\"centerFlexColumn owl\"\r\n              >\r\n                <Typography variant=\"h6\" align=\"center\">\r\n                  General:\r\n                </Typography>\r\n                <TextField\r\n                  className={classes.textField}\r\n                  label=\"Name\"\r\n                  variant=\"outlined\"\r\n                  required\r\n                  onChange={handleChange(setName)}\r\n                />\r\n                <TextField\r\n                  className={classes.textField}\r\n                  label=\"Description\"\r\n                  variant=\"outlined\"\r\n                  multiline\r\n                  required\r\n                  onChange={handleChange(setDescription)}\r\n                />\r\n                <TextField\r\n                  className={classes.textField}\r\n                  label=\"Template\"\r\n                  variant=\"outlined\"\r\n                  value={template}\r\n                  onChange={handleChangeTempalte}\r\n                  required\r\n                  select\r\n                >\r\n                  <MenuItem value=\"\">\r\n                    <em>None</em>\r\n                  </MenuItem>\r\n                  {templates.map((t) => (\r\n                    <MenuItem value={t.id}>{t.name}</MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <Paper>\r\n              <Box p={2} className=\"centerFlexColumn owl\">\r\n                <Typography variant=\"h6\" align=\"center\">\r\n                  Parameters:\r\n                </Typography>\r\n                <TextField\r\n                  label=\"Parameter\"\r\n                  className={classes.textField}\r\n                  variant=\"outlined\"\r\n                  onChange={handleChangeParameter}\r\n                  select\r\n                >\r\n                  <MenuItem value=\"\">\r\n                    <em>None</em>\r\n                  </MenuItem>\r\n                  {parameters.map((param) => param.paths.map((p) => (\r\n                    <MenuItem value={`${param.name}.${p}`}>{`${param.name}.${p}`}</MenuItem>\r\n                  )))}\r\n                </TextField>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  onClick={handleAddParameter}\r\n                >\r\n                  Add Parameter\r\n                </Button>\r\n                {\r\n          selectedParameters.length\r\n            ? (\r\n              <Table>\r\n                <TableBody>\r\n                  {selectedParameters.map((sp, idx) => (\r\n                    <TableRow key={sp.path}>\r\n                      <TableCell style={{\r\n                        display: 'flex',\r\n                        flexFlow: 'column nowrap',\r\n                        alignItems: 'center',\r\n                      }}\r\n                      >\r\n                        <TextField\r\n                          label=\"Name\"\r\n                          value={sp.name}\r\n                          onChange={handleChangeParameterName(idx)}\r\n                        />\r\n                        <TextField\r\n                          label=\"Default value\"\r\n                          value={sp.defaultValue}\r\n                          onChange={handleChangeParameterValue(idx)}\r\n                        />\r\n                        <TextField\r\n                          label=\"Path\"\r\n                          disabled\r\n                          value={sp.path}\r\n                        />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            )\r\n            : null\r\n        }\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n          <Grid item xs={12} className=\"centerFlexColumn\">\r\n            <Button type=\"submit\" variant=\"contained\" color=\"secondary\">\r\n              Create\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportNew;\r\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst ReportsInfoProvider = ({ setReports }) => {\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const reports = await ReportingService.getReports();\r\n      if (mounted) {\r\n        setReports(reports);\r\n      }\r\n    }\r\n    run();\r\n    return () => { mounted = false; };\r\n  }, [setReports]);\r\n  return null;\r\n};\r\n\r\nReportsInfoProvider.propTypes = {\r\n  setReports: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportsInfoProvider;\r\n","import ReportsInfoProvider from './ReportsInfoProvider';\r\n\r\nexport default ReportsInfoProvider;\r\n","import {\r\n  Box, Button, Container, Grid, Paper,\r\n} from '@material-ui/core';\r\nimport MaterialTable from 'material-table';\r\nimport React, { useState } from 'react';\r\nimport { useRouteMatch, Link, useHistory } from 'react-router-dom';\r\nimport materialTableUtils from '../../utils/material-table-utils';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport ReportsInfoProvider from './components/reports-info-provider';\r\n\r\nconst ReportsList = () => {\r\n  const history = useHistory();\r\n  const [reports, setReports] = useState([]);\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <ReportsInfoProvider setReports={setReports} />\r\n      <Grid container className=\"owl\">\r\n        <Grid item xs={12}>\r\n          <PageHeader text=\"Reports\" />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper>\r\n            <Box p={2} className=\"centerFlexRow\">\r\n              <Link to={`${path}/new`} className=\"textDecorationOff\">\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                >\r\n                  New Report\r\n                </Button>\r\n              </Link>\r\n            </Box>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <MaterialTable\r\n            icons={materialTableUtils.tableIcons}\r\n            title=\"\"\r\n            columns={[\r\n              {\r\n                title: 'Name', field: 'name',\r\n              },\r\n              {\r\n                title: 'Description',\r\n                field: 'description',\r\n                cellStyle: {\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap',\r\n                  overflow: 'hidden',\r\n                  maxWidth: 100,\r\n                },\r\n              },\r\n              {\r\n                title: 'Organization', field: 'organizationId.name',\r\n              },\r\n              {\r\n                title: 'Parameters',\r\n                render: (rowData) => rowData.parameters.map((p) => p.name).join(', '),\r\n                cellStyle: {\r\n                  textOverflow: 'ellipsis',\r\n                  whiteSpace: 'nowrap',\r\n                  overflow: 'hidden',\r\n                  maxWidth: 100,\r\n                },\r\n              },\r\n              {\r\n                title: 'Created user', field: 'createdUser.username',\r\n              },\r\n              {\r\n                title: 'Created date', render: (rowData) => new Date(rowData.createdDate).toLocaleString(),\r\n              },\r\n            ]}\r\n            data={reports}\r\n            onRowClick={(evt, rowData) => history.push(`${path}/${rowData.id}`)}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportsList;\r\n","import ReportsPage from './ReportsPage';\r\n\r\nexport default ReportsPage;\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport ReportDetails from '../../components/reports/components/report-details/ReportDetails';\r\nimport ReportNew from '../../components/reports/components/reports-new/ReportNew';\r\nimport ReportsList from '../../components/reports/ReportsList';\r\n\r\nconst ReportsPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <ReportsList />\r\n        </Route>\r\n        <Route exact path={`${path}/new`}>\r\n          <ReportNew />\r\n        </Route>\r\n        <Route exact path={`${path}/:id`}>\r\n          <ReportDetails />\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;\r\n","const { default: ReportTemplatesList } = require('./ReportTemplatesList');\r\n\r\nexport default ReportTemplatesList;\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  paddedContainer: {\n    padding: theme.spacing(1),\n    '& > * + *': {\n      marginTop: theme.spacing(1),\n    },\n  },\n  row: {\n    display: 'block',\n  },\n  textarea: {\n    width: '100%',\n    '& textarea': {\n      width: '100%',\n    },\n  },\n  ceneteredItems: {\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'center',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default useStyles;\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport { useParams } from 'react-router-dom';\r\nimport ReportingService from '../../services/ReportingService';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\nimport useStyles from './styles';\r\n\r\nconst ReportTemplateDetails = () => {\r\n  const { id } = useParams();\r\n  const [template, setTemplate] = useState(null);\r\n  const classes = useStyles();\r\n  const [edit, setEdit] = useState(false);\r\n  const [updated, setUpdated] = useState({});\r\n\r\n  const handleUpdated = (data) => {\r\n    setUpdated({\r\n      name: data.name,\r\n      filename: data.filename,\r\n      aggregation: data.aggregation,\r\n    });\r\n  };\r\n\r\n  const handleEditButton = () => {\r\n    setEdit(true);\r\n  };\r\n\r\n  const handleChange = (key) => (evt) => {\r\n    const val = evt.currentTarget.value;\r\n    setUpdated((prev) => ({\r\n      ...prev,\r\n      [key]: val,\r\n    }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const updateResult = await ReportingService.updateTemplate(template.id, updated);\r\n    setTemplate(updateResult);\r\n    setEdit(false);\r\n    handleUpdated(updateResult);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const data = await ReportingService.getTemplate(id);\r\n      if (mounted) {\r\n        setTemplate(data);\r\n        handleUpdated(data);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [id]);\r\n\r\n  if (!template) return null;\r\n\r\n  const render = (\r\n    <Grid container className={classes.paddedContainer}>\r\n      <Grid item xs={12}>\r\n        <PageHeader text={`Details - ${template.name}`} />\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Paper title=\"Meta\" className={classes.paddedContainer}>\r\n          <Typography variant=\"caption\" className={classes.row}>\r\n            <strong>Created user:</strong>\r\n            { ' ' }\r\n            { (template.createdUser && template.createdUser.username) || '' }\r\n          </Typography>\r\n          <Typography variant=\"caption\" className={classes.row}>\r\n            <strong>Created date:</strong>\r\n            { ' ' }\r\n            { (template.createdDate && new Date(template.createdDate).toLocaleString()) || '' }\r\n          </Typography>\r\n          {\r\n            template.modifiedUser\r\n            && (\r\n              <Typography variant=\"caption\" className={classes.row}>\r\n                <strong>Modified user:</strong>\r\n                { ' ' }\r\n                { (template.modifiedUser && template.modifiedUser.username) || '' }\r\n              </Typography>\r\n            )\r\n          }\r\n          {\r\n            template.modifiedUser\r\n            && (\r\n              <Typography variant=\"caption\" className={classes.row}>\r\n                <strong>Modified date:</strong>\r\n                { ' ' }\r\n                { (template.modifiedDate && new Date(template.modifiedDate).toLocaleString()) || '' }\r\n              </Typography>\r\n            )\r\n          }\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Paper title=\"General\" className={classes.paddedContainer}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            label=\"Name\"\r\n            disabled={!edit}\r\n            value={updated.name || ''}\r\n            className={classes.row}\r\n            onChange={handleChange('name')}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            label=\"Original Filename\"\r\n            disabled={!edit}\r\n            value={updated.filename || ''}\r\n            className={classes.row}\r\n            onChange={handleChange('filename')}\r\n          />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12}>\r\n        <Paper title=\"Aggregation\" className={classes.paddedContainer}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            multiline\r\n            label=\"Aggregation\"\r\n            disabled={!edit}\r\n            value={updated.aggregation}\r\n            className={classes.textarea}\r\n            onChange={handleChange('aggregation')}\r\n          />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.ceneteredItems}>\r\n        {\r\n          edit\r\n            ? (\r\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleSave}>Save</Button>\r\n            )\r\n            : (\r\n              <Button variant=\"contained\" color=\"secondary\" onClick={handleEditButton}>Edit</Button>\r\n            )\r\n        }\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      {render}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportTemplateDetails;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Button, Box, Typography,\r\n} from '@material-ui/core';\r\nimport {\r\n  CloudUpload,\r\n} from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'inline-flex',\r\n    flexFlow: 'row nowrap',\r\n    alignItems: 'center',\r\n  },\r\n  input: {\r\n    display: 'none',\r\n  },\r\n  text: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst UploadFileComponent = ({ label, file, setFile }) => {\r\n  const classes = useStyles();\r\n  const [filename, setFilename] = useState(file ? file.name : '...');\r\n\r\n  const handleChange = (evt) => {\r\n    const filelist = evt.target.files;\r\n    if (filelist.length > 0) {\r\n      setFilename(filelist[0].name);\r\n      setFile(filelist[0]);\r\n    } else {\r\n      setFilename('...');\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.root}>\r\n      <input\r\n        id=\"upload-file-input\"\r\n        type=\"file\"\r\n        className={classes.input}\r\n        onChange={handleChange}\r\n      />\r\n      <label htmlFor=\"upload-file-input\">\r\n        <Button\r\n          variant=\"text\"\r\n          startIcon={<CloudUpload />}\r\n          component=\"span\"\r\n        >\r\n          {label || 'Uplaod'}\r\n        </Button>\r\n      </label>\r\n      <Typography variant=\"caption\" className={classes.text}>{filename}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nUploadFileComponent.propTypes = {\r\n  file: PropTypes.shape({\r\n    name: PropTypes.string,\r\n  }).isRequired,\r\n  setFile: PropTypes.func.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default UploadFileComponent;\r\n","import UploadFileComponent from './UploadFileComponent';\r\n\r\nexport default UploadFileComponent;\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'flex-start',\n    '& > * + *': {\n      marginTop: theme.spacing(1),\n    },\n  },\n  buttons: {\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'flex-start',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default useStyles;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Box, Button, TextField, Typography,\n} from '@material-ui/core';\nimport UploadFileComponent from '../../../shared/upload-file-component';\nimport useStyles from './style';\n\nconst AddTemplateStep = ({\n  advanceStep, prevStep, name, setName, file, setFile,\n}) => {\n  const classes = useStyles();\n\n  const handleChange = (evt) => {\n    setName(evt.target.value);\n  };\n\n  return (\n    <Box className={classes.root}>\n      <Typography variant=\"subtitle1\">\n        Specify your template name, then attach your template file.\n        { ' ' }\n        (Ex: All user info, or Items per user).\n      </Typography>\n      <TextField\n        value={name}\n        onChange={handleChange}\n        variant=\"outlined\"\n        color=\"secondary\"\n        label=\"Template Name\"\n        id=\"new-template-name\"\n        name=\"new-template-name\"\n        size=\"small\"\n      />\n      <UploadFileComponent label=\"Template File\" file={file} setFile={setFile} />\n      <Box p={2} className={classes.buttons}>\n        <Button variant=\"contained\" color=\"primary\" onClick={prevStep}>Back</Button>\n        <Button variant=\"contained\" color=\"primary\" onClick={advanceStep}>Next</Button>\n      </Box>\n    </Box>\n  );\n};\n\nAddTemplateStep.propTypes = {\n  advanceStep: PropTypes.func.isRequired,\n  prevStep: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  setName: PropTypes.func.isRequired,\n  file: PropTypes.shape({}),\n  setFile: PropTypes.func.isRequired,\n};\n\nAddTemplateStep.defaultProps = {\n  file: null,\n};\n\nexport default AddTemplateStep;\n","import AddTemplateStep from './AddTemplateStep';\n\nexport default AddTemplateStep;\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(1),\r\n    },\r\n  },\r\n  multilineInput: {\r\n    width: '100%',\r\n    '& textarea': {\r\n      // minHeight: 400,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import { OutlinedInput } from '@material-ui/core';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst JsonEditorComponent = ({\r\n  value, setValue, Component, readOnly, className,\r\n}) => {\r\n  const handleKeyPress = (evt) => {\r\n    if (evt.key === 'Enter') {\r\n      console.log(evt.key);\r\n    }\r\n  };\r\n\r\n  const handleChange = (evt) => {\r\n    setValue(evt.target.value);\r\n  };\r\n\r\n  const Wrapper = Component || OutlinedInput;\r\n\r\n  return (\r\n    <Wrapper\r\n      multiline\r\n      rows={20}\r\n      rowsMax={30}\r\n      readOnly={readOnly}\r\n      value={value}\r\n      className={className}\r\n      onKeyPress={handleKeyPress}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nJsonEditorComponent.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  readOnly: PropTypes.bool,\r\n  setValue: PropTypes.func.isRequired,\r\n  Component: PropTypes.element,\r\n  className: PropTypes.string,\r\n};\r\n\r\nJsonEditorComponent.defaultProps = {\r\n  readOnly: false,\r\n  className: '',\r\n  Component: null,\r\n};\r\n\r\nexport default JsonEditorComponent;\r\n","import JsonEditorComponent from './JsonEditorComponent';\r\n\r\nexport default JsonEditorComponent;\r\n","import AggregationStep from \"./AggregationStep\";\r\n\r\nexport default AggregationStep;\r\n","import {\r\n  Box, Button, Typography,\r\n} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport useStyles from './style';\r\nimport JsonEditorComponent from '../../../shared/json-editor-component';\r\nimport ReportingService from '../../../../services/ReportingService';\r\n\r\nconst AggregationStep = ({ value, setValue, advanceStep }) => {\r\n  const classes = useStyles();\r\n  const [sample, setSample] = useState('');\r\n\r\n  const handleSample = async () => {\r\n    const data = await ReportingService.getSample(value);\r\n    setSample(data);\r\n  };\r\n\r\n  return (\r\n    <Box className={classes.root}>\r\n      <Typography variant=\"subtitle1\">\r\n        Create a valid MongoDB aggregation.\r\n        Test and verify if it returns valid info below.\r\n        For more info, refer to MongoDB\r\n        {' '}\r\n        <a href=\"https://docs.mongodb.com/manual/aggregation/\" target=\"_blank\" rel=\"noopener noreferrer\">documentation</a>\r\n        .\r\n      </Typography>\r\n      <JsonEditorComponent\r\n        value={value}\r\n        setValue={setValue}\r\n        className={classes.multilineInput}\r\n      />\r\n      <div>\r\n        {\r\n          sample\r\n            ? (\r\n              <JsonEditorComponent\r\n                value={JSON.stringify(sample, null, 2)}\r\n                setValue={setSample}\r\n                readOnly\r\n                className={classes.multilineInput}\r\n              />\r\n            )\r\n            : null\r\n        }\r\n      </div>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSample}>Get sample</Button>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={advanceStep}>Next</Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nAggregationStep.propTypes = {\r\n  advanceStep: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  setValue: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AggregationStep;\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'flex-start',\n    '& > * + *': {\n      marginTop: theme.spacing(1),\n    },\n  },\n  buttons: {\n    display: 'flex',\n    flexFlow: 'row nowrap',\n    justifyContent: 'flex-start',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default useStyles;\n","import TryOutStep from './TryOutStep';\n\nexport default TryOutStep;\n","import { Box, Button, Typography } from '@material-ui/core';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport useStyles from './style';\n\nconst TryOutStep = ({ prevStep, handleSubmit, handleGenerate }) => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.root}>\n      <Typography variant=\"subtitle1\">\n        You can generate your report to check if everything is working.\n        { ' ' }\n        After, you can click &apos;Submit&apos; to save it.\n      </Typography>\n      <Box className={classes.buttons}>\n        <Button\n          onClick={prevStep}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Back\n        </Button>\n        <Button\n          onClick={handleSubmit}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Submit\n        </Button>\n        <Button\n          onClick={handleGenerate}\n          variant=\"contained\"\n          color=\"primary\"\n        >\n          Generate\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nTryOutStep.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  prevStep: PropTypes.func.isRequired,\n  handleGenerate: PropTypes.func.isRequired,\n};\n\nexport default TryOutStep;\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(3),\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  formContainer: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import {\r\n  Typography,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  Container,\r\n} from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { downloadBlob } from 'download.js';\r\nimport React, { useState } from 'react';\r\nimport ReportingService from '../../services/ReportingService';\r\nimport AddTemplateStep from './components/AddTemplateStep';\r\nimport AggregationStep from './components/AggregationStep';\r\nimport TryOutStep from './components/TryOutStep';\r\nimport useStyles from './styles';\r\n\r\nconst ReportTemplateNew = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [aggregation, setAggregation] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const stepLabels = [\r\n    'Create your database aggregation',\r\n    'Add you template file',\r\n    'Try it out',\r\n  ];\r\n\r\n  const nextStep = () => {\r\n    setActiveStep((prev) => (prev + 1) % stepLabels.length);\r\n  };\r\n\r\n  const prevStep = () => {\r\n    setActiveStep((prev) => ((prev > 0) ? prev - 1 : 0));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', selectedFile);\r\n\r\n    await ReportingService.createTemplate(formData);\r\n    history.push('/reporting/templates');\r\n  };\r\n\r\n  const handleGenerate = async () => {\r\n    const formData = new FormData();\r\n    formData.append('aggregation', aggregation);\r\n    formData.append('name', name);\r\n    formData.append('template', selectedFile);\r\n\r\n    const result = await ReportingService.generateTemplate(formData);\r\n    await downloadBlob(selectedFile.name, result);\r\n  };\r\n\r\n  const stepContents = [\r\n    <AggregationStep\r\n      advanceStep={nextStep}\r\n      value={aggregation}\r\n      setValue={setAggregation}\r\n      setAggregation={setAggregation}\r\n    />,\r\n    <AddTemplateStep\r\n      name={name}\r\n      setName={setName}\r\n      file={selectedFile}\r\n      setFile={setSelectedFile}\r\n      advanceStep={nextStep}\r\n      prevStep={prevStep}\r\n    />,\r\n    <TryOutStep\r\n      prevStep={prevStep}\r\n      handleSubmit={handleSubmit}\r\n      handleGenerate={handleGenerate}\r\n    />,\r\n  ];\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Container maxWidth=\"lg\">\r\n        <Typography variant=\"h4\" component=\"h1\" className={classes.header}>\r\n          New Template\r\n        </Typography>\r\n        <Stepper elevation={2} activeStep={activeStep} orientation=\"vertical\">\r\n          {stepLabels.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                {stepContents[index]}\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n        </Stepper>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportTemplateNew;\r\n","import ReportTemplatesPage from './ReportTemplatesPage';\r\n\r\nexport default ReportTemplatesPage;\r\n","import React from 'react';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport ReportTemplatesList from '../../components/report-templates-list';\r\nimport ReportTemplateDetails from '../../components/report-template-details/ReportTemplateDetails';\r\nimport ReportTemplateNew from '../../components/report-templates-new/ReportNewTemplate';\r\n\r\nconst ReportTemplatesPage = () => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path}>\r\n        <ReportTemplatesList />\r\n      </Route>\r\n      <Route exact path={`${path}/new`}>\r\n        <ReportTemplateNew />\r\n      </Route>\r\n      <Route path={`${path}/:id`}>\r\n        <ReportTemplateDetails />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default ReportTemplatesPage;\r\n","import ReportingPage from './ReportingPage';\r\n\r\nexport default ReportingPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Container } from '@material-ui/core';\r\nimport { useRouteMatch, Switch, Route } from 'react-router-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport LoginRequired from '../../components/shared/login-required';\r\nimport AuthorizationRedirectComponent from '../../components/shared/authorization-redirect-component';\r\nimport ReportsPage from '../reporting-reports';\r\nimport ReportingTemplatesPage from '../reporting-templates';\r\n\r\nconst ReportingPage = ({ ctx, setCtx }) => {\r\n  const { path } = useRouteMatch();\r\n  return (\r\n    <>\r\n      <LoginRequired ctx={ctx} setCtx={setCtx} />\r\n      <Container maxWidth=\"lg\">\r\n        <Switch>\r\n          <Route path={`${path}/reports`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"REPORTS\"\r\n              grant=\"read\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <ReportsPage />\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n          <Route path={`${path}/templates`}>\r\n            <AuthorizationRedirectComponent\r\n              code=\"REPORT-TEMPLATES\"\r\n              grant=\"read\"\r\n              to=\"/\"\r\n              failureNotification={{\r\n                header: 'No Access',\r\n                content: 'No permission to access this page. Please contact your administrator.',\r\n              }}\r\n            >\r\n              <DocumentTitle title=\"Reporting Templates\">\r\n                <ReportingTemplatesPage />\r\n              </DocumentTitle>\r\n            </AuthorizationRedirectComponent>\r\n          </Route>\r\n        </Switch>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nReportingPage.propTypes = {\r\n  ctx: PropTypes.shape({\r\n    user: PropTypes.shape({\r\n      username: PropTypes.string,\r\n    }),\r\n  }).isRequired,\r\n  setCtx: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ReportingPage;\r\n","import LoginPage from './LoginPage';\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\n\r\nconst LoginPage = () => (\r\n  <>\r\n    <h1 style={{ textAlign: 'center' }}>Login</h1>\r\n    <a href=\"/api/login\">Login</a>\r\n  </>\r\n);\r\n\r\nexport default LoginPage;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgError = function SvgError(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 230.978 230.978\",\n    style: {\n      enableBackground: \"new 0 0 230.978 230.978\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgError, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/error.29ecac2f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m64 11.758 62.25 104.484h-124.5z\",\n  fill: \"#025f80\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m19.348 106.242 44.652-74.947 44.652 74.947z\",\n  fill: \"#ffef9e\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#ff62b4\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m59.75 56.852h8.5v22.287h-8.5z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m59.75 87.278h8.5v9.891h-8.5z\"\n}));\n\nvar SvgWarn = function SvgWarn(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_2\",\n    height: 512,\n    viewBox: \"0 0 128 128\",\n    \"data-name\": \"Layer 2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWarn, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/warn.6c796c9a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgInfo = function SvgInfo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"45.999px\",\n    height: \"45.999px\",\n    viewBox: \"0 0 45.999 45.999\",\n    style: {\n      enableBackground: \"new 0 0 45.999 45.999\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInfo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/info.f49ce241.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z\"\n}));\n\nvar SvgSuccess = function SvgSuccess(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSuccess, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/success.ea116b8d.svg\";\nexport { ForwardRef as ReactComponent };","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst palette = {\r\n  info: {\r\n    text: '#ffffff',\r\n    bg: '#1976d2',\r\n    bgLight: '#63a4ff',\r\n    bgDark: '#004ba0',\r\n  },\r\n  warning: {\r\n    text: '#000000',\r\n    bg: '#ffa000',\r\n    bgLight: '#ffd149',\r\n    bgDark: '#c67100',\r\n  },\r\n  error: {\r\n    text: '#ffffff',\r\n    bg: '#d32f2f',\r\n    bgLight: '#ff6659',\r\n    bgDark: '#9a0007',\r\n  },\r\n  success: {\r\n    text: '#000000',\r\n    bg: '#00c853',\r\n    bgLight: '#5efc82',\r\n    bgDark: '#009624',\r\n  },\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  '@keyframes timerSlide': {\r\n    from: { width: '100%' },\r\n    to: { width: '0px' },\r\n  },\r\n  '@keyframes test': {\r\n    '0%': { },\r\n    '100%': {},\r\n  },\r\n  popUpContainer: (props) => ({\r\n    position: 'relative',\r\n    backgroundColor: palette[props.entry.type].bg,\r\n    borderRadius: 3,\r\n    color: palette[props.entry.type].text,\r\n    overflow: 'hidden',\r\n    maxWidth: 400,\r\n    opacity: '0.7',\r\n    fontFamily: 'Roboto',\r\n    '& > *:last-child': {\r\n      padding: '1em',\r\n    },\r\n  }),\r\n  popUpHeader: {\r\n    fontSize: '1.5em',\r\n    padding: '0.2em 0',\r\n    textAlign: 'center',\r\n  },\r\n  popUpWatermark: {\r\n    position: 'absolute',\r\n    width: '30%',\r\n    height: '100%',\r\n    right: '0%',\r\n    top: '0%',\r\n    opacity: '0.8',\r\n    mixBlendMode: 'soft-light',\r\n    '& > *': {\r\n      width: '100%',\r\n      height: 'auto',\r\n    },\r\n  },\r\n  popUpDelimiter: (props) => ({\r\n    borderTop: `1px solid ${palette[props.entry.type].bgDark}`,\r\n    borderBottom: `1px solid ${palette[props.entry.type].bgLight}`,\r\n  }),\r\n  popUpToolbar: {\r\n    position: 'relative',\r\n    padding: '2px 0',\r\n  },\r\n  popUpTimer: (props) => ({\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    height: '100%',\r\n    background: palette[props.entry.type].bgDark,\r\n    mixBlendMode: 'multiply',\r\n    zIndex: '1',\r\n  }),\r\n  popUpTimerOn: {\r\n    animationName: '$timerSlide',\r\n    animationTimingFunction: 'linear',\r\n  },\r\n  popUpTimerOff: {\r\n    width: '100%',\r\n  },\r\n  popUpControls: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexWrap: 'nowrap',\r\n    justifyContent: 'flex-end',\r\n    alignContent: 'center',\r\n    '& > *': {\r\n      zIndex: '2',\r\n      cursor: 'pointer',\r\n      height: '20px',\r\n      padding: '0 0.1em 0 0.1em',\r\n    },\r\n    '& img': {\r\n      height: '100%',\r\n    },\r\n  },\r\n  popUpContent: {\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n","import PopUp from './PopUp';\r\n\r\nexport default PopUp;\r\n","import clsx from 'clsx';\r\nimport React, { useEffect, useState, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ReactComponent as BgError } from './assets/error.svg';\r\nimport { ReactComponent as BgWarning } from './assets/warn.svg';\r\nimport { ReactComponent as BgInfo } from './assets/info.svg';\r\nimport { ReactComponent as BgSuccess } from './assets/success.svg';\r\nimport close from './assets/close.png';\r\nimport play from './assets/play.png';\r\nimport pause from './assets/pause.png';\r\nimport useStyles from './styles';\r\n\r\nconst PopUp = ({\r\n  entry, onBeforeClose, onAfterClose,\r\n}) => {\r\n  // default fields\r\n  const type = entry.type || 'error';\r\n  const entryLocal = {...entry, type};\r\n\r\n  const classes = useStyles({ entry: entryLocal });\r\n  const [open, setOpen] = useState(true);\r\n  const [paused, setPaused] = useState(false);\r\n  const [timerId, setTimerId] = useState(0);\r\n  const duration = entry.duration || 5;\r\n\r\n  const handleTimeout = useCallback(async () => {\r\n    onBeforeClose && await onBeforeClose();\r\n    setOpen(false);\r\n    onAfterClose && onAfterClose(entry);\r\n  }, [entry, onAfterClose, onBeforeClose]);\r\n\r\n  useEffect(() => {\r\n    setTimerId(setTimeout(handleTimeout, duration * 1000));\r\n  // eslint-disable-next-line\r\n  }, [])\r\n\r\n  const togglePaused = () => {\r\n    if (!paused) {\r\n      setTimerId((prev) => {\r\n        clearTimeout(prev);\r\n        return 0;\r\n      });\r\n    } else {\r\n      setTimerId(setTimeout(handleTimeout,\r\n        duration * 1000));\r\n    }\r\n    setPaused(!paused);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    clearTimeout(timerId);\r\n    handleTimeout();\r\n  };\r\n\r\n  const BackgroundWatermark = () => {\r\n    switch (type) {\r\n      case 'error':\r\n        return <BgError />;\r\n      case 'info':\r\n        return <BgInfo />;\r\n      case 'warn':\r\n        return <BgWarning />;\r\n      case 'success':\r\n        return <BgSuccess />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {\r\n      open\r\n        ? (\r\n          <div className={classes.popUpContainer}>\r\n            <div className={classes.popUpWatermark}>\r\n              <BackgroundWatermark />\r\n            </div>\r\n            <div className={classes.popUpToolbar}>\r\n              <div className={classes.popUpControls}>\r\n                {\r\n                paused\r\n                  ? (\r\n                    <span role=\"button\" onClick={() => togglePaused()} aria-hidden=\"true\">\r\n                      <img src={play} alt=\"Continue the pop-up timer\" />\r\n                    </span>\r\n                  )\r\n                  : (\r\n                    <span onClick={() => togglePaused()} aria-hidden=\"true\">\r\n                      <img src={pause} alt=\"Pause the pop-up timer\" />\r\n                    </span>\r\n                  )\r\n              }\r\n                <span onClick={() => handleClose()} aria-hidden=\"true\">\r\n                  <img src={close} alt=\"Close the pop-up\" />\r\n                </span>\r\n              </div>\r\n              <div\r\n                className={clsx({\r\n                  [classes.popUpTimer]: true,\r\n                }, paused ? classes.popUpTimerOff : classes.popUpTimerOn)}\r\n                style={{\r\n                  animationDuration: `${duration}s`,\r\n                }}\r\n              />\r\n            </div>\r\n            <div className={classes.popUpDelimiter} />\r\n            <div className={classes.popUpHeader}>\r\n              <span>{entry.header ? entry.header.toUpperCase() : 'Error'}</span>\r\n            </div>\r\n            <div className={classes.popUpDelimiter} />\r\n            <div className={classes.popUpContent}>\r\n              {entry.content}\r\n            </div>\r\n          </div>\r\n        )\r\n        : null\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nPopUp.propTypes = {\r\n  entry: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    header: PropTypes.string,\r\n    content: PropTypes.string,\r\n    duration: PropTypes.number,\r\n  }).isRequired,\r\n  onBeforeClose: PropTypes.func.isRequired,\r\n  onAfterClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PopUp;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  '@keyframes slideLeft': {\r\n    from: { right: '-120%' },\r\n    to: { right: '0' },\r\n  },\r\n  '@keyframes slideRight': {\r\n    from: { right: '0' },\r\n    to: { right: '-120%' },\r\n  },\r\n  root: {\r\n    position: 'fixed',\r\n    right: 10,\r\n    bottom: 10,\r\n    minWidth: 400,\r\n    zIndex: 9999,\r\n    '& > * + *': {\r\n      marginTop: '.5em',\r\n    },\r\n  },\r\n  containerTransition: {\r\n    position: 'relative',\r\n    animationName: '$slideLeft',\r\n    animationDuration: 700,\r\n    animationTiminFunction: 'ease-in-out',\r\n  },\r\n  containerTransitionOff: {\r\n    animationName: '$slideRight',\r\n    animationDuration: 700,\r\n    animationTiminFunction: 'ease-in-out',\r\n    animationFillMode: 'forwards',\r\n  },\r\n  'body * + *': {\r\n    marginTop: '1.5em',\r\n  },\r\n});\r\n\r\nexport default useStyles;\r\n","import clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\nimport NotificationService from '../../../services/NotificationService';\r\nimport PopUp from '../pop-up';\r\nimport useStyles from './styles';\r\n\r\nconst NotificationContainer = ({\r\n  entry, onAfterClose, notificationRender,\r\n}) => {\r\n  const classes = useStyles({ entry });\r\n  const [closing, setClosing] = useState(false);\r\n\r\n  return (\r\n    <div className={clsx(classes.containerTransition, {\r\n      [classes.containerTransitionOff]: closing,\r\n    })}\r\n    >\r\n      {notificationRender(entry, {\r\n        entry,\r\n        onAfterClose,\r\n        closeTimeOffset: 5,\r\n        onBeforeClose: () => new Promise((res) => {\r\n          setClosing(true);\r\n          setTimeout(() => {\r\n            res();\r\n          }, 700);\r\n        }),\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nNotificationContainer.propTypes = {\r\n  entry: PropTypes.shape({\r\n    type: PropTypes.string,\r\n    header: PropTypes.string,\r\n    content: PropTypes.string,\r\n    duration: PropTypes.number,\r\n  }).isRequired,\r\n  notificationRender: PropTypes.func.isRequired,\r\n  onAfterClose: PropTypes.func.isRequired,\r\n};\r\n\r\nconst NotificationManager = () => {\r\n  const classes = useStyles();\r\n  const [notifications, setNotifications] = useState([]);\r\n  NotificationService.notifications = notifications;\r\n  NotificationService.setNotifications = setNotifications;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {\r\n        notifications.map((n) => (\r\n          <NotificationContainer\r\n            key={n.id}\r\n            notificationRender={(notification, p) => (\r\n              <PopUp\r\n                type={notification.type}\r\n                entry={p.entry}\r\n                onBeforeClose={p.onBeforeClose}\r\n                onAfterClose={p.onAfterClose}\r\n              />\r\n            )}\r\n            onAfterClose={(entry) => setNotifications((prev) => prev.filter((n) => n !== entry))}\r\n            entry={n}\r\n          />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationManager;\r\n","import NotificationManager from './NotificationManager';\r\n\r\nexport default NotificationManager;\r\n","import UserSecuritiesProvider from './UserSecuritiesProvider';\r\n\r\nexport default UserSecuritiesProvider;\r\n","import { useEffect, useContext } from 'react';\r\nimport AuthorizationService from '../../../services/AuthorizationService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserSecuritiesProvider = () => {\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function run() {\r\n      if (!global.security && global.user !== null) {\r\n        const result = await AuthorizationService.getSecurities();\r\n        if (result) {\r\n          global.setContext((prev) => ({\r\n            ...prev,\r\n            security: result,\r\n          }));\r\n        }\r\n      }\r\n    }\r\n    run();\r\n  }, [global]);\r\n\r\n  return null;\r\n};\r\n\r\nexport default UserSecuritiesProvider;\r\n","import axios from 'axios';\r\nimport NotificationService from './NotificationService';\r\n\r\nconst LoginService = {\r\n  currentUserPath: '/api/me',\r\n  async getCurrentUser() {\r\n    try {\r\n      const response = await axios.get(this.currentUserPath);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      }\r\n      return null;\r\n    } catch (err) {\r\n      NotificationService.notify({\r\n        type: 'error',\r\n        header: 'Error',\r\n        content: `Not logged in. ${(err.response.data && err.response.data.error) || err.message}`,\r\n      });\r\n      return null;\r\n    }\r\n  },\r\n};\r\n\r\nexport default LoginService;\r\n","import UserInfoProvider from './UserInfoProvider';\r\n\r\nexport default UserInfoProvider;\r\n","import { useEffect, useState, useContext } from 'react';\r\n\r\nimport LoginService from '../../../services/LoginService';\r\nimport GlobalContext from '../../../services/GlobalContext';\r\n\r\nconst UserInfoProvider = () => {\r\n  const [verified, setVerified] = useState(false);\r\n  const global = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    async function getUser() {\r\n      if (!global.setContext) return setVerified(false);\r\n      if (!global.user && !verified) {\r\n        setVerified(true);\r\n        const user = await LoginService.getCurrentUser();\r\n        if (user) {\r\n          const name = user.displayName || user.username || 'Unknown';\r\n          user.avatar = name.split(/[. ,_-]/).map((n) => n[0]).join('').slice(0, 2)\r\n            .toUpperCase();\r\n        }\r\n        return global.setContext({ ...global, user, userLoaded: true });\r\n      }\r\n      return null;\r\n    }\r\n    getUser();\r\n  }, [verified, global]);\r\n  return null;\r\n};\r\n\r\nexport default UserInfoProvider;\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    // Flex container with all children centered\n    '.centerFlexRow': {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      justifyContent: 'center',\n    },\n    '.centerFlexColumn': {\n      display: 'flex',\n      flexFlow: 'column nowrap',\n      alignItems: 'center',\n    },\n    '.flexColumn': {\n      display: 'flex',\n      flexFlow: 'column nowrap',\n      alignItems: 'flex-start',\n    },\n    '.textDecorationOff': {\n      textDecoration: 'none',\n    },\n    // Lobotomized owl\n    '.owl': {\n      '& > * + *': {\n        marginTop: theme.spacing(1),\n      },\n    },\n    '.owlHorizontal': {\n      '& > * + *': {\n        marginLeft: theme.spacing(2),\n      },\n    },\n    '.fullWidth': {\n      width: '100%',\n    },\n  },\n}));\n\nexport default function GlobalCss() {\n  useStyles();\n\n  return null;\n}\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n  root: {\r\n    [theme.breakpoints.up('md')]: {\r\n      marginLeft: 'auto',\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: theme.spacing(7) + 1,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default useStyle;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DocumentTitle from 'react-document-title';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport { Container, ThemeProvider, createMuiTheme } from '@material-ui/core';\r\nimport Navigation from '../navigation/Navigation';\r\nimport AppraisalsPage from '../../routes/appraisals';\r\nimport HomePage from '../../routes/home';\r\nimport SettingsPage from '../../routes/settings';\r\nimport ReportingPage from '../../routes/reporting';\r\nimport LoginPage from '../../routes/login';\r\nimport GlobalContext from '../../services/GlobalContext';\r\nimport NotificationManager from '../shared/notification-manager';\r\nimport UserSecuritiesProvider from '../shared/user-securities-provider';\r\nimport AuthorizationService from '../../services/AuthorizationService';\r\nimport UserInfoProvider from '../shared/user-info-provider';\r\nimport GlobalCss from '../../styles/GlobalCSS';\r\nimport useStyle from './styles';\r\n\r\nimport { themeDark, themeLight } from '../../styles/theme';\r\n\r\nfunction App() {\r\n  const classes = useStyle();\r\n\r\n  const [context, setContext] = useState({\r\n    user: null,\r\n    Authorize: AuthorizationService.Authorize,\r\n    setContext: null,\r\n    userPreferences: {\r\n      theme: localStorage.getItem('theme') === 'dark' ? createMuiTheme(themeDark) : createMuiTheme(themeLight),\r\n    },\r\n  });\r\n\r\n  const { userPreferences } = context;\r\n  const { theme } = userPreferences;\r\n\r\n  useEffect(() => {\r\n    setContext((prev) => ({\r\n      ...prev,\r\n      setContext,\r\n    }));\r\n  }, []);\r\n\r\n  return (\r\n    <GlobalContext.Provider value={context}>\r\n      <ThemeProvider theme={theme}>\r\n        <NotificationManager />\r\n        <UserInfoProvider ctx={context} setCtx={setContext} />\r\n        <CssBaseline />\r\n        <GlobalCss />\r\n        <UserSecuritiesProvider />\r\n        <Router>\r\n          <Navigation />\r\n          <Container maxWidth=\"lg\" className={classes.root}>\r\n            {/* The page switch */}\r\n            <Switch>\r\n              <Route path=\"/appraisals\">\r\n                <DocumentTitle title=\"Appraisals\">\r\n                  <AppraisalsPage ctx={context} setCtx={setContext} />\r\n                </DocumentTitle>\r\n              </Route>\r\n              <Route path=\"/audits\">\r\n                <DocumentTitle title=\"Audits\">\r\n                  <h1>IN PROGRESS</h1>\r\n                </DocumentTitle>\r\n              </Route>\r\n              <Route path=\"/reporting\">\r\n                <DocumentTitle title=\"Reporting\">\r\n                  <ReportingPage ctx={context} setCtx={setContext} />\r\n                </DocumentTitle>\r\n              </Route>\r\n              <Route path=\"/settings\">\r\n                <DocumentTitle title=\"Settings\">\r\n                  <SettingsPage />\r\n                </DocumentTitle>\r\n              </Route>\r\n              <Route path=\"/login\">\r\n                <DocumentTitle title=\"Sign in\">\r\n                  <LoginPage ctx={context} setCtx={setContext} />\r\n                </DocumentTitle>\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <HomePage ctx={context} setCtx={setContext} />\r\n              </Route>\r\n            </Switch>\r\n          </Container>\r\n        </Router>\r\n      </ThemeProvider>\r\n    </GlobalContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import App from './app';\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport DocumentTitle from 'react-document-title';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DocumentTitle title=\"Admin Tools\">\r\n      <App />\r\n    </DocumentTitle>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexFlow: 'row nowrap',\r\n    justifyContent: 'center',\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory, useRouteMatch, Link } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Container, Paper,\r\n} from '@material-ui/core';\r\nimport MaterialTable from 'material-table';\r\nimport materialTableUtils from '../../utils/material-table-utils';\r\nimport useStyles from './styles';\r\nimport ReportingService from '../../services/ReportingService';\r\nimport PageHeader from '../shared/page-header/PageHeader';\r\n\r\nconst ReportTemplatesList = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [templates, setTemplates] = useState([]);\r\n  const { path } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function run() {\r\n      const result = await ReportingService.getTemplates();\r\n      if (mounted) {\r\n        setTemplates(result);\r\n      }\r\n    }\r\n    run();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <PageHeader text=\"Templates\" />\r\n      <Paper className={classes.container}>\r\n        <Link\r\n          to={`${path}/new`}\r\n          className=\"textDecorationOff\"\r\n        >\r\n          <Button\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n          >\r\n            Create Template\r\n          </Button>\r\n        </Link>\r\n      </Paper>\r\n      <MaterialTable\r\n        icons={materialTableUtils.tableIcons}\r\n        title=\"\"\r\n        columns={[\r\n          {\r\n            title: 'Name', field: 'name',\r\n          },\r\n          {\r\n            title: 'Filename', field: 'filename',\r\n          },\r\n          {\r\n            title: 'User created',\r\n            field: 'createdUser.username',\r\n          },\r\n        ]}\r\n        data={templates}\r\n        actions={[\r\n          {\r\n            icon: materialTableUtils.tableIcons.Download,\r\n            tooltip: 'Download Template',\r\n            onClick: (evt, data) => ReportingService.downloadTemplate(data.id, data.filename),\r\n          },\r\n        ]}\r\n        onRowClick={(evt, rowData) => history.push(`${path}/${rowData.id}`)}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ReportTemplatesList;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst PageHeader = ({ text }) => {\n  const classes = useStyles();\n  return (\n    <Typography variant=\"h4\" align=\"center\" className={classes.root}>{text}</Typography>\n  );\n};\n\nPageHeader.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default PageHeader;\n"],"sourceRoot":""}