(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{168:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(476),s=a(477),o=a(370),i=a(478),u=a(369),l=a(479),m=a(480),p=a(481),d=a(482),f=a(483),h=a(472),b=a(484),g=a(485),E=a(486),v=a(487),O=a(488),x={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Download:Object(n.forwardRef)((function(e,t){return r.a.createElement(O.a,Object.assign({},e,{ref:t}))}))};t.a={tableIcons:x}},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII="},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC"},376:function(e,t,a){e.exports=a(458)},458:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),o=a(16),i=a(11),u=a(541),l=a(31),m=a(38),p=a(121),d=a(534),f=a(524),h=a(28),b=a(505),g=a(506),E=a(509),v=a(510),O=a(511),x=a(512),j=a(513),w=a(514),y=a(515),S=a(516),k=a(462),A=a(547),I=a(504),P=a(318),T=a(205),C=a(62),U=a(195),N=a(508),R=a(319),z=a(320),D=a(75),B=a(460),L=a(496),F=a(317),W=a(467),_=a(2),M=a(316),H=Object(M.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),V=r.a.createContext({}),G=a(497),Q=a(498),Y=a(499),J=a(500),X=a(501),q=a(132),K=function(e){var t=e.code,a=e.grant,r=e.onReject,c=Object(q.a)(e,["code","grant","onReject"]),s=Object(n.useContext)(V),o=Object(n.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return Object(n.useEffect)((function(){m(s.Authorize(t,a))}),[s,t,a]),l?c.children:r?r():null},Z=function(){return r.a.createElement(B.a,{component:"div",disablePadding:!0},r.a.createElement(K,{code:"SETTINGS",grant:"general"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/settings"},r.a.createElement(L.a,null,r.a.createElement(G.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"General"}))),r.a.createElement(K,{code:"SETTINGS",grant:"users"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/users"},r.a.createElement(L.a,null,r.a.createElement(Q.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Users"}))),r.a.createElement(K,{code:"SETTINGS",grant:"appraisal-periods"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-periods"},r.a.createElement(L.a,null,r.a.createElement(Y.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Appraisal-periods"}))),r.a.createElement(K,{code:"SETTINGS",grant:"appraisal-items"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-items"},r.a.createElement(L.a,null,r.a.createElement(J.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Appraisal-items"}))),r.a.createElement(K,{code:"SETTINGS",grant:"permissions"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/permissions"},r.a.createElement(L.a,null,r.a.createElement(X.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Permissions"}))))},$=a(502),ee=a(503),te=function(){return r.a.createElement(B.a,{component:"div",disablePadding:!0},r.a.createElement(K,{code:"REPORTS",grant:"read"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting"},r.a.createElement(L.a,null,r.a.createElement($.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Reports"}))),r.a.createElement(K,{code:"REPORT-TEMPLATES",grant:"read"},r.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting/templates"},r.a.createElement(L.a,null,r.a.createElement(ee.a,{fontSize:"small"})),r.a.createElement(F.a,{secondary:"Templates"}))))},ae=function(e){var t=e.to,a=e.children;return r.a.createElement(k.a,{button:!0,component:l.b,to:t},a)};function ne(){var e,t,a=Object(n.useContext)(V),c=Object(n.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1],m=Object(n.useState)(null),p=Object(i.a)(m,2),d=p[0],f=p[1],M=Object(n.useState)({settings:!1}),G=Object(i.a)(M,2),Q=G[0],Y=G[1],J=H(),X=function(e){return function(){Y((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(h.a)({},e,!t[e]))}))}},q=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&l(!u)},$=a.user?a.user.displayName||a.user.username:"Unknown",ee=r.a.createElement(A.a,{title:$,alt:$,onClick:function(e){f(e.currentTarget)},className:J.avatar},a.user&&a.user.avatar);return r.a.createElement("div",null,r.a.createElement(I.a,{id:"app-bar-fixed",position:"fixed",className:Object(_.a)(J.root,J.appBar,Object(h.a)({},J.appBarShift,u))},r.a.createElement(P.a,null,r.a.createElement(T.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:q,className:Object(_.a)(J.menuButton,Object(h.a)({},J.hide,u))},r.a.createElement(b.a,null)),r.a.createElement(g.a,{style:{marginRight:15}}),r.a.createElement(C.a,{variant:"h6",className:Object(_.a)(J.title)},"Admin Tools"),a.user?r.a.createElement(P.a,null,ee,r.a.createElement(U.a,{id:"user-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(N.a,{href:"/api/logout",color:"inherit"},r.a.createElement(R.a,null,"Logout")))):r.a.createElement("div",null,a.userLoaded?r.a.createElement(N.a,{href:"/api/login",color:"inherit"},r.a.createElement(z.a,{edge:"end",color:"inherit"},"Login")):null))),r.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),r.a.createElement(D.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:u,onClose:function(){return l(!1)},className:Object(_.a)(J.drawer,(e={},Object(h.a)(e,J.drawerOpen,u),Object(h.a)(e,J.drawerClose,!u),e)),classes:{paper:Object(_.a)((t={},Object(h.a)(t,J.drawerOpen,u),Object(h.a)(t,J.drawerClose,!u),t))}},r.a.createElement(T.a,{onClick:q},r.a.createElement(E.a,{fontSize:"large",style:{alignSelf:"center"}})),r.a.createElement(B.a,null,r.a.createElement(ae,{to:"/"},r.a.createElement(L.a,null,r.a.createElement(v.a,null)),r.a.createElement(F.a,{primary:"Home"})),r.a.createElement(K,{code:"APPRAISAL PERIODS",grant:"read"},r.a.createElement(ae,{to:"/appraisals"},r.a.createElement(L.a,null,r.a.createElement(O.a,null)),r.a.createElement(F.a,{primary:"Appraisals"}))),r.a.createElement(K,{code:"AUDITS",grant:"read"},r.a.createElement(ae,{to:"/audits"},r.a.createElement(L.a,null,r.a.createElement(x.a,null)),r.a.createElement(F.a,{primary:"Audits"}))),r.a.createElement(K,{code:"REPORTS",grant:"read"},r.a.createElement(k.a,{button:!0,onClick:X("reports")},r.a.createElement(L.a,null,r.a.createElement(j.a,null)),r.a.createElement(F.a,{primary:"Reporting"}),Q.reports?r.a.createElement(w.a,null):r.a.createElement(y.a,null)),r.a.createElement(W.a,{in:Q.reports},r.a.createElement(te,null))),r.a.createElement(K,{code:"SETTINGS",grant:"read"},r.a.createElement(k.a,{button:!0,onClick:X("settings")},r.a.createElement(L.a,null,r.a.createElement(S.a,null)),r.a.createElement(F.a,{primary:"Settings"}),Q.settings?r.a.createElement(w.a,null):r.a.createElement(y.a,null)),r.a.createElement(W.a,{in:Q.settings},r.a.createElement(Z,null))))))}var re=a(6),ce=a.n(re),se=a(9),oe=a(525),ie=a(526),ue=a(527),le=a(529),me=a(530),pe=a(521),de=a(528),fe=a(21),he=a.n(fe),be=["Planned","Achieved","Training","Training_Suggested","SWOT_S","SWOT_W","SWOT_O","SWOT_T"],ge=["Active","Finished","InProgress"];function Ee(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}function ve(e){if(-1===be.indexOf(e.type))throw new Error("Item type not valid: ".concat(e.type));if(-1===ge.indexOf(e.status))throw new Error("Item status not valid: ".concat(e.status));if(0===e.periodId)throw new Error("Item periodId not valid: ".concat(e.periodId));if(!e.user)throw new Error("Item user not valid: ".concat(e.user))}function Oe(e){if(!e.id||0===e.id)throw new Error("Item id not valid: ".concat(e.type))}var xe=0,je=function(e,t){return{notifications:e,setNotifications:t,addNotification:function(e){return t((function(t){var a=e,n=t.slice();return a.id=(xe>1e5&&(xe=0),xe+=1),n.push(a),n}))}}},we={notificationObject:{addNotification:function(e){console.log(e)}},notify:function(e){this.notificationObject.addNotification(e)}},ye={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPeriodsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getItems:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getItemsPath(e));case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrphans:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrphansPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserItems:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.get(a.getUserItemsPath(e,t));case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.get(a.getItemPath(e,t));case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(t),n.next=4,he.a.post(a.addItemToPeriodPath(e),Object(o.a)({},t));case 4:if(200!==(r=n.sent).status){n.next=7;break}return n.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw n.prev=10,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},addOrphan:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addItemPath,e);case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addUserItem:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(a),r.next=4,he.a.post(n.addUserItemPath(e,t),Object(o.a)({},a));case 4:if(200!==(c=r.sent).status){r.next=7;break}return r.abrupt("return",c.data);case 7:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 10:throw r.prev=10,r.t0=r.catch(0),we.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},updateItemInPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(t),Oe(t),n.next=5,he.a.put(a.updateItemInPeriodPath(e,t.id),Object(o.a)({},t));case 5:if(200!==(r=n.sent).status){n.next=8;break}return n.abrupt("return",r.data);case 8:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 11:throw n.prev=11,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},updateItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,ve(e),Oe(e),a.next=5,he.a.put(t.updateItemPath(e.id),e);case 5:if(200!==(n=a.sent).status){a.next=8;break}return a.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:throw a.prev=11,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},updateUserItem:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(a),Oe(a),r.next=5,he.a.put(n.updateUserItemPath(e,t,a.id),Object(o.a)({},a));case 5:if(200!==(c=r.sent).status){r.next=8;break}return r.abrupt("return",c.data);case 8:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),we.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},updateItemType:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(t),Oe(t),n.next=5,he.a.post(a.updateItemTypePath(e,t.id),{type:t.type});case 5:if(200!==(r=n.sent).status){n.next=8;break}return n.abrupt("return",r.data);case 8:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 11:throw n.prev=11,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},updateUserItemType:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(a),Oe(a),r.next=5,he.a.post(n.updateUserItemTypePath(e,t,a.id),{type:a.type});case 5:if(200!==(c=r.sent).status){r.next=8;break}return r.abrupt("return",c.data);case 8:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),we.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},deleteItemFromPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.delete(a.deleteItemFromPeriodPath(e,t));case 3:if(204!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},deleteItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deleteItemPath(e));case 3:if(204!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteUserItem:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.delete(n.deleteUserItemPath(e,t,a));case 3:if(204!==(c=r.sent).status){r.next=6;break}return r.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),we.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPeriodsPath,e);case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},finishPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.finishPeriodPath(e));case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",!0);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},blankItem:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new Ee({type:a,status:n,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,n,r,c){var s=a.slice().filter((function(e){return null!==e.user}));if(c&&"Active"!==c.status||!t)return s;0===s.map((function(e,t){return t})).filter((function(e){return""===s[e].content})).length&&s.push(this.blankItem(e,t,r));for(var o=n-s.length;o>0;)s.push(this.blankItem(e,t,r)),o-=1;return s},addItemToSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.addItem(e,t);case 3:return r=n.sent,n.abrupt("return",{value:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{value:null,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},addUserItemToSet:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.addUserItem(e,t,a);case 3:return c=r.sent,r.abrupt("return",{value:c,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{value:null,error:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteItemFromSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.deleteItemFromPeriod(e,t.id);case 3:return r=n.sent,n.abrupt("return",{value:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,a.getItem(e,t.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteUserItemFromSet:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.deleteUserItem(e,t,a.id);case 3:return c=r.sent,r.abrupt("return",{value:c,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,n.getItem(e,a.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},updateItemInSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.updateItemInPeriod(e,t);case 3:return r=n.sent,n.abrupt("return",{value:r,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,a.getItem(e,t.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateUserItemInSet:function(e,t,a){var n=this;return Object(se.a)(ce.a.mark((function r(){var c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.updateUserItem(e,t,a);case 3:return c=r.sent,r.abrupt("return",{value:c,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,n.getItem(e,a.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},Se=a(517),ke=a(518),Ae=a(519),Ie=a(329),Pe=a(249),Te=a(250),Ce=a(207),Ue=a(256),Ne=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,o=Object(n.useContext)(V),u=Object(n.useState)(""),l=Object(i.a)(u,2),m=l[0],p=l[1],d=Object(n.useState)(a[0]),f=Object(i.a)(d,2),h=f[0],b=f[1],g=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),e.next=4,c(m,h,o.user.organization.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},r.a.createElement(ke.a,{id:"new-period-dialog"},"Create new period"),r.a.createElement(Ae.a,null,r.a.createElement("form",{onSubmit:g},r.a.createElement(Ie.a,null,r.a.createElement(Pe.a,{color:"primary",required:!0},r.a.createElement(Te.a,{htmlFor:"new-period-name"},"Period name"),r.a.createElement(Ce.a,{id:"new-period-name",name:"name",value:m,onChange:function(e){p(e.target.value)}})),r.a.createElement(Pe.a,{color:"primary",required:!0},r.a.createElement(Te.a,{htmlFor:"new-period-status"},"Status"),r.a.createElement(Ue.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return r.a.createElement(R.a,{key:e,value:e},e)})):null)),r.a.createElement(Pe.a,{style:{margin:20}},r.a.createElement(z.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Re=function(e){var t=e.context,a=e.open,n=e.handleClose,c=e.setItems,s=function(){var e=Object(se.a)(ce.a.mark((function e(a,r,s){var o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.addPeriod({name:a,status:r,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),n(),we.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:n}))},ze=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(V);return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(m.a,{to:"/login"}):null)},De=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.getItems(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},Be=a(103),Le=a(244),Fe=a(330),We=a(331),_e=a(332),Me=a(520),He=a(522),Ve=a(472),Ge=a(369),Qe=Object(M.a)((function(e){return{root:{width:"80%"},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),Ye=function(e){var t=e.item,a=e.idx,c=e.changeHandler,s=e.blurHandler,u=e.removeHandler,l=e.changeTypeHandler,p=e.canUpdate,d=e.canDelete,f=Qe(),h=Object(n.useState)(Object(o.a)({},t)),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(!1),O=Object(i.a)(v,2),x=O[0],j=O[1],w=Object(n.useState)(null),y=Object(i.a)(w,2),S=y[0],k=y[1],A=Boolean(t.relatedItemId),I=!A&&"Active"===t.status,P=Boolean("Finished"===t.status),C=Object(m.h)().userId,N="Training_Suggested"===t.type&&!C;Object(n.useEffect)((function(){E(Object(o.a)({},t))}),[t]);var z=function(){k(null)},D=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,s(g,a,x);case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(se.a)(ce.a.mark((function a(){return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,l(t.id,e);case 3:z();case 4:case"end":return a.stop()}}),a)})))},W=function(){var e=Object(se.a)(ce.a.mark((function e(n){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.persist(),E(Object(o.a)(Object(o.a)({},t),{},{content:""})),e.next=4,u(g,a);case 4:j(!1),z();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=A?r.a.createElement(Fe.a,{position:"start",className:f.startAdornment},r.a.createElement(We.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},r.a.createElement(Me.a,null))):null,M=r.a.createElement(Fe.a,{position:"end",className:f.startAdornment},r.a.createElement(T.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){k(e.currentTarget)}},r.a.createElement(pe.a,null)),r.a.createElement(U.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:z,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(R.a,{disabled:!d||!I,"aria-label":"delete appraisal item",onClick:W},r.a.createElement(L.a,null,r.a.createElement(He.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Delete"})),"Planned"===t.type?r.a.createElement(R.a,{"aria-label":"Move item to Achieved",onClick:B("Achieved")},r.a.createElement(L.a,null,r.a.createElement(Ve.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Achieved"})):null,"Achieved"===t.type?r.a.createElement(R.a,{"aria-label":"move item to Planned",onClick:B("Planned")},r.a.createElement(L.a,null,r.a.createElement(Ge.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Planned"})):null));return r.a.createElement(_e.a,{className:f.root,id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:g.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){E(Object(o.a)(Object(o.a)({},t),{},{content:e.target.value})),c(Object(o.a)(Object(o.a)({},g),{},{content:e.target.value}),a,!x),j(!0)},onBlur:D,disabled:!p||(A||P||N),InputProps:{startAdornment:_,endAdornment:P?null:M}})},Je=Object(M.a)({header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0}}),Xe=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,o=e.type,i=e.setOtherItems,u={Achieved:"Achieved",Planned:"Planned",Training:"Trainings",Training_Suggested:"Suggested Trainings",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats"},l=s.id,p=Je(),d={Achieved:5,Planned:5,Training:3,Training_Suggested:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5}[o]||0,f=Object(m.h)().userId,h=t.user;Object(n.useEffect)((function(){c(ye.normalizeSet(l,t.user,a,d,o,s))}),[]);var b=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return",ye.addItemToSet(t,a));case 2:return e.abrupt("return",ye.addUserItemToSet(t,f,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[f]),g=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return",ye.updateItemInSet(t,a));case 2:return e.abrupt("return",ye.updateUserItemInSet(t,f,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[f]),E=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return",ye.deleteItemFromSet(t,a));case 2:return e.abrupt("return",ye.deleteUserItemFromSet(t,f,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[f]),v=Object(n.useCallback)((function(e,t,a){a&&c((function(a){var n=a.slice();return n[t].content=e.content,ye.normalizeSet(l,h,n,d,o,s)}))}),[h,s,l,o,d,c]),O=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,n){var r,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t||!i){e.next=8;break}if(!(r=a.find((function(e){return e.id===t})))){e.next=8;break}return r.type=n,e.next=6,g(l,r);case 6:(o=e.sent).error||(c((function(e){return ye.normalizeSet(l,h,e.filter((function(e){return e.id!==o.value.id})),d,n,s)})),i((function(e){return ye.normalizeSet(l,h,e.filter((function(e){return""!==e.content})).concat(o.value),d,n,s)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[h,i,s,d,a,l,c,g]),x=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Number.isNaN(n)||!(n<a.length)){e.next=9;break}if(0===t.id){e.next=8;break}return e.next=5,E(l,a[n]);case 5:if(null===(r=e.sent).error){e.next=8;break}throw r.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==t.id}));return ye.normalizeSet(l,h,a,d,o,s)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[n]=t,ye.normalizeSet(l,h,a,d,o,s)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[h,s,a,l,o,d,E,c]),j=Object(n.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,n,r){var i,u,m,p,f;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<a.length&&t.type===o)){e.next=22;break}if(i=0===t.id&&t.content,u=0!==t.id&&""===t.content,!i){e.next=10;break}return e.next=6,b(l,t);case 6:m=e.sent,c((function(e){var a=e.slice();return m.error?(a[n]=t,a[n].content=""):a[n]=m.value,ye.normalizeSet(l,h,a,d,o,s)})),e.next=22;break;case 10:if(!u){e.next=17;break}return e.next=13,E(l,t);case 13:p=e.sent,c((function(e){var a=e.slice();return p.error?a[n]=p.value:a=a.filter((function(e){return e.id!==t.id})),ye.normalizeSet(l,h,a,d,o,s)})),e.next=22;break;case 17:if(i||u||!r||""===t.content){e.next=22;break}return e.next=20,g(l,t);case 20:f=e.sent,c((function(e){var a=e.map((function(e){return e.id===t.id?f.value:e}));return ye.normalizeSet(l,h,a,d,o,s)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),[h,s,a,l,o,d,b,E,g,c]);return r.a.createElement(Le.a,null,r.a.createElement("h3",{className:p.header},u[o]),r.a.createElement(B.a,null,a.map((function(e,a){return r.a.createElement(k.a,{className:p.listItem,key:"appraisal-item-".concat(e.id,"-").concat(a)},r.a.createElement(Ye,{item:e,idx:a,label:u[o],changeHandler:v,blurHandler:j,removeHandler:x,changeTypeHandler:O,canUpdate:t.Authorize(f?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","update"),canDelete:t.Authorize(f?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","delete")}))}))))},qe=a(546),Ke={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",normalizeUser:function(e){var t=e;return t.role&&t.role.id&&(t.role=t.role.id),t.organization&&t.organization.id&&(t.organization=t.organization.id),t.organizations=t.organizations.map((function(e){return e.id||e})),t},getUsers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserPath(e));case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateUser:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.put(a.updateUsersPath(e),a.normalizeUser(t));case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText,"\n"));case 9:throw n.prev=9,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getUserOrganizations:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserOrganizationsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserTeamMembers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserTeamMembersPath);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},Ze=function(e){var t=e.onUserSelect,a=e.defaultValue,c=e.className,s=Object(n.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1];Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,Ke.getUserTeamMembers();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return r.a.createElement(qe.a,{defaultValue:a,className:c,id:"users-autocomplete",options:u,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}})},$e=function(e){var t=e.defaultValue,a=e.className,c=Object(m.h)().id,s=Object(m.g)(),o=Object(n.useState)(t||null),u=Object(i.a)(o,2),l=u[0],p=u[1],d=Object(n.useCallback)((function(e){return e?s.push("/appraisals/".concat(c,"/user/").concat(e.id)):p(e)}),[s,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze,{value:l,onUserSelect:function(e){return d(e)},className:a,defaultValue:t}))};$e.defaultProps={defaultValue:null};var et=$e,tt=Object(M.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),at=function(e){var t=e.context,a=e.periodDetails,c=tt(),s=Object(n.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(n.useState)(a.items.filter((function(e){return"Planned"===e.type}))),p=Object(i.a)(m,2),d=p[0],h=p[1],b=Object(n.useState)(a.items.filter((function(e){return"Training"===e.type}))),g=Object(i.a)(b,2),E=g[0],v=g[1],O=Object(n.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),x=Object(i.a)(O,2),j=x[0],w=x[1],y=Object(n.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(i.a)(y,2),k=S[0],A=S[1],I=Object(n.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),P=Object(i.a)(I,2),T=P[0],C=P[1],U=Object(n.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),N=Object(i.a)(U,2),R=N[0],z=N[1],D=Object(n.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),B=Object(i.a)(D,2),L=B[0],F=B[1];return r.a.createElement(f.a,{maxWidth:"md",className:c.conatiner},r.a.createElement("h1",{className:c.header},"Details",a.name?"'".concat(a.name,"'"):null),r.a.createElement(oe.a,{container:!0},r.a.createElement(K,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(et,{className:c.userInput}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:c.inputBlock},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:u,setItems:l,type:"Achieved",setOtherItems:h})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:d,setItems:h,type:"Planned",setOtherItems:l}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:E,setItems:v,type:"Training"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:j,setItems:w,type:"Training_Suggested"}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:k,setItems:A,type:"SWOT_S"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:T,setItems:C,type:"SWOT_W"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:R,setItems:z,type:"SWOT_O"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:L,setItems:F,type:"SWOT_T"})))))},nt=function(e){var t=e.periodId,a=e.userId,r=e.setUserDetails,c=e.setPeriodDetails;return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var n,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.getUser(a);case 2:return n=e.sent,r(n),e.next=6,ye.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,r]),null},rt=Object(M.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),ct=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=rt(),o=Object(n.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(i.a)(o,2),l=u[0],m=u[1],p=Object(n.useState)(a.items.filter((function(e){return"Planned"===e.type}))),d=Object(i.a)(p,2),h=d[0],b=d[1],g=Object(n.useState)(a.items.filter((function(e){return"Training"===e.type}))),E=Object(i.a)(g,2),v=E[0],O=E[1],x=Object(n.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),j=Object(i.a)(x,2),w=j[0],y=j[1],S=Object(n.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),k=Object(i.a)(S,2),A=k[0],I=k[1],P=Object(n.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),T=Object(i.a)(P,2),C=T[0],U=T[1],N=Object(n.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),R=Object(i.a)(N,2),z=R[0],D=R[1],B=Object(n.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),L=Object(i.a)(B,2),F=L[0],W=L[1];return r.a.createElement(f.a,{maxWidth:"md",className:s.conatiner},r.a.createElement("h1",{className:s.header},"Details",a.name?"'".concat(a.name,"'"):null),r.a.createElement(oe.a,{container:!0},r.a.createElement(K,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(et,{defaultValue:c,className:s.userInput}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:s.inputBlock},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:l,setItems:m,type:"Achieved",setOtherItems:b})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:h,setItems:b,type:"Planned",setOtherItems:m}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:v,setItems:O,type:"Training"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:w,setItems:y,type:"Training_Suggested"}))),r.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Be.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:A,setItems:I,type:"SWOT_S"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:C,setItems:U,type:"SWOT_W"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:z,setItems:D,type:"SWOT_O"})),r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(Xe,{context:t,details:a,items:F,setItems:W,type:"SWOT_T"})))))},st=function(e){var t=e.context,a=Object(n.useState)(null),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(n.useState)(null),l=Object(i.a)(u,2),p=l[0],d=l[1],f=Object(m.h)().id,h=Object(m.h)().userId;return Object(n.useEffect)((function(){o(null),d(null)}),[h]),h?r.a.createElement(r.a.Fragment,null,null===s||null===p?r.a.createElement(nt,{periodId:f,userId:h,setUserDetails:d,setPeriodDetails:o}):r.a.createElement(ct,{context:t,periodDetails:s,userDetails:p})):r.a.createElement(r.a.Fragment,null,null===s?r.a.createElement(De,{periodId:f,setPeriodDetails:o}):r.a.createElement(at,{context:t,periodDetails:s}))},ot=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,o=Object(q.a)(e,["code","grant","to","failureNotification"]),u=Object(n.useContext)(V),l=Object(n.useState)(!1),p=Object(i.a)(l,2),d=p[0],f=p[1],h=Object(n.useState)(!1),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(!1),O=Object(i.a)(v,2),x=O[0],j=O[1];Object(n.useEffect)((function(){var e=u.Authorize(t,a);f(e),u.security&&(E(!e),!s||e||x||(we.notify(s),j(!0)))}),[u,t,a,s,x]);var w=null;return d&&(w=o.children),g&&(w=r.a.createElement(m.a,{to:c||"/"})),w},it=function(){var e=Object(n.useContext)(V);return r.a.createElement(f.a,{maxWidth:"md"},r.a.createElement(ze,null),r.a.createElement(ot,{code:"APPRAISAL DETAILS",grant:"read",to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},r.a.createElement(st,{context:e})))},ut=Object(M.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),lt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1],h=Object(n.useContext)(V),b=ut(),g=Object(m.i)().path,E=Object(n.useState)(null),v=Object(i.a)(E,2),O=v[0],x=v[1],j=function(e){x(e.currentTarget)},w=function(){x(null)},y=function(e){return Object(se.a)(ce.a.mark((function t(){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ye.finishPeriod(e.id);case 2:t.sent&&c((function(t){return t.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},e),{},{status:"Finished"}):t}))})),w();case 5:case"end":return t.stop()}}),t)})))};return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,ye.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:g},r.a.createElement(f.a,{maxWidth:"md"},r.a.createElement(ze,null),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h1",{className:b.header},"Appraisals")),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h2",{className:b.header},"Opened")),r.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},a.filter((function(e){return"Active"===e.status})).map((function(e){return r.a.createElement(ie.a,{key:e.id,className:b.card},r.a.createElement(ue.a,{action:r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:j},r.a.createElement(pe.a,null)),r.a.createElement(U.a,{id:"item-menu-".concat(e.id),anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:w,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(R.a,{onClick:y(e)},r.a.createElement(L.a,null,r.a.createElement(de.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),r.a.createElement(le.a,null,r.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),r.a.createElement(me.a,{className:b.cardActions},r.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},r.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))}))),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h2",{hidden:0===a.filter((function(e){return"Active"!==e.status})).length,className:b.header},"Closed")),r.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},a.filter((function(e){return"Active"!==e.status})).map((function(e){return r.a.createElement(ie.a,{key:e.id,className:b.card},r.a.createElement(ue.a,{action:r.a.createElement(T.a,{"aria-label":"actions"},r.a.createElement(pe.a,null)),title:e.name,subheader:e.status}),r.a.createElement(le.a,null,r.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),r.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),r.a.createElement(me.a,{className:b.cardActions},r.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},r.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))}))),r.a.createElement(oe.a,{item:!0,xs:12,className:b.centerButton},r.a.createElement(z.a,{onClick:function(){return d(!0)},variant:"contained",color:"primary"},"New Period")),r.a.createElement(Re,{open:p,context:h,handleClose:function(){return d(!1)},setItems:c})))),r.a.createElement(m.b,{exact:!0,path:"".concat(g,"/:id/user/:userId")},r.a.createElement(it,{ctx:h,setCtx:h.setContext})),r.a.createElement(m.b,{path:"".concat(g,"/:id")},r.a.createElement(it,{ctx:h,setCtx:h.setContext}))))},mt=a(333),pt=a(353),dt=a(531),ft=a(370),ht=Object(M.a)((function(){return{grid:{flexDirection:"row",alignItems:"center"},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),bt=function(e){var t=e.items,a=e.setItems,c=ht(),s=Object(n.useState)(""),u=Object(i.a)(s,2),l=u[0],m=u[1],p=function(){var e=Object(se.a)(ce.a.mark((function e(t,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.updateItem(Object(o.a)(Object(o.a)({},t),{},{type:n}));case 2:r=e.sent,a((function(e){var a=Object(o.a)(Object(o.a)({},t),{},{type:r.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){return function(t){t.target.checked?p(e,"Achieved"):p(e,"Planned")}},f=function(){var e=Object(se.a)(ce.a.mark((function e(t){var n,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return n={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,ye.addOrphan(n);case 4:r=e.sent,a((function(e){return e.concat(r)})),m("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Le.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},r.a.createElement(B.a,null,t.map((function(e){return r.a.createElement(k.a,{dense:!0},r.a.createElement(mt.a,{className:Object(_.a)(Object(h.a)({},c.itemAchievedText,"Achieved"===e.type)),control:r.a.createElement(pt.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),r.a.createElement(dt.a,null,r.a.createElement(T.a,{disabled:null!==e.relatedItemId,onClick:function(){return b(e)}},r.a.createElement(ft.a,null))))}))),r.a.createElement(oe.a,{container:!0,className:c.grid},r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(_e.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:l,onChange:function(e){m(e.target.value)}})),r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(z.a,{variant:"contained",color:"secondary",disabled:""===l,onClick:function(){return f(l)}},"Add"))))},gt=function(e){var t=e.setItems;return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ye.getOrphans();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},Et=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{setItems:c}),r.a.createElement(bt,{items:a,setItems:c}))},vt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12,sm:6},r.a.createElement(K,{code:"APPRAISAL DETAILS",grant:"read"},r.a.createElement(Et,null)))))},Ot=Object(M.a)((function(){return{root:{}}})),xt=a(532),jt={palette:{type:"dark"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},wt={palette:{type:"light"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},yt=function(){var e=Object(n.useContext)(V),t=Object(n.useState)(e.userPreferences.theme.palette.type),a=Object(i.a)(t,2),c=a[0],s=a[1];return r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h4"},"General Settings")),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(C.a,{variant:"h6"},"Appearence:")),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(oe.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(oe.a,{item:!0},"Light"),r.a.createElement(oe.a,{item:!0},r.a.createElement(xt.a,{checked:"dark"===c,onChange:function(t){var a;a=t.target.checked?"dark":"light",s(a),localStorage.setItem("theme",a),e.setContext((function(t){return Object(o.a)(Object(o.a)({},t),{},{userPreferences:Object(o.a)(Object(o.a)({},e.userPreferences),{},{theme:"light"===a?Object(p.a)(wt):Object(p.a)(jt)})})}))}})),r.a.createElement(oe.a,{item:!0},"Dark"))))},St=a(102),kt=a(162),At=a.n(kt),It=a(168),Pt={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getTeamsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addTeam:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.validate(e),a.next=4,he.a.post(t.addTeamPath,{team:e});case 4:if(200!==(n=a.sent).status){a.next=7;break}return a.abrupt("return",n.data);case 7:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},Tt={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getCurrentUserSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserSecurities:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserSecuritiesPath(e));case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrganizationUsersSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrganizationUsersSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getRolesSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPermissionCodes:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPermissionCodesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addPermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPermissionPath,e);case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updatePermission:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function n(){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.put(a.updatePermissionPath(e),t);case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.data);case 6:return n.abrupt("return",null);case 9:throw n.prev=9,n.t0=n.catch(0),we.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},deletePermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deletePermissionPath(e));case 3:if(200!==(n=a.sent).status){a.next=6;break}return a.abrupt("return",n.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),we.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(n){return we.notify({type:"error",header:"Error",content:n.response.data&&n.response.data.error||n.message}),!1}}},Ct=function(e){var t=e.rowData,a=e.onChange,n=e.teams;return r.a.createElement(qe.a,{multiple:!0,id:"tags-standard",options:n,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.teams,onChange:function(e,t){a(t)},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})},Ut=function(e){var t=e.rowData,a=e.onChange,n=e.global;return r.a.createElement(qe.a,{multiple:!0,id:"tags-standard-organizations",options:n.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.organizations,onChange:function(e,t){a(t)},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})},Nt=function(e){var t=e.rowData,a=e.onChange,n=e.roles;return r.a.createElement(qe.a,{id:"tags-standard-role",options:n,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.role,onChange:function(e,t){a(t)},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})},Rt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),l=u[0],m=u[1],p=Object(n.useState)([]),d=Object(i.a)(p,2),f=d[0],h=d[1],b=Object(n.useContext)(V),g=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){var t=e.rowData,a=e.onChange;return r.a.createElement(Ct,{rowData:t,onChange:a,teams:l})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):null},customFilterAndSearch:function(e,t){var a=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a)})).length>0},editComponent:function(e){var t=e.rowData,a=e.onChange;return r.a.createElement(Ut,{rowData:t,onChange:a,global:b})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){var t=e.rowData,a=e.onChange;return r.a.createElement(Nt,{rowData:t,onChange:a,roles:f})}}],E={onRowUpdate:function(e,t){return new Promise((function(n,r){function s(){return(s=Object(se.a)(ce.a.mark((function s(){var i,u,l,m;return ce.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=Object(St.a)(a),u=t.tableData.id,l=t.organization||null,!t.organization&&e.organizations.length?l=e.organizations[0].id:0===e.organizations.length&&(l=null),s.next=7,Ke.updateUser(e.id,Object(o.a)(Object(o.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:l}));case 7:m=s.sent,i[u]=m,c((function(){return i})),n(),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),r(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()})).catch((function(e){throw e}))}};return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,a,n,r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ke.getUsers(),Pt.getTeams(),Tt.getRoles()]);case 2:t=e.sent,a=Object(i.a)(t,3),n=a[0],r=a[1],s=a[2],c((function(){return n})),m((function(){return r})),h((function(){return s}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h1",null,"Users Settings")),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(At.a,{icons:It.a.tableIcons,title:"Users",columns:g,data:a,options:{searchFieldAlignment:"left"},editable:E})))},zt=function(){return r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h1",null,"AppraisalPeriods Settings")))},Dt=function(){return r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement("h1",null,"AppraisalItems Settings")))},Bt=a(545),Lt=a(537),Ft=function(e){var t=e.setLoaded,a=e.setPermissionCodes,r=e.setRoles,c=e.setUsers,s=e.setRolePermissions,i=e.setUserPermissions;return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var n,u,l,m,p,d,f;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.getPermissionCodes();case 2:return n=e.sent,a(n.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,Tt.getRoles();case 6:return u=e.sent,r(u.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,Ke.getUsers();case 10:return l=e.sent,c(l.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,Tt.getRolesSecurities();case 14:return m=e.sent,p={},m.forEach((function(e){p[e.reference.name]=Object(o.a)(Object(o.a)({},p[e.reference.name]),{},Object(h.a)({},e.code.code,e))})),s(p),e.next=20,Tt.getOrganizationUsersSecurities();case 20:d=e.sent,f={},d.forEach((function(e){f[e.reference.username]=Object(o.a)(Object(o.a)({},f[e.reference.username]),{},Object(h.a)({},e.code.code,e))})),i(f),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,r,c,s,i]),null},Wt=a(538),_t=a(540),Mt=a(539),Ht=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Vt=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,u=e.selectedRole,l=e.setSelectedRole,m=Ht(),p=Object(n.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)(""),E=Object(i.a)(g,2),v=E[0],O=E[1],x=function(e,t,a){s((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(h.a)({},e.name,Object(o.a)(Object(o.a)({},n[e.name]),{},Object(h.a)({},t.code,a))))}))},j=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.addPermission({grants:[n],code:a.id,permissionType:"Role",reference:t.id});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var n=Object(se.a)(ce.a.mark((function n(r){var s,i,u,l,m;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.persist(),c[e.name]&&c[e.name][t.code]){n.next=8;break}return n.next=4,j(e,t,a);case 4:(s=n.sent)&&x(e,t,s),n.next=28;break;case 8:if(!r.target.checked){n.next=16;break}return i=[].concat(Object(St.a)(c[e.name][t.code].grants),[a]),n.next=12,w(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:i}));case 12:(u=n.sent)&&x(e,t,u),n.next=28;break;case 16:if(r.target.checked){n.next=28;break}if(0!==(l=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){n.next=24;break}return n.next=21,S(c[e.name][t.code]);case 21:x(e,t,null),n.next=28;break;case 24:return n.next=26,w(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:l}));case 26:(m=n.sent)&&x(e,t,m);case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e,t,a){var n=c[e.name]&&c[e.name][t.code];return!!n&&-1!==n.grants.indexOf(a)};return r.a.createElement(oe.a,{container:!0,className:m.root},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(qe.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(Be.a,{variant:"outlined",className:m.toolBar},r.a.createElement(_e.a,{id:"role-permissions-search",label:"Search",size:"small",value:v,onChange:function(e){O(e.target.value)}}),r.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),r.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(v.toLowerCase())})).map((function(e){return r.a.createElement(Wt.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(St.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},r.a.createElement(_t.a,{"aria-controls":"permission-content",expandIcon:r.a.createElement(y.a,null)},r.a.createElement("div",{className:m.permissionDescription},r.a.createElement(C.a,null,e.code),r.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),r.a.createElement(Mt.a,{className:m.permissionBox},e.grants.map((function(t){return r.a.createElement(Ie.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},r.a.createElement(mt.a,{value:t,label:r.a.createElement(C.a,{variant:"button"},t),control:r.a.createElement(pt.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},Gt=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Qt=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,u=e.selectedUser,l=e.setSelectedUser,m=Gt(),p=Object(n.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(n.useState)(""),E=Object(i.a)(g,2),v=E[0],O=E[1],x=function(e,t,a){s((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(h.a)({},e.username,Object(o.a)(Object(o.a)({},n[e.username]),{},Object(h.a)({},t.code,a))))}))},j=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.addPermission({grants:[n],code:a.id,permissionType:"User",reference:t.id});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var n=Object(se.a)(ce.a.mark((function n(r){var s,i,u,l,m;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.persist(),c[e.username]&&c[e.username][t.code]){n.next=8;break}return n.next=4,j(e,t,a);case 4:(s=n.sent)&&x(e,t,s),n.next=28;break;case 8:if(!r.target.checked){n.next=16;break}return i=[].concat(Object(St.a)(c[e.username][t.code].grants),[a]),n.next=12,w(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:i}));case 12:(u=n.sent)&&x(e,t,u),n.next=28;break;case 16:if(r.target.checked){n.next=28;break}if(0!==(l=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){n.next=24;break}return n.next=21,S(c[e.username][t.code]);case 21:x(e,t,null),n.next=28;break;case 24:return n.next=26,w(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:l}));case 26:(m=n.sent)&&x(e,t,m);case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},A=function(e,t,a){var n=c[e.username]&&c[e.username][t.code];return!!n&&-1!==n.grants.indexOf(a)};return r.a.createElement(oe.a,{container:!0,className:m.root},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(qe.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(_e.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(Be.a,{variant:"outlined",className:m.toolBar},r.a.createElement(_e.a,{id:"user-permissions-search",label:"Search",size:"small",value:v,onChange:function(e){O(e.target.value)}}),r.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),r.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(v.toLowerCase())})).map((function(e){return r.a.createElement(Wt.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(St.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},r.a.createElement(_t.a,{"aria-controls":"permission-content",expandIcon:r.a.createElement(y.a,null)},r.a.createElement("div",{className:m.permissionDescription},r.a.createElement(C.a,null,e.code),r.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),r.a.createElement(Mt.a,{className:m.permissionBox},r.a.createElement(Ie.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},r.a.createElement(mt.a,{value:"overrule",label:r.a.createElement(C.a,{variant:"button"},"overrule"),control:r.a.createElement(pt.a,{color:"secondary",checked:A(u,e,"overrule")}),onChange:k(u,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return r.a.createElement(Ie.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},r.a.createElement(mt.a,{value:t,label:r.a.createElement(C.a,{variant:"button"},t),control:r.a.createElement(pt.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},Yt=function(e){var t=e.value,a=e.setValue;return r.a.createElement(Le.a,{mt:2},r.a.createElement(I.a,{position:"static",color:"transparent",elevation:0},r.a.createElement(Bt.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},r.a.createElement(Lt.a,{label:"Roles"}),r.a.createElement(Lt.a,{label:"Users"}))))};function Jt(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement("div",{role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},a===n&&r.a.createElement(Le.a,null,t))}var Xt=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(n.useState)([]),p=Object(i.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)({}),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)({}),O=Object(i.a)(v,2),x=O[0],j=O[1],w=Object(n.useState)(null),y=Object(i.a)(w,2),S=y[0],k=y[1],A=Object(n.useState)(null),I=Object(i.a)(A,2),P=I[0],T=I[1],C=Object(n.useState)(0),U=Object(i.a)(C,2),N=U[0],R=U[1],z=Object(n.useState)(!1),D=Object(i.a)(z,2),B=D[0],L=D[1];return Object(n.useEffect)((function(){k((function(e){return null===e&&u.length>0?u[0]:e}))}),[u]),Object(n.useEffect)((function(){T((function(e){return null===e&&d.length>0?d[0]:e}))}),[d]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,{setLoaded:L,setPermissionCodes:c,setRoles:l,setUsers:f,setRolePermissions:E,setUserPermissions:j}),B?r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt,{value:N,setValue:R}),r.a.createElement(Jt,{value:N,index:0},r.a.createElement(Vt,{codes:a,roles:u,rolePermissions:g,setRolePermissions:E,selectedRole:S,setSelectedRole:k})),r.a.createElement(Jt,{value:N,index:1},r.a.createElement(Qt,{codes:a,users:d,userPermissions:x,setUserPermissions:j,selectedUser:P,setSelectedUser:T}))):null)},qt=function(){return r.a.createElement(Xt,null)},Kt=function(e){var t=e.ctx,a=e.setCtx,n=Object(m.i)().path,c=Ot();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{ctx:t,setCtx:a}),r.a.createElement(f.a,{maxWidth:"lg",className:c.root},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:n},r.a.createElement(ot,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(yt,null))),r.a.createElement(m.b,{path:"".concat(n,"/users")},r.a.createElement(ot,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Rt,null))),r.a.createElement(m.b,{path:"".concat(n,"/appraisal-periods")},r.a.createElement(ot,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(zt,null))),r.a.createElement(m.b,{path:"".concat(n,"/appraisal-items")},r.a.createElement(ot,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Dt,null))),r.a.createElement(m.b,{path:"".concat(n,"/permissions")},r.a.createElement(ot,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(qt,null))))))},Zt=function(){return r.a.createElement(r.a.Fragment,null,"Reports")},$t=a(459).default,ea=function(){var e=Object(m.h)().id;return r.a.createElement(f.a,{maxWidth:"lg"},r.a.createElement("h1",{style:{textAlign:"center"}},"Details"),"Details"," ",e)},ta=function(){var e=Object(m.i)().path;return r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:e},r.a.createElement($t,null)),r.a.createElement(m.b,{path:"".concat(e,"/:id")},r.a.createElement(ea,null)))},aa=function(e){var t=e.ctx,a=e.setCtx,n=Object(m.i)().path;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,{ctx:t,setCtx:a}),r.a.createElement(f.a,{maxWidth:"lg"},r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:n},r.a.createElement(ot,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Zt,null))),r.a.createElement(m.b,{path:"".concat(n,"/templates")},r.a.createElement(ot,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(ta,null))))))},na=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Login"),r.a.createElement("a",{href:"/api/login"},"Login"))},ra=Object(M.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),ca=function(e){var t=e.entry,a=e.onAfterClose,c=e.notificationRender,s=ra({entry:t}),o=Object(n.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return r.a.createElement("div",{className:Object(_.a)(s.containerTransition,Object(h.a)({},s.containerTransitionOff,l))},c(t,{entry:t,onAfterClose:a,closeTimeOffset:5,onBeforeClose:function(){return new Promise((function(e){m(!0),setTimeout((function(){e()}),700)}))}}))},sa=function(e){var t=e.notifications,a=e.notificationRender,n=e.onAfterClose,c=Object(q.a)(e,["notifications","notificationRender","onAfterClose"]),s=ra(c);return r.a.createElement("div",{className:s.root},t.map((function(e){return r.a.createElement(ca,{key:e.id,notificationRender:a,onAfterClose:n,entry:e})})))};function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ua=r.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),la=r.a.createElement("g",null),ma=r.a.createElement("g",null),pa=r.a.createElement("g",null),da=r.a.createElement("g",null),fa=r.a.createElement("g",null),ha=r.a.createElement("g",null),ba=r.a.createElement("g",null),ga=r.a.createElement("g",null),Ea=r.a.createElement("g",null),va=r.a.createElement("g",null),Oa=r.a.createElement("g",null),xa=r.a.createElement("g",null),ja=r.a.createElement("g",null),wa=r.a.createElement("g",null),ya=r.a.createElement("g",null),Sa=function(e){var t=e.svgRef,a=e.title,n=ia(e,["svgRef","title"]);return r.a.createElement("svg",oa({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,ua,la,ma,pa,da,fa,ha,ba,ga,Ea,va,Oa,xa,ja,wa,ya)},ka=r.a.forwardRef((function(e,t){return r.a.createElement(Sa,oa({svgRef:t},e))}));a.p;function Aa(){return(Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ia(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Pa=r.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),Ta=r.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),Ca=r.a.createElement("g",{fill:"#ff62b4"},r.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),r.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),Ua=function(e){var t=e.svgRef,a=e.title,n=Ia(e,["svgRef","title"]);return r.a.createElement("svg",Aa({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},n),a?r.a.createElement("title",null,a):null,Pa,Ta,Ca)},Na=r.a.forwardRef((function(e,t){return r.a.createElement(Ua,Aa({svgRef:t},e))}));a.p;function Ra(){return(Ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function za(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Da=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),Ba=r.a.createElement("g",null),La=r.a.createElement("g",null),Fa=r.a.createElement("g",null),Wa=r.a.createElement("g",null),_a=r.a.createElement("g",null),Ma=r.a.createElement("g",null),Ha=r.a.createElement("g",null),Va=r.a.createElement("g",null),Ga=r.a.createElement("g",null),Qa=r.a.createElement("g",null),Ya=r.a.createElement("g",null),Ja=r.a.createElement("g",null),Xa=r.a.createElement("g",null),qa=r.a.createElement("g",null),Ka=r.a.createElement("g",null),Za=function(e){var t=e.svgRef,a=e.title,n=za(e,["svgRef","title"]);return r.a.createElement("svg",Ra({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Da,Ba,La,Fa,Wa,_a,Ma,Ha,Va,Ga,Qa,Ya,Ja,Xa,qa,Ka)},$a=r.a.forwardRef((function(e,t){return r.a.createElement(Za,Ra({svgRef:t},e))}));a.p;function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function tn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var an=r.a.createElement("g",null,r.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),r.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),nn=function(e){var t=e.svgRef,a=e.title,n=tn(e,["svgRef","title"]);return r.a.createElement("svg",en({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,an)},rn=r.a.forwardRef((function(e,t){return r.a.createElement(nn,en({svgRef:t},e))})),cn=(a.p,a(361)),sn=a.n(cn),on=a(362),un=a.n(on),ln=a(363),mn=a.n(ln),pn={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},dn=Object(M.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:pn[e.entry.type].bg,borderRadius:3,color:pn[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(pn[e.entry.type].bgDark),borderBottom:"1px solid ".concat(pn[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:pn[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),fn=function(e){var t=e.entry,a=e.onBeforeClose,c=e.onAfterClose,s=t.type||"error",o=dn({entry:t}),u=Object(n.useState)(!0),l=Object(i.a)(u,2),m=l[0],p=l[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),b=f[0],g=f[1],E=Object(n.useState)(0),v=Object(i.a)(E,2),O=v[0],x=v[1],j=t.duration||5,w=Object(n.useCallback)(Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=4;break}return e.next=4,a();case 4:p(!1),c&&c(t);case 6:case"end":return e.stop()}}),e)}))),[t,c,a]);Object(n.useEffect)((function(){x(setTimeout(w,1e3*j))}),[]);var y=function(){x(b?setTimeout(w,1e3*j):function(e){return clearTimeout(e),0}),g(!b)},S=function(){switch(s){case"error":return r.a.createElement(ka,null);case"info":return r.a.createElement($a,null);case"warn":return r.a.createElement(Na,null);case"success":return r.a.createElement(rn,null);default:return null}};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:o.popUpContainer},r.a.createElement("div",{className:o.popUpWatermark},r.a.createElement(S,null)),r.a.createElement("div",{className:o.popUpToolbar},r.a.createElement("div",{className:o.popUpControls},b?r.a.createElement("span",{role:"button",onClick:function(){return y()},"aria-hidden":"true"},r.a.createElement("img",{src:un.a,alt:"Continue the pop-up timer"})):r.a.createElement("span",{onClick:function(){return y()},"aria-hidden":"true"},r.a.createElement("img",{src:mn.a,alt:"Pause the pop-up timer"})),r.a.createElement("span",{onClick:function(){return clearTimeout(O),void w()},"aria-hidden":"true"},r.a.createElement("img",{src:sn.a,alt:"Close the pop-up"}))),r.a.createElement("div",{className:Object(_.a)(Object(h.a)({},o.popUpTimer,!0),b?o.popUpTimerOff:o.popUpTimerOn),style:{animationDuration:"".concat(j,"s")}})),r.a.createElement("div",{className:o.popUpDelimiter}),r.a.createElement("div",{className:o.popUpHeader},r.a.createElement("span",null,t.header?t.header.toUpperCase():"Error")),r.a.createElement("div",{className:o.popUpDelimiter}),r.a.createElement("div",{className:o.popUpContent},t.content)):null)},hn=function(){var e=Object(n.useContext)(V);return Object(n.useEffect)((function(){function t(){return(t=Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.security||null===e.user){t.next=5;break}return t.next=3,Tt.getSecurities();case 3:(a=t.sent)&&e.setContext((function(e){return Object(o.a)(Object(o.a)({},e),{},{security:a})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),null},bn={currentUserPath:"/api/me",getCurrentUser:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.currentUserPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:return t.prev=9,t.t0=t.catch(0),we.notify({type:"error",header:"Error",content:"Not logged in. ".concat(t.t0.response.data&&t.t0.response.data.error||t.t0.message)}),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},gn=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(V);return Object(n.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.setContext){e.next=2;break}return e.abrupt("return",r(!1));case 2:if(c.user||a){e.next=9;break}return r(!0),e.next=6,bn.getCurrentUser();case 6:return(t=e.sent)&&(n=t.displayName||t.username||"Unknown",t.avatar=n.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),e.abrupt("return",c.setContext(Object(o.a)(Object(o.a)({},c),{},{user:t,userLoaded:!0})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,c]),null},En=Object(M.a)((function(e){var t;return{root:(t={},Object(h.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(h.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}}));var vn=function(){var e=En(),t=Object(n.useState)({user:null,Authorize:Tt.Authorize,setContext:null,userPreferences:{theme:"dark"===localStorage.getItem("theme")?Object(p.a)(jt):Object(p.a)(wt)}}),a=Object(i.a)(t,2),c=a[0],s=a[1],h=c.userPreferences.theme;Object(n.useEffect)((function(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{setContext:s})}))}),[]);var b=Object(n.useState)([]),g=Object(i.a)(b,2),E=g[0],v=g[1],O=je(E,v);return we.notificationObject=O,r.a.createElement(V.Provider,{value:c},r.a.createElement(d.a,{theme:h},r.a.createElement(sa,{notifications:E,notificationRender:function(e,t){return r.a.createElement(fn,{type:e.type,entry:t.entry,onBeforeClose:t.onBeforeClose,onAfterClose:t.onAfterClose})},onAfterClose:function(e){v((function(t){return t.filter((function(t){return t!==e}))}))}}),r.a.createElement(gn,{ctx:c,setCtx:s}),r.a.createElement(u.a,null),r.a.createElement(hn,null),r.a.createElement(l.a,null,r.a.createElement(ne,null),r.a.createElement(f.a,{maxWidth:"lg",className:e.root},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/appraisals"},r.a.createElement(lt,{ctx:c,setCtx:s})),r.a.createElement(m.b,{path:"/audits"},r.a.createElement("h1",null,"IN PROGRESS")),r.a.createElement(m.b,{path:"/reporting"},r.a.createElement(aa,{ctx:c,setCtx:s})),r.a.createElement(m.b,{path:"/settings"},r.a.createElement(Kt,{ctx:c,setCtx:s})),r.a.createElement(m.b,{path:"/login"},r.a.createElement(na,{ctx:c,setCtx:s})),r.a.createElement(m.b,{path:"/"},r.a.createElement(vt,{ctx:c,setCtx:s})))))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(vn,null)),document.getElementById("root"))},459:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),s=a(524),o=a(162),i=a.n(o),u=a(168),l=a(11),m=a(244),p=a(103),d=a(320),f=a(517),h=a(518),b=a(519),g=a(542),E=a(525),v=a(543),O=a(249),x=a(332),j=a(535),w=a(316),y=Object(w.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2)},inputs:{"& > * + *":{marginTop:e.spacing(2)}}}})),S=a(62),k=a(544),A=Object(w.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),I=function(e){var t=e.label,a=A(),c=Object(n.useState)("..."),s=Object(l.a)(c,2),o=s[0],i=s[1];return r.a.createElement(m.a,{className:a.root},r.a.createElement("input",{id:"upload-file-input",type:"file",className:a.input,onChange:function(e){var t=e.target.files;t.length>0?i(t[0].name):i("...")}}),r.a.createElement("label",{htmlFor:"upload-file-input"},r.a.createElement(d.a,{variant:"text",startIcon:r.a.createElement(k.a,null),component:"span"},t||"Uplaod")),r.a.createElement(S.a,{variant:"caption",className:a.text},o))},P=function(){var e=y(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],s=a[1],o=function(){s(!1)};return r.a.createElement(m.a,{mb:3},r.a.createElement(p.a,{className:e.container},r.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){s(!0)}},"New")),r.a.createElement(f.a,{open:c,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o()}},r.a.createElement(h.a,{id:"form-dialog-title"},"New Template"),r.a.createElement(b.a,null,r.a.createElement(g.a,null,"Upload template file and use it in Reports."),r.a.createElement(E.a,{container:!0,className:e.inputs},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(v.a,null)),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(O.a,null,r.a.createElement(x.a,{label:"Template Name",variant:"outlined",size:"small"}))),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(I,null)),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(v.a,null)))),r.a.createElement(j.a,null,r.a.createElement(d.a,{type:"submit",color:"secondary",variant:"contained"},"Ok"),r.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:o},"Cancel")))))};t.default=function(){var e=Object(c.g)(),t=Object(c.i)().path;return r.a.createElement(s.a,{maxWidth:"lg"},r.a.createElement("h1",{style:{textAlign:"center"}},"Templates"),r.a.createElement(P,null),r.a.createElement(i.a,{icons:u.a.tableIcons,title:"List",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser"}],data:[{id:1234,name:"Test",filename:"test.xlsx",createdUser:"me@you.com"},{id:41231,name:"Test1",filename:"test.xlsx",createdUser:"me@you.com"},{id:123124,name:"Test2",filename:"test.xlsx",createdUser:"me@you.com"},{id:12345,name:"Test3",filename:"test.xlsx",createdUser:"me@you.com"}],actions:[{icon:u.a.tableIcons.Download,tooltip:"Download Template",onClick:function(){return alert("Download file")}}],onRowClick:function(a,n){return e.push("".concat(t,"/").concat(n.id))}}))}}},[[376,1,2]]]);
//# sourceMappingURL=main.14816691.chunk.js.map