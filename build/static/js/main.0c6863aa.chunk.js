(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{168:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(480),s=a(481),o=a(372),i=a(482),u=a(371),l=a(483),p=a(484),m=a(485),d=a(486),f=a(487),h=a(475),b=a(488),g=a(489),v=a(490),E=a(491),x=a(492),O={Add:Object(r.forwardRef)((function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return n.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return n.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return n.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return n.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return n.a.createElement(m.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return n.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return n.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return n.a.createElement(v.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return n.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Download:Object(r.forwardRef)((function(e,t){return n.a.createElement(x.a,Object.assign({},e,{ref:t}))}))};t.a={tableIcons:O}},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII="},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},364:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC"},378:function(e,t,a){e.exports=a(462)},462:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(21),s=a.n(c),o=a(49),i=a.n(o),u=a(14),l=a(9),p=a(548),m=a(31),d=a(38),f=a(122),h=a(541),b=a(529),g=a(29),v=a(510),E=a(511),x=a(514),O=a(515),w=a(516),j=a(517),y=a(518),S=a(519),k=a(520),A=a(521),T=a(466),P=a(556),I=a(509),C=a(319),N=a(205),U=a(63),R=a(195),D=a(513),z=a(320),F=a(321),B=a(76),L=a(464),W=a(501),_=a(318),M=a(369),G=a(2),H=a(317),V=Object(H.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(g.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),Q=n.a.createContext({}),Y=a(502),J=a(503),q=a(504),K=a(505),X=a(506),Z=a(218),$=function(e){var t=e.code,a=e.grant,n=e.onReject,c=Object(Z.a)(e,["code","grant","onReject"]),s=Object(r.useContext)(Q),o=Object(r.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1];return Object(r.useEffect)((function(){p(s.Authorize(t,a))}),[s,t,a]),u?c.children:n?n():null},ee=function(){return n.a.createElement(L.a,{component:"div",disablePadding:!0},n.a.createElement($,{code:"SETTINGS",grant:"general"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/settings"},n.a.createElement(W.a,null,n.a.createElement(Y.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"General"}))),n.a.createElement($,{code:"SETTINGS",grant:"users"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/settings/users"},n.a.createElement(W.a,null,n.a.createElement(J.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Users"}))),n.a.createElement($,{code:"SETTINGS",grant:"appraisal-periods"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/settings/appraisal-periods"},n.a.createElement(W.a,null,n.a.createElement(q.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Appraisal-periods"}))),n.a.createElement($,{code:"SETTINGS",grant:"appraisal-items"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/settings/appraisal-items"},n.a.createElement(W.a,null,n.a.createElement(K.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Appraisal-items"}))),n.a.createElement($,{code:"SETTINGS",grant:"permissions"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/settings/permissions"},n.a.createElement(W.a,null,n.a.createElement(X.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Permissions"}))))},te=a(507),ae=a(508),re=function(){return n.a.createElement(L.a,{component:"div",disablePadding:!0},n.a.createElement($,{code:"REPORTS",grant:"read"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/reporting"},n.a.createElement(W.a,null,n.a.createElement(te.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Reports"}))),n.a.createElement($,{code:"REPORT-TEMPLATES",grant:"read"},n.a.createElement(T.a,{button:!0,component:m.b,to:"/reporting/templates"},n.a.createElement(W.a,null,n.a.createElement(ae.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Templates"}))))},ne=function(e){var t=e.to,a=e.children;return n.a.createElement(T.a,{button:!0,component:m.b,to:t},a)};function ce(){var e,t,a=Object(r.useContext)(Q),c=Object(r.useState)(!1),s=Object(l.a)(c,2),o=s[0],i=s[1],p=Object(r.useState)(null),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)({settings:!1}),b=Object(l.a)(h,2),H=b[0],Y=b[1],J=V(),q=function(e){return function(){Y((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(g.a)({},e,!t[e]))}))}},K=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&i(!o)},X=a.user?a.user.displayName||a.user.username:"Unknown",Z=n.a.createElement(P.a,{title:X,alt:X,onClick:function(e){f(e.currentTarget)},className:J.avatar},a.user&&a.user.avatar);return n.a.createElement("div",null,n.a.createElement(I.a,{id:"app-bar-fixed",position:"fixed",className:Object(G.a)(J.root,J.appBar,Object(g.a)({},J.appBarShift,o))},n.a.createElement(C.a,null,n.a.createElement(N.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:K,className:Object(G.a)(J.menuButton,Object(g.a)({},J.hide,o))},n.a.createElement(v.a,null)),n.a.createElement(E.a,{style:{marginRight:15}}),n.a.createElement(U.a,{variant:"h6",className:Object(G.a)(J.title)},"Admin Tools"),a.user?n.a.createElement(C.a,null,Z,n.a.createElement(R.a,{id:"user-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(D.a,{href:"/api/logout",color:"inherit"},n.a.createElement(z.a,null,"Logout")))):n.a.createElement("div",null,a.userLoaded?n.a.createElement(D.a,{href:"/api/login",color:"inherit"},n.a.createElement(F.a,{edge:"end",color:"inherit"},"Login")):null))),n.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),n.a.createElement(B.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:o,onClose:function(){return i(!1)},className:Object(G.a)(J.drawer,(e={},Object(g.a)(e,J.drawerOpen,o),Object(g.a)(e,J.drawerClose,!o),e)),classes:{paper:Object(G.a)((t={},Object(g.a)(t,J.drawerOpen,o),Object(g.a)(t,J.drawerClose,!o),t))}},n.a.createElement(N.a,{onClick:K},n.a.createElement(x.a,{fontSize:"large",style:{alignSelf:"center"}})),n.a.createElement(L.a,null,n.a.createElement(ne,{to:"/"},n.a.createElement(W.a,null,n.a.createElement(O.a,null)),n.a.createElement(_.a,{primary:"Home"})),n.a.createElement($,{code:"APPRAISAL PERIODS",grant:"read"},n.a.createElement(ne,{to:"/appraisals"},n.a.createElement(W.a,null,n.a.createElement(w.a,null)),n.a.createElement(_.a,{primary:"Appraisals"}))),n.a.createElement($,{code:"AUDITS",grant:"read"},n.a.createElement(ne,{to:"/audits"},n.a.createElement(W.a,null,n.a.createElement(j.a,null)),n.a.createElement(_.a,{primary:"Audits"}))),n.a.createElement($,{code:"REPORTS",grant:"read"},n.a.createElement(T.a,{button:!0,onClick:q("reports")},n.a.createElement(W.a,null,n.a.createElement(y.a,null)),n.a.createElement(_.a,{primary:"Reporting"}),H.reports?n.a.createElement(S.a,null):n.a.createElement(k.a,null)),n.a.createElement(M.a,{in:H.reports},n.a.createElement(re,null))),n.a.createElement($,{code:"SETTINGS",grant:"read"},n.a.createElement(T.a,{button:!0,onClick:q("settings")},n.a.createElement(W.a,null,n.a.createElement(A.a,null)),n.a.createElement(_.a,{primary:"Settings"}),H.settings?n.a.createElement(S.a,null):n.a.createElement(k.a,null)),n.a.createElement(M.a,{in:H.settings},n.a.createElement(ee,null))))))}var se=a(4),oe=a.n(se),ie=a(7),ue=a(530),le=a(533),pe=a(534),me=a(535),de=a(536),fe=a(526),he=a(532),be=a(20),ge=a.n(be);function ve(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}var Ee=0,xe={notifications:[],setNotifications:function(e){this.notifications=e(this.notifications)},addNotification:function(e){this.setNotifications((function(t){var a=e,r=t.slice();return a.id=(Ee>1e5&&(Ee=0),Ee+=1),r.push(a),r}))},notify:function(e){this.addNotification(e)}},Oe={and:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).every((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a[0]);case 8:return t.abrupt("return",a.find((function(e){return!1===e.result})));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},andSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},or:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).some((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a.find((function(e){return e.result})));case 8:return t.abrupt("return",a[a.length-1]);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},orSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&!(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},not:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:return(a=t.sent).result=!a.result,a.message="Not - ".concat(a.message),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))},notSync:function(e){return function(){try{var t=e();return t.result=!t.result,t}catch(a){return{result:!1,message:"error"}}}},perform:function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a,r,n=arguments;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(n.length>1&&void 0!==n[1])||n[1],e.next=3,t();case 3:if((r=e.sent).result){e.next=12;break}if(!a){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 10:e.next=13;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),performSync:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e();if(a.result)return a;if(t)throw new Error(a.message);return a}},we={userExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"User doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},userAuthorized:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{result:e.Authorize(t,a),message:"Access denied. Code: ".concat(t,", Grant: ").concat(a)});case 1:case"end":return r.stop()}}),r)})))}},je={isTruthy:function(e){return function(){return{result:Boolean(e),message:"".concat(e," is not true")}}}},ye={securities:{REPORTS:{code:"REPORTS",description:"Access to view, generate, create and edit reports",grants:{read:"read",create:"create",update:"update",delete:"delete"}},APPRAISAL_DETAILS:{code:"APPRAISAL DETAILS",description:"Access to see, add, edit, delete Appraisal details for user himself",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished"}},APPRAISAL_DETAILS_OTHER:{code:"APPRAISAL DETAILS - OTHER USERS",description:"Access to see, add, edit, delete Appraisal details for other users within the team",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished",toggleLock:"toggle-lock"}},APPRAISAL_PERIODS:{code:"APPRAISAL PERIODS",description:"Access to see, add, edit, finish Appraisal Periods",grants:{read:"read",create:"create",update:"update",delete:"delete",finish:"finish"}},SETTINGS:{code:"SETTINGS",description:"Access to various settings. Be careful about following: users - will allow users to modify other users; permissions - will allow users to alter permissions",grants:{read:"read",general:"general",users:"users",appraisalItems:"appraisal-items",appraisalPeriods:"appraisal-periods",permissions:"permissions"}},AUDITS:{code:"AUDITS",description:"Access to request, execute, update, delete audits.",grants:{read:"read",create:"create",update:"update",delete:"delete"}},REPORT_TEMPLATES:{code:"REPORT-TEMPLATES",description:"Access to create and edit report templates",grants:{read:"read",create:"create",update:"update",delete:"delete"}}}},Se=Oe.and,ke=Oe.or,Ae=Oe.not,Te=Oe.perform,Pe=ye.securities.APPRAISAL_DETAILS,Ie=ye.securities.APPRAISAL_DETAILS_OTHER,Ce=function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.status===t),message:"Period '".concat(e.name,"' status is not valid. Expected (").concat(t,")")});case 1:case"end":return a.stop()}}),a)})))},Ne={periodExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"Period doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},itemExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"Item doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},periodStatus:Ce,periodLocked:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=e.users)){r.next=5;break}if(!(c=n.find((function(e){return e._id===t})))){r.next=5;break}return r.abrupt("return",{result:Boolean(c.locked),message:a||"Period is not locked"});case 5:return r.abrupt("return",{result:!1,message:a||"Period is not locked"});case 6:case"end":return r.stop()}}),r)})))},itemStatus:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.status===t),message:"Item '".concat(e.content,"' status is not valid. Expected '").concat(t,"'.")});case 1:case"end":return a.stop()}}),a)})))},itemType:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.type===t),message:"Item '".concat(e.content,"' type is not valid. Expected '").concat(t,"'.")});case 1:case"end":return a.stop()}}),a)})))},itemSameUser:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(String(e.user)===String(t.id)),message:"Item '".concat(e.content,"'s user is not the same as '").concat(t.username,"'")});case 1:case"end":return a.stop()}}),a)})))},itemRelated:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e.relatedItemId),message:"Item is related."});case 1:case"end":return t.stop()}}),t)})))},itemContentNotNull:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e.content.trim().length>0),message:"Item content is empty"});case 1:case"end":return t.stop()}}),t)})))},canInsert:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Te(ke([Se([Ce(t,"Active"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.create)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.create)])])]),Se([Ce(t,"Finished"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.createFinished)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.createFinished)])])])]),!1),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))},canUpdate:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Te(ke([Se([Ce(t,"Active"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.update)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.update)])])]),Se([Ce(t,"Finished"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.updateFinished)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.updateFinished)])])])]),!1),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))},canDelete:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Te(ke([Se([Ce(t,"Active"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.delete)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.delete)])])]),Se([Ce(t,"Finished"),ke([Se([Ae(je.isTruthy(a)),we.userAuthorized(e,Pe.code,Pe.grants.deleteFinished)]),Se([je.isTruthy(a),we.userAuthorized(e,Ie.code,Ie.grants.deleteFinished)])])])]),!1);case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))}},Ue=Oe.and,Re=Oe.or,De=Oe.not,ze=Oe.perform,Fe=Object(u.a)(Object(u.a)(Object(u.a)({},Ne),we),je),Be={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},toggleLockPeriodPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/toggle-lock")},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getPeriodsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getItems:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.get(t.getItemsPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrphans:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getOrphansPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserItems:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.get(a.getUserItemsPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getItem:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.get(a.getItemPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addItem:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ue([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,ze(n);case 4:return r.next=6,ge.a.post(a.addItemToPeriodPath(e),Object(u.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},addOrphan:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.addItemPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ue([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,ge.a.post(r.addUserItemPath(e,t),Object(u.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),xe.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemInPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ue([Fe.itemContentNotNull(t),Fe.isTruthy(t.user),Fe.isTruthy(t.periodId)]),r.next=4,ze(n);case 4:return r.next=6,ge.a.put(a.updateItemInPeriodPath(e,t.id),Object(u.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateItem:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r,n;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=Ue([Fe.itemContentNotNull(e),Fe.isTruthy(e.user)]),a.next=4,ze(r);case 4:return a.next=6,ge.a.put(t.updateItemPath(e.id),e);case 6:if(200!==(n=a.sent).status){a.next=9;break}return a.abrupt("return",n.data);case 9:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 12:throw a.prev=12,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},updateUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ue([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,ge.a.put(r.updateUserItemPath(e,t,a.id),Object(u.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),xe.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemType:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ue([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,ze(n);case 4:return r.next=6,ge.a.post(a.updateItemTypePath(e,t.id),{type:t.type});case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateUserItemType:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ue([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,ge.a.post(r.updateUserItemTypePath(e,t,a.id),{type:a.type});case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),xe.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},deleteItemFromPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.delete(a.deleteItemFromPeriodPath(e,t));case 3:if(204!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteItem:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.delete(t.deleteItemPath(e));case 3:if(204!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ge.a.delete(r.deleteUserItemPath(e,t,a));case 3:if(204!==(c=n.sent).status){n.next=6;break}return n.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),xe.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addPeriod:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.addPeriodsPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},finishPeriod:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.finishPeriodPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",!0);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},toggleLockPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t){r.next=3;break}throw new Error("User is unknown");case 3:return r.next=5,ge.a.post(a.toggleLockPeriodPath(e,t));case 5:if(200!==(n=r.sent).status){r.next=8;break}return r.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},blankItem:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new ve({type:a,status:r,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,r,n){var c=a.slice().filter((function(e){return null!==e.user}));if(!t)return c;if("Feedback"===n&&a.length>0)return c;0===c.map((function(e,t){return t})).filter((function(e){return""===c[e].content})).length&&c.push(this.blankItem(e,t,n));for(var s=r-c.length;s>0;)c.push(this.blankItem(e,t,n)),s-=1;return c},addItemToSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.addItem(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{value:null,error:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},addUserItemToSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.addUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{value:null,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteItemFromSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.deleteItemFromPeriod(e,t.id);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteUserItemFromSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.deleteUserItem(e,t,a.id);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItemInSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.updateItemInPeriod(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},updateUserItemInSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.updateUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},Le=a(522),We=a(523),_e=a(524),Me=a(330),Ge=a(250),He=a(251),Ve=a(207),Qe=a(257),Ye=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,o=Object(r.useContext)(Q),i=Object(r.useState)(""),u=Object(l.a)(i,2),p=u[0],m=u[1],d=Object(r.useState)(a[0]),f=Object(l.a)(d,2),h=f[0],b=f[1],g=function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),e.next=4,c(p,h,o.user.organization.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Le.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},n.a.createElement(We.a,{id:"new-period-dialog"},"Create new period"),n.a.createElement(_e.a,null,n.a.createElement("form",{onSubmit:g},n.a.createElement(Me.a,null,n.a.createElement(Ge.a,{color:"primary",required:!0},n.a.createElement(He.a,{htmlFor:"new-period-name"},"Period name"),n.a.createElement(Ve.a,{id:"new-period-name",name:"name",value:p,onChange:function(e){m(e.target.value)}})),n.a.createElement(Ge.a,{color:"primary",required:!0},n.a.createElement(He.a,{htmlFor:"new-period-status"},"Status"),n.a.createElement(Qe.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return n.a.createElement(z.a,{key:e,value:e},e)})):null)),n.a.createElement(Ge.a,{style:{margin:20}},n.a.createElement(F.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Je=function(e){var t=e.context,a=e.open,r=e.handleClose,c=e.setItems,s=function(){var e=Object(ie.a)(oe.a.mark((function e(a,n,s){var o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.addPeriod({name:a,status:n,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),r(),xe.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:r}))},qe=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),n.a.createElement(n.a.Fragment,null,a?n.a.createElement(d.a,{to:"/login"}):null)},Ke=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.getItems(t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},Xe=a(356),Ze=a(99),$e=a(245),et=a(331),tt=a(332),at=a(333),rt=a(525),nt=a(527),ct=a(475),st=a(371),ot=Object(H.a)((function(e){return{root:{width:"80%"},feedBackInput:{width:"90%","& textarea":{minHeight:300}},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),it=function(e){var t=e.item,a=e.idx,c=e.changeHandler,s=e.blurHandler,o=e.removeHandler,i=e.changeTypeHandler,p=e.canInsert,m=e.canUpdate,f=e.canDelete,h=ot(),b=Object(r.useState)(Object(u.a)({},t)),g=Object(l.a)(b,2),v=g[0],E=g[1],x=Object(r.useState)(!1),O=Object(l.a)(x,2),w=O[0],j=O[1],y=Object(r.useState)(null),S=Object(l.a)(y,2),k=S[0],A=S[1],T=Object(d.h)().userId,P=Object(r.useState)({isRelated:!1,isDeletable:!1,isFinished:!1,inputEditable:!1}),I=Object(l.a)(P,2),C=I[0],U=I[1];Object(r.useEffect)((function(){var e=!0;function a(){return(a=Object(ie.a)(oe.a.mark((function a(){var r,n,c,s,o,i,u,d,h,b;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=[ze(Fe.itemRelated(t),!1),ze(Fe.itemStatus(t,"Finished"),!1),ze(Ue([De(Fe.itemRelated(t)),Re([Ue([De(Fe.isTruthy(T)),De(Fe.itemType(t,"Training_Suggested"))]),Fe.isTruthy(T)])]),!1)],a.next=3,Promise.all(r);case 3:n=a.sent,c=Object(l.a)(n,3),s=c[0],o=c[1],i=c[2],u=s.result,d=o.result,h=(p||m)&&i.result,b=f&&!u,e&&U({isRelated:u,isDeletable:b,isFinished:d,inputEditable:h});case 13:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return E(Object(u.a)({},t)),function(){a.apply(this,arguments)}(),function(){e=!1}}),[t,p,m,f,T]);var D=function(){A(null)},F=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),r=w,j(!1),e.next=5,s(v,a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,i(t.id,e);case 3:D();case 4:case"end":return a.stop()}}),a)})))},L=function(){var e=Object(ie.a)(oe.a.mark((function e(r){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.persist(),E(Object(u.a)(Object(u.a)({},t),{},{content:""})),e.next=4,o(v,a);case 4:j(!1),D();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=C.isRelated?n.a.createElement(et.a,{position:"start",className:h.startAdornment},n.a.createElement(tt.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},n.a.createElement(rt.a,null))):null,H=n.a.createElement(et.a,{position:"end",className:h.startAdornment},n.a.createElement(N.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){A(e.currentTarget)}},n.a.createElement(fe.a,null)),n.a.createElement(R.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:D,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(z.a,{disabled:!C.isDeletable,"aria-label":"delete appraisal item",onClick:L},n.a.createElement(W.a,null,n.a.createElement(nt.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Delete"})),"Planned"===t.type?n.a.createElement(z.a,{"aria-label":"Move item to Achieved",onClick:B("Achieved")},n.a.createElement(W.a,null,n.a.createElement(ct.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Achieved"})):null,"Achieved"===t.type?n.a.createElement(z.a,{"aria-label":"move item to Planned",onClick:B("Planned")},n.a.createElement(W.a,null,n.a.createElement(st.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Planned"})):null));return n.a.createElement(at.a,{className:Object(G.a)("Feedback"===t.type?h.feedBackInput:h.root),id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:v.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){E(Object(u.a)(Object(u.a)({},t),{},{content:e.target.value})),c(Object(u.a)(Object(u.a)({},v),{},{content:e.target.value}),a,!w),j(!0)},onBlur:F,disabled:!C.inputEditable,InputProps:{startAdornment:M,endAdornment:"Feedback"!==t.type&&[p,m,f].some((function(e){return e}))?H:null}})},ut=Object(H.a)({header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0}}),lt=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,o=e.type,i=e.setOtherItems,p={Achieved:"Achieved",Planned:"Planned",Training:"Trainings",Training_Suggested:"Suggested Trainings",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats",Feedback:"Remarks / Other feedback"},m=s.id,f=ut(),h={Achieved:5,Planned:5,Training:3,Training_Suggested:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5,Feedback:1}[o]||0,b=Object(r.useState)({canInsert:!1,canUpdate:!1,canDelete:!1}),g=Object(l.a)(b,2),v=g[0],E=g[1],x=Object(d.h)().userId,O=t.user;Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var a,r,n,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=6;break}return e.next=3,Fe.periodLocked(s,O.id)();case 3:e.t0=e.sent.result,e.next=7;break;case 6:e.t0=!1;case 7:return a=e.t0,e.next=10,Fe.periodStatus(s,"Finished")();case 10:if(e.sent.result&&(a=!1),a){e.next=23;break}return e.next=15,ze(Fe.canInsert(t,s,x),!1);case 15:return r=e.sent.result,e.next=18,ze(Fe.canUpdate(t,s,x),!1);case 18:return n=e.sent.result,e.next=21,ze(Fe.canDelete(t,s,x),!1);case 21:c=e.sent.result,E((function(e){return Object(u.a)(Object(u.a)({},e),{},{canInsert:r,canUpdate:n,canDelete:c})}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(Be.normalizeSet(m,t.user,a,h,o)),function(){e.apply(this,arguments)}()}),[]);var w=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.addItemToSet(t,a));case 2:return e.abrupt("return",Be.addUserItemToSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),j=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.updateItemInSet(t,a));case 2:return e.abrupt("return",Be.updateUserItemInSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),y=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.deleteItemFromSet(t,a));case 2:return e.abrupt("return",Be.deleteUserItemFromSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),S=Object(r.useCallback)((function(e,t,a){a&&c((function(a){var r=a.slice();return r[t].content=e.content,Be.normalizeSet(m,O,r,h,o)}))}),[O,m,o,h,c]),k=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t||!i){e.next=8;break}if(!(n=a.find((function(e){return e.id===t})))){e.next=8;break}return n.type=r,e.next=6,j(m,n);case 6:(s=e.sent).error||(c((function(e){return Be.normalizeSet(m,O,e.filter((function(e){return e.id!==s.value.id})),h,r)})),i((function(e){return Be.normalizeSet(m,O,e.filter((function(e){return""!==e.content})).concat(s.value),h,r)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[O,i,h,a,m,c,j]),A=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Number.isNaN(r)||!(r<a.length)){e.next=9;break}if(0===t.id){e.next=8;break}return e.next=5,y(m,a[r]);case 5:if(null===(n=e.sent).error){e.next=8;break}throw n.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==t.id}));return Be.normalizeSet(m,O,a,h,o)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[r]=t,Be.normalizeSet(m,O,a,h,o)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[O,a,m,o,h,y,c]),P=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r,n){var s,i,u,l,p;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<a.length&&t.type===o)){e.next=22;break}if(s=0===t.id&&t.content,i=0!==t.id&&""===t.content,!s){e.next=10;break}return e.next=6,w(m,t);case 6:u=e.sent,c((function(e){var a=e.slice();return u.error?(a[r]=t,a[r].content=""):a[r]=u.value,Be.normalizeSet(m,O,a,h,o)})),e.next=22;break;case 10:if(!i){e.next=17;break}return e.next=13,y(m,t);case 13:l=e.sent,c((function(e){var a=e.slice();return l.error?l.value&&(a[r]=l.value):a=a.filter((function(e){return e.id!==t.id})),Be.normalizeSet(m,O,a,h,o)})),e.next=22;break;case 17:if(s||i||!n||""===t.content){e.next=22;break}return e.next=20,j(m,t);case 20:p=e.sent,c((function(e){var a;return p.error?(a=e.slice(),p.value&&(a[r]=p.value)):a=e.map((function(e){return e.id===t.id?p.value:e})),Be.normalizeSet(m,O,a,h,o)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),[O,a,m,o,h,w,y,j,c]);return n.a.createElement($e.a,null,n.a.createElement("h3",{className:f.header},p[o]),n.a.createElement(L.a,null,a.map((function(e,t){var a=0===e.id?t:e.id;return n.a.createElement(T.a,{className:f.listItem,key:a},n.a.createElement(it,{item:e,idx:t,label:p[o],changeHandler:S,blurHandler:P,removeHandler:A,changeTypeHandler:k,canInsert:v.canInsert,canUpdate:v.canUpdate,canDelete:v.canDelete}))}))))};lt.defaultProps={setOtherItems:null};var pt=lt,mt=a(555),dt={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",getSettingsUsersPath:"/api/settings/users",putSettingsUsersPath:function(e){return"/api/settings/users/".concat(e)},normalizeUser:function(e){var t=e;return t.role&&t.role.id&&(t.role=t.role.id),t.organization&&t.organization.id&&(t.organization=t.organization.id),t.organizations=t.organizations.map((function(e){return e.id||e})),t},getUsers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSettingsUsers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getSettingsUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.get(t.getUserPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateUser:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.put(a.updateUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateSettingsUser:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.put(a.putSettingsUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getUserOrganizations:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getUserOrganizationsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserTeamMembers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getUserTeamMembersPath);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},ft=function(e){var t=e.onUserSelect,a=e.defaultValue,c=e.className,s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt.getUserTeamMembers();case 2:a=t.sent,e&&u(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]);return n.a.createElement(mt.a,{defaultValue:a,className:c,id:"users-autocomplete",options:i,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}})},ht=function(e){var t=e.defaultValue,a=e.className,c=Object(d.h)().id,s=Object(d.g)(),o=Object(r.useState)(t||null),i=Object(l.a)(o,2),u=i[0],p=i[1],m=Object(r.useCallback)((function(e){return e?s.push("/appraisals/".concat(c,"/user/").concat(e.id)):p(e)}),[s,c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ft,{value:u,onUserSelect:function(e){return m(e)},className:a,defaultValue:t}))};ht.defaultProps={defaultValue:null};var bt=ht,gt=Object(H.a)((function(e){return{header:{textAlign:"center"},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"}}})),vt=function(e){var t=e.context,a=e.periodDetails,c=gt(),s=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),o=Object(l.a)(s,2),i=o[0],u=o[1],p=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),g=Object(l.a)(h,2),v=g[0],E=g[1],x=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),O=Object(l.a)(x,2),w=O[0],j=O[1],y=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(l.a)(y,2),k=S[0],A=S[1],T=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),I=Object(l.a)(T,2),C=I[0],N=I[1],U=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),R=Object(l.a)(U,2),D=R[0],z=R[1],F=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),B=Object(l.a)(F,2),L=B[0],W=B[1],_=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),M=Object(l.a)(_,2),G=M[0],H=M[1],V=t.user;return n.a.createElement(b.a,{maxWidth:"md",className:c.conatiner},n.a.createElement("h1",{className:c.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(ue.a,{container:!0},n.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(ue.a,{item:!0,xs:12,className:c.middleFlex},n.a.createElement(bt,{className:c.userInput}))),n.a.createElement(ue.a,{item:!0,xs:12,className:c.middleFlex},V?n.a.createElement(Xe.a,{avatar:n.a.createElement(P.a,null),label:V.username,color:"secondary"}):null),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:c.inputBlock},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:i,setItems:u,type:"Achieved",setOtherItems:f})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:d,setItems:f,type:"Planned",setOtherItems:u}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:v,setItems:E,type:"Training"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:w,setItems:j,type:"Training_Suggested"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:k,setItems:A,type:"SWOT_S"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:C,setItems:N,type:"SWOT_W"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:D,setItems:z,type:"SWOT_O"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:L,setItems:W,type:"SWOT_T"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(pt,{context:t,details:a,items:G,setItems:H,type:"Feedback"})))))},Et=function(e){var t=e.periodId,a=e.userId,n=e.setUserDetails,c=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.getUser(a);case 2:return r=e.sent,n(r),e.next=6,Be.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,n]),null},xt=a(531),Ot=Object(H.a)((function(e){return{header:{textAlign:"center"},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"},buttonsCenter:{flexFlow:"column nowrap",alignItems:"center"}}})),wt=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=e.handleLockButton,o=Ot(),i=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(l.a)(i,2),p=u[0],m=u[1],d=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),f=Object(l.a)(d,2),h=f[0],g=f[1],v=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),E=Object(l.a)(v,2),x=E[0],O=E[1],w=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),j=Object(l.a)(w,2),y=j[0],S=j[1],k=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),A=Object(l.a)(k,2),T=A[0],I=A[1],C=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),N=Object(l.a)(C,2),U=N[0],R=N[1],D=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),z=Object(l.a)(D,2),B=z[0],L=z[1],W=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),_=Object(l.a)(W,2),M=_[0],G=_[1],H=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),V=Object(l.a)(H,2),Q=V[0],Y=V[1],J=Object(r.useState)(!1),q=Object(l.a)(J,2),K=q[0],X=q[1],Z=Object(r.useState)(!1),ee=Object(l.a)(Z,2),te=ee[0],ae=ee[1];return Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var r,n;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.periodLocked(a,c.id)();case 2:return r=t.sent.result,t.next=5,Fe.periodStatus(a,"Finished")();case 5:n=t.sent.result,e&&(X(r),ae(n));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[a,c.id]),n.a.createElement(b.a,{maxWidth:"md",className:o.conatiner},n.a.createElement("h1",{className:o.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(ue.a,{container:!0},n.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(ue.a,{item:!0,xs:12,className:o.middleFlex},n.a.createElement(bt,{defaultValue:c,className:o.userInput}))),n.a.createElement(ue.a,{item:!0,xs:12,className:o.middleFlex},c?n.a.createElement(Xe.a,{avatar:n.a.createElement(P.a,null),label:c.username,color:"primary"}):null),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:o.inputBlock},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:p,setItems:m,type:"Achieved",setOtherItems:g})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:h,setItems:g,type:"Planned",setOtherItems:m}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:x,setItems:O,type:"Training"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:y,setItems:S,type:"Training_Suggested"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:T,setItems:I,type:"SWOT_S"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:U,setItems:R,type:"SWOT_W"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:B,setItems:L,type:"SWOT_O"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(pt,{context:t,details:a,items:M,setItems:G,type:"SWOT_T"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(pt,{context:t,details:a,items:Q,setItems:Y,type:"Feedback"}))),n.a.createElement($,{code:ye.securities.APPRAISAL_DETAILS_OTHER.code,grant:ye.securities.APPRAISAL_DETAILS_OTHER.grants.toggleLock},te?null:n.a.createElement(ue.a,{container:!0,item:!0,xs:12,className:o.buttonsCenter},n.a.createElement(ue.a,{item:!0,xs:12,className:o.topMargin},n.a.createElement(F.a,{startIcon:K?n.a.createElement(xt.a,null):n.a.createElement(he.a,null),variant:"contained",color:"secondary",onClick:s},K?"Unlock":"Lock"))))))},jt=function(e){var t=e.context,a=Object(r.useState)(null),c=Object(l.a)(a,2),s=c[0],o=c[1],p=Object(r.useState)(null),m=Object(l.a)(p,2),f=m[0],h=m[1],b=Object(d.h)().id,g=Object(d.h)().userId;Object(r.useEffect)((function(){o(null),h(null)}),[g]);var v,E=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=5;break}return e.next=3,Be.toggleLockPeriod(s.id,g);case 3:t=e.sent,o((function(e){return e?Object(u.a)(Object(u.a)({},e),{},{users:t.users.slice()}):e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v=g?n.a.createElement(n.a.Fragment,null,null===s||null===f?n.a.createElement(Et,{periodId:b,userId:g,setUserDetails:h,setPeriodDetails:o}):n.a.createElement(wt,{context:t,periodDetails:s,userDetails:f,handleLockButton:E})):n.a.createElement(n.a.Fragment,null,null===s?n.a.createElement(Ke,{periodId:b,setPeriodDetails:o}):n.a.createElement(vt,{context:t,periodDetails:s})),n.a.createElement(i.a,{title:s&&s.name},v)},yt=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,o=Object(Z.a)(e,["code","grant","to","failureNotification"]),i=Object(r.useContext)(Q),u=Object(r.useState)(!1),p=Object(l.a)(u,2),m=p[0],f=p[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),g=b[0],v=b[1],E=Object(r.useState)(!1),x=Object(l.a)(E,2),O=x[0],w=x[1];Object(r.useEffect)((function(){var e=i.Authorize(t,a);f(e),i.security&&(v(!e),!s||e||O||(xe.notify(s),w(!0)))}),[i,t,a,s,O]);var j=null;return m&&(j=o.children),g&&(j=n.a.createElement(d.a,{to:c||"/"})),j},St=function(){var e=Object(r.useContext)(Q);return n.a.createElement(b.a,{maxWidth:"md"},n.a.createElement(qe,null),n.a.createElement(yt,{code:ye.securities.APPRAISAL_DETAILS.code,grant:ye.securities.APPRAISAL_DETAILS.grants.read,to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},n.a.createElement(jt,{context:e})))},kt=Object(H.a)((function(e){return{noDataText:{textAlign:"center",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),color:e.palette.text.secondary}}})),At=function(e){var t=e.collection,a=e.children,r=kt();return 0===t.length?n.a.createElement(U.a,{className:r.noDataText,variant:"subtitle1"},"No data..."):a},Tt=Object(H.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),Pt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],p=o[1],f=Object(r.useContext)(Q),h=Tt(),g=Object(d.i)().path,v=Object(r.useState)(null),E=Object(l.a)(v,2),x=E[0],O=E[1],w=function(e){O(e.currentTarget)},j=function(){O(null)},y=function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.finishPeriod(e.id);case 2:t.sent&&c((function(t){return t.map((function(t){return t.id===e.id?Object(u.a)(Object(u.a)({},e),{},{status:"Finished"}):t}))})),j();case 5:case"end":return t.stop()}}),t)})))};return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Be.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:g},n.a.createElement(b.a,{maxWidth:"md"},n.a.createElement(qe,null),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",{className:h.header},"Appraisals")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h2",{className:h.header},"Opened")),n.a.createElement(ue.a,{item:!0,xs:12,className:h.gridFlex},n.a.createElement(At,{collection:a.filter((function(e){return"Active"===e.status}))},a.filter((function(e){return"Active"===e.status})).map((function(e){return n.a.createElement(le.a,{key:e.id,className:h.card},n.a.createElement(pe.a,{action:n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{"data-itemid":e.id,"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:w},n.a.createElement(fe.a,null)),n.a.createElement(R.a,{id:"item-menu-".concat(e.id),anchorEl:x,keepMounted:!0,open:Boolean(x)&&x.dataset.itemid===e.id,onClose:j,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(z.a,{onClick:y(e)},n.a.createElement(W.a,null,n.a.createElement(he.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),n.a.createElement(me.a,null,n.a.createElement(U.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(de.a,{className:h.cardActions},n.a.createElement(m.b,{to:"/appraisals/".concat(e.id),className:h.linkDecoration},n.a.createElement(F.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h2",{className:h.header},"Closed")),n.a.createElement(ue.a,{item:!0,xs:12,className:h.gridFlex},n.a.createElement(At,{collection:a.filter((function(e){return"Active"!==e.status}))},a.filter((function(e){return"Active"!==e.status})).map((function(e){return n.a.createElement(le.a,{key:e.id,className:h.card},n.a.createElement(pe.a,{action:n.a.createElement(N.a,{"aria-label":"actions"},n.a.createElement(fe.a,null)),title:e.name,subheader:e.status}),n.a.createElement(me.a,null,n.a.createElement(U.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(de.a,{className:h.cardActions},n.a.createElement(m.b,{to:"/appraisals/".concat(e.id),className:h.linkDecoration},n.a.createElement(F.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(ue.a,{item:!0,xs:12,className:h.centerButton},n.a.createElement(F.a,{onClick:function(){return p(!0)},variant:"contained",color:"primary"},"New Period")),n.a.createElement(Je,{open:i,context:f,handleClose:function(){return p(!1)},setItems:c})))),n.a.createElement(d.b,{exact:!0,path:"".concat(g,"/:id/user/:userId")},n.a.createElement(St,{ctx:f,setCtx:f.setContext})),n.a.createElement(d.b,{path:"".concat(g,"/:id")},n.a.createElement(St,{ctx:f,setCtx:f.setContext}))))},It=a(537),Ct=a(334),Nt=a(354),Ut=a(538),Rt=a(372),Dt=Object(H.a)((function(e){return{grid:{flexDirection:"row",alignItems:"center"},header:{textAlign:"center"},subheader:{textAlign:"center",color:e.palette.text.secondary},divider:{marginTop:e.spacing(1)},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),zt=function(e){var t=e.items,a=e.setItems,c=Dt(),s=Object(r.useState)(""),o=Object(l.a)(s,2),i=o[0],p=o[1],m=function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.updateItem(Object(u.a)(Object(u.a)({},t),{},{type:r}));case 2:n=e.sent,a((function(e){var a=Object(u.a)(Object(u.a)({},t),{},{type:n.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){return function(t){t.target.checked?m(e,"Achieved"):m(e,"Planned")}},f=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var r,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return r={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,Be.addOrphan(r);case 4:n=e.sent,a((function(e){return e.concat(n)})),p("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement($e.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},n.a.createElement(U.a,{className:c.header,variant:"h6"},"Planned items"),n.a.createElement(U.a,{className:c.subheader,variant:"subtitle2"},"Here you will see items planned over past periods"),n.a.createElement(It.a,{className:c.divider}),n.a.createElement(At,{collection:t},n.a.createElement(L.a,null,t.map((function(e){return n.a.createElement(T.a,{dense:!0},n.a.createElement(Ct.a,{className:Object(G.a)(Object(g.a)({},c.itemAchievedText,"Achieved"===e.type)),control:n.a.createElement(Nt.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),n.a.createElement(Ut.a,null,n.a.createElement(N.a,{disabled:null!==e.relatedItemId,onClick:function(){return h(e)}},n.a.createElement(Rt.a,null))))})))),n.a.createElement(ue.a,{container:!0,className:c.grid},n.a.createElement(ue.a,{item:!0,xs:6},n.a.createElement(at.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:i,onChange:function(e){p(e.target.value)}})),n.a.createElement(ue.a,{item:!0,xs:6},n.a.createElement(F.a,{variant:"contained",color:"secondary",disabled:""===i,onClick:function(){return f(i)}},"Add"))))},Ft=function(e){var t=e.setItems;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Be.getOrphans();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},Bt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ft,{setItems:c}),n.a.createElement(zt,{items:a,setItems:c}))},Lt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement($,{code:"APPRAISAL DETAILS",grant:"read"},n.a.createElement(Bt,null)))))},Wt=Object(H.a)((function(){return{root:{}}})),_t=a(539),Mt={palette:{type:"dark"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Gt={palette:{type:"light"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Ht=function(){var e=Object(r.useContext)(Q),t=Object(r.useState)(e.userPreferences.theme.palette.type),a=Object(l.a)(t,2),c=a[0],s=a[1];return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{variant:"h4"},"General Settings")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{variant:"h6"},"Appearence:")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(ue.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ue.a,{item:!0},"Light"),n.a.createElement(ue.a,{item:!0},n.a.createElement(_t.a,{checked:"dark"===c,onChange:function(t){var a;a=t.target.checked?"dark":"light",s(a),localStorage.setItem("theme",a),e.setContext((function(t){return Object(u.a)(Object(u.a)({},t),{},{userPreferences:Object(u.a)(Object(u.a)({},e.userPreferences),{},{theme:"light"===a?Object(f.a)(Gt):Object(f.a)(Mt)})})}))}})),n.a.createElement(ue.a,{item:!0},"Dark"))))},Vt=a(104),Qt=a(162),Yt=a.n(Qt),Jt=a(168),qt={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getTeamsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addTeam:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.validate(e),a.next=4,ge.a.post(t.addTeamPath,{team:e});case 4:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},Kt={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getRolesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getCurrentUserSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserSecurities:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.get(t.getUserSecuritiesPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrganizationUsersSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getOrganizationUsersSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getRolesSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getRolesSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPermissionCodes:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.getPermissionCodesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addPermission:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.addPermissionPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updatePermission:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ge.a.put(a.updatePermissionPath(e),t);case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:return r.abrupt("return",null);case 9:throw r.prev=9,r.t0=r.catch(0),xe.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deletePermission:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.delete(t.deletePermissionPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(r){return xe.notify({type:"error",header:"Error",content:r.response.data&&r.response.data.error||r.message}),!1}}},Xt=function(e){var t=e.rowData,a=e.onChange,r=e.teams;return n.a.createElement(mt.a,{multiple:!0,id:"tags-standard",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.teams,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})},Zt=function(e){var t=e.rowData,a=e.onChange,r=e.global;return n.a.createElement(mt.a,{multiple:!0,id:"tags-standard-organizations",options:r.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.organizations,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})},$t=function(e){var t=e.rowData,a=e.onChange,r=e.roles;return n.a.createElement(mt.a,{id:"tags-standard-role",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.role,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})},ea=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],p=o[1],m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useContext)(Q),g=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Xt,{rowData:t,onChange:a,teams:i})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):null},customFilterAndSearch:function(e,t){var a=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a)})).length>0},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Zt,{rowData:t,onChange:a,global:b})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement($t,{rowData:t,onChange:a,roles:f})}}],v={onRowUpdate:function(e,t){return new Promise((function(r,n){function s(){return(s=Object(ie.a)(oe.a.mark((function s(){var o,i,l,p;return oe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,o=Object(Vt.a)(a),i=t.tableData.id,l=t.organization||null,!t.organization&&e.organizations.length?l=e.organizations[0].id:0===e.organizations.length&&(l=null),s.next=7,dt.updateSettingsUser(e.id,Object(u.a)(Object(u.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:l}));case 7:p=s.sent,o[i]=p,c((function(){return o})),r(),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),n(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()})).catch((function(e){throw e}))}};return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var t,a,r,n,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([dt.getSettingsUsers(),qt.getTeams(),Kt.getRoles()]);case 2:t=e.sent,a=Object(l.a)(t,3),r=a[0],n=a[1],s=a[2],c((function(){return r})),p((function(){return n})),h((function(){return s}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"Users Settings")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Yt.a,{icons:Jt.a.tableIcons,title:"Users",columns:g,data:a,options:{searchFieldAlignment:"left"},editable:v})))},ta=function(){return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalPeriods Settings")))},aa=function(){return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalItems Settings")))},ra=a(554),na=a(544),ca=function(e){var t=e.setLoaded,a=e.setPermissionCodes,n=e.setRoles,c=e.setUsers,s=e.setRolePermissions,o=e.setUserPermissions;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r,i,l,p,m,d,f;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.getPermissionCodes();case 2:return r=e.sent,a(r.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,Kt.getRoles();case 6:return i=e.sent,n(i.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,dt.getSettingsUsers();case 10:return l=e.sent,c(l.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,Kt.getRolesSecurities();case 14:return p=e.sent,m={},p.forEach((function(e){m[e.reference.name]=Object(u.a)(Object(u.a)({},m[e.reference.name]),{},Object(g.a)({},e.code.code,e))})),s(m),e.next=20,Kt.getOrganizationUsersSecurities();case 20:d=e.sent,f={},d.forEach((function(e){f[e.reference.username]=Object(u.a)(Object(u.a)({},f[e.reference.username]),{},Object(g.a)({},e.code.code,e))})),o(f),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,n,c,s,o]),null},sa=a(545),oa=a(547),ia=a(546),ua=Object(H.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),la=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,o=e.selectedRole,i=e.setSelectedRole,p=ua(),m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useState)(""),v=Object(l.a)(b,2),E=v[0],x=v[1],O=function(e,t,a){s((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(g.a)({},e.name,Object(u.a)(Object(u.a)({},r[e.name]),{},Object(g.a)({},t.code,a))))}))},w=function(){var e=Object(ie.a)(oe.a.mark((function e(t,a,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.addPermission({grants:[r],code:a.id,permissionType:"Role",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){return function(){var r=Object(ie.a)(oe.a.mark((function r(n){var s,o,i,l,p;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.name]&&c[e.name][t.code]){r.next=8;break}return r.next=4,w(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return o=[].concat(Object(Vt.a)(c[e.name][t.code].grants),[a]),r.next=12,j(Object(u.a)(Object(u.a)({},c[e.name][t.code]),{},{grants:o}));case 12:(i=r.sent)&&O(e,t,i),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,y(c[e.name][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(u.a)(Object(u.a)({},c[e.name][t.code]),{},{grants:l}));case 26:(p=r.sent)&&O(e,t,p);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.name]&&c[e.name][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(ue.a,{container:!0,className:p.root},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(mt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){i(t)},value:o,className:p.selector})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ze.a,{variant:"outlined",className:p.toolBar},n.a.createElement(at.a,{id:"role-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(F.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?h([]):h(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(ue.a,{item:!0,xs:12},o?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(sa.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){h(a?function(e){return[].concat(Object(Vt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(oa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(k.a,null)},n.a.createElement("div",{className:p.permissionDescription},n.a.createElement(U.a,null,e.code),n.a.createElement(U.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(ia.a,{className:p.permissionBox},e.grants.map((function(t){return n.a.createElement(Me.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(Ct.a,{value:t,label:n.a.createElement(U.a,{variant:"button"},t),control:n.a.createElement(Nt.a,{color:"secondary",checked:A(o,e,t)}),onChange:S(o,e,t),labelPlacement:"start"}))}))));var t})):null))},pa=Object(H.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),ma=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,o=e.selectedUser,i=e.setSelectedUser,p=pa(),m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useState)(""),v=Object(l.a)(b,2),E=v[0],x=v[1],O=function(e,t,a){s((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(g.a)({},e.username,Object(u.a)(Object(u.a)({},r[e.username]),{},Object(g.a)({},t.code,a))))}))},w=function(){var e=Object(ie.a)(oe.a.mark((function e(t,a,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.addPermission({grants:[r],code:a.id,permissionType:"User",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){return function(){var r=Object(ie.a)(oe.a.mark((function r(n){var s,o,i,l,p;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.username]&&c[e.username][t.code]){r.next=8;break}return r.next=4,w(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return o=[].concat(Object(Vt.a)(c[e.username][t.code].grants),[a]),r.next=12,j(Object(u.a)(Object(u.a)({},c[e.username][t.code]),{},{grants:o}));case 12:(i=r.sent)&&O(e,t,i),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,y(c[e.username][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(u.a)(Object(u.a)({},c[e.username][t.code]),{},{grants:l}));case 26:(p=r.sent)&&O(e,t,p);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.username]&&c[e.username][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(ue.a,{container:!0,className:p.root},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(mt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){i(t)},value:o,className:p.selector})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ze.a,{variant:"outlined",className:p.toolBar},n.a.createElement(at.a,{id:"user-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(F.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?h([]):h(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(ue.a,{item:!0,xs:12},o?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(sa.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){h(a?function(e){return[].concat(Object(Vt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(oa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(k.a,null)},n.a.createElement("div",{className:p.permissionDescription},n.a.createElement(U.a,null,e.code),n.a.createElement(U.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(ia.a,{className:p.permissionBox},n.a.createElement(Me.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},n.a.createElement(Ct.a,{value:"overrule",label:n.a.createElement(U.a,{variant:"button"},"overrule"),control:n.a.createElement(Nt.a,{color:"secondary",checked:A(o,e,"overrule")}),onChange:S(o,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return n.a.createElement(Me.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(Ct.a,{value:t,label:n.a.createElement(U.a,{variant:"button"},t),control:n.a.createElement(Nt.a,{color:"secondary",checked:A(o,e,t)}),onChange:S(o,e,t),labelPlacement:"start"}))}))));var t})):null))},da=function(e){var t=e.value,a=e.setValue;return n.a.createElement($e.a,{mt:2},n.a.createElement(I.a,{position:"static",color:"transparent",elevation:0},n.a.createElement(ra.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},n.a.createElement(na.a,{label:"Roles"}),n.a.createElement(na.a,{label:"Users"}))))};function fa(e){var t=e.children,a=e.value,r=e.index;return n.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a===r&&n.a.createElement($e.a,null,t))}var ha=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)({}),b=Object(l.a)(h,2),g=b[0],v=b[1],E=Object(r.useState)({}),x=Object(l.a)(E,2),O=x[0],w=x[1],j=Object(r.useState)(null),y=Object(l.a)(j,2),S=y[0],k=y[1],A=Object(r.useState)(null),T=Object(l.a)(A,2),P=T[0],I=T[1],C=Object(r.useState)(0),N=Object(l.a)(C,2),U=N[0],R=N[1],D=Object(r.useState)(!1),z=Object(l.a)(D,2),F=z[0],B=z[1];return Object(r.useEffect)((function(){k((function(e){return null===e&&i.length>0?i[0]:e}))}),[i]),Object(r.useEffect)((function(){I((function(e){return null===e&&d.length>0?d[0]:e}))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement(ca,{setLoaded:B,setPermissionCodes:c,setRoles:u,setUsers:f,setRolePermissions:v,setUserPermissions:w}),F?n.a.createElement(n.a.Fragment,null,n.a.createElement(da,{value:U,setValue:R}),n.a.createElement(fa,{value:U,index:0},n.a.createElement(la,{codes:a,roles:i,rolePermissions:g,setRolePermissions:v,selectedRole:S,setSelectedRole:k})),n.a.createElement(fa,{value:U,index:1},n.a.createElement(ma,{codes:a,users:d,userPermissions:O,setUserPermissions:w,selectedUser:P,setSelectedUser:I}))):null)},ba=function(){return n.a.createElement(ha,null)},ga=function(){var e=Object(d.i)().path,t=Wt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe,null),n.a.createElement(b.a,{maxWidth:"lg",className:t.root},n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:e},n.a.createElement(yt,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Ht,null))),n.a.createElement(d.b,{path:"".concat(e,"/users")},n.a.createElement(yt,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Users"},n.a.createElement(ea,null)))),n.a.createElement(d.b,{path:"".concat(e,"/appraisal-periods")},n.a.createElement(yt,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - appraisal periods"},n.a.createElement(ta,null)))),n.a.createElement(d.b,{path:"".concat(e,"/appraisal-items")},n.a.createElement(yt,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - appraisal items"},n.a.createElement(aa,null)))),n.a.createElement(d.b,{path:"".concat(e,"/permissions")},n.a.createElement(yt,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - Securities"},n.a.createElement(ba,null)))))))},va=function(){return n.a.createElement(n.a.Fragment,null,"Reports")},Ea=a(463).default,xa=function(){var e=Object(d.h)().id;return n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Details"),"Details"," ",e)},Oa=a(552),wa=a(549),ja=a(550),ya=a(551),Sa={postTemplatePath:"/api/reporting/templates",GenerateTemplatePath:"/api/reporting/template/generate",postGetSamplePath:"/api/reporting/template/sample",createTemplate:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.postTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return xe.notify({type:"success",header:"Created",content:"Tempalte successfully created"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},generateTemplate:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.GenerateTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return xe.notify({type:"success",header:"Generated",content:"Tempalte successfully generated"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},getSample:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.post(t.postGetSamplePath,{aggregation:e});case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},downloadTemplate:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ge.a.get(t.GenerateTemplatePath,{params:{filepath:e}});case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),xe.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},ka=a(553),Aa=Object(H.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),Ta=function(e){var t=e.label,a=e.file,c=e.setFile,s=Aa(),o=Object(r.useState)(a?a.name:"..."),i=Object(l.a)(o,2),u=i[0],p=i[1];return n.a.createElement($e.a,{className:s.root},n.a.createElement("input",{id:"upload-file-input",type:"file",className:s.input,onChange:function(e){var t=e.target.files;t.length>0?(p(t[0].name),c(t[0])):(p("..."),c(null))}}),n.a.createElement("label",{htmlFor:"upload-file-input"},n.a.createElement(F.a,{variant:"text",startIcon:n.a.createElement(ka.a,null),component:"span"},t||"Uplaod")),n.a.createElement(U.a,{variant:"caption",className:s.text},u))},Pa=Object(H.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),Ia=function(e){var t=e.advanceStep,a=e.prevStep,r=e.name,c=e.setName,s=e.file,o=e.setFile,i=Pa();return n.a.createElement($e.a,{className:i.root},n.a.createElement(U.a,{variant:"subtitle1"},"Specify your template name, then attach your template file."," ","(Ex: All user info, or Items per user)."),n.a.createElement(at.a,{value:r,onChange:function(e){c(e.target.value)},variant:"outlined",color:"secondary",label:"Template Name",id:"new-template-name",name:"new-template-name",size:"small"}),n.a.createElement(Ta,{label:"Template File",file:s,setFile:o}),n.a.createElement($e.a,{p:2,className:i.buttons},n.a.createElement(F.a,{variant:"contained",color:"primary",onClick:a},"Back"),n.a.createElement(F.a,{variant:"contained",color:"primary",onClick:t},"Next")))},Ca=Object(H.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(1)}},multilineInput:{width:"100%","& textarea":{}}}})),Na=a(494),Ua=function(e){var t=e.value,a=e.setValue,r=e.Component,c=e.readOnly,s=e.className,o=r||Na.a;return n.a.createElement(o,{multiline:!0,rows:20,rowsMax:30,readOnly:c,value:t,className:s,onKeyPress:function(e){"Enter"===e.key&&console.log(e.key)},onChange:function(e){a(e.target.value)}})};Ua.defaultProps={readOnly:!1,className:""};var Ra=Ua,Da=function(e){var t=e.value,a=e.setValue,c=e.advanceStep,s=Ca(),o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],p=i[1],m=function(){var e=Object(ie.a)(oe.a.mark((function e(){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa.getSample(t);case 2:a=e.sent,p(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement($e.a,{className:s.root},n.a.createElement(U.a,{variant:"subtitle1"},"Create a valid MongoDB aggregation. Test and verify if it returns valid info below. For more info, refer to MongoDB"," ",n.a.createElement("a",{href:"https://docs.mongodb.com/manual/aggregation/",target:"_blank",rel:"noopener noreferrer"},"documentation"),"."),n.a.createElement(Ra,{value:t,setValue:a,className:s.multilineInput}),n.a.createElement("div",null,u?n.a.createElement(Ra,{value:JSON.stringify(u,null,2),setValue:p,readOnly:!0,className:s.multilineInput}):null),n.a.createElement(F.a,{variant:"container",color:"primary",onClick:m},"Get sample"),n.a.createElement(F.a,{variant:"contained",color:"primary",onClick:c},"Next"))},za=Object(H.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),Fa=function(e){var t=e.prevStep,a=e.handleSubmit,r=e.handleGenerate,c=za();return n.a.createElement($e.a,{className:c.root},n.a.createElement(U.a,{variant:"subtitle1"},"You can generate your report to check if everything is working."," ","After, you can click 'Submit' to save it."),n.a.createElement($e.a,{className:c.buttons},n.a.createElement(F.a,{onClick:t,variant:"contained",color:"primary"},"Back"),n.a.createElement(F.a,{onClick:a,variant:"contained",color:"primary"},"Submit"),n.a.createElement(F.a,{onClick:r,variant:"contained",color:"primary"},"Generate")))},Ba=Object(H.a)((function(e){return{root:{padding:e.spacing(3)},header:{textAlign:"center",marginBottom:e.spacing(3)},formContainer:{"& > * + *":{marginTop:e.spacing(2)}}}})),La=function(){var e=Ba(),t=Object(r.useState)(0),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],p=i[1],m=Object(r.useState)(""),d=Object(l.a)(m,2),f=d[0],h=d[1],g=Object(r.useState)(null),v=Object(l.a)(g,2),E=v[0],x=v[1],O=["Create your database aggregation","Add you template file","Try it out"],w=function(){s((function(e){return(e+1)%O.length}))},j=function(){s((function(e){return e>0?e-1:0}))},y=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",u),t.append("name",f),t.append("template",E),e.next=6,Sa.createTemplate(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",u),t.append("name",f),t.append("template",E),e.next=6,Sa.generateTemplate(t);case 6:a=e.sent,window.open("/api/reporting/template/generate?filepath=".concat(a.filepath));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=[n.a.createElement(Da,{advanceStep:w,value:u,setValue:p,setAggregation:p}),n.a.createElement(Ia,{name:f,setName:h,file:E,setFile:x,advanceStep:w,prevStep:j}),n.a.createElement(Fa,{prevStep:j,handleSubmit:y,handleGenerate:S})];return n.a.createElement("div",{className:e.root},n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement(U.a,{variant:"h4",component:"h1",className:e.header},"New Template"),n.a.createElement(Oa.a,{elevation:2,activeStep:c,orientation:"vertical"},O.map((function(e,t){return n.a.createElement(wa.a,{key:e},n.a.createElement(ja.a,null,e),n.a.createElement(ya.a,null,k[t]))})))))},Wa=function(){var e=Object(d.i)().path;return n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:e},n.a.createElement(Ea,null)),n.a.createElement(d.b,{exact:!0,path:"".concat(e,"/new")},n.a.createElement(La,null)),n.a.createElement(d.b,{path:"".concat(e,"/:id")},n.a.createElement(xa,null)))},_a=function(e){var t=e.ctx,a=e.setCtx,r=Object(d.i)().path;return n.a.createElement(n.a.Fragment,null,n.a.createElement(qe,{ctx:t,setCtx:a}),n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:r},n.a.createElement(yt,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(va,null))),n.a.createElement(d.b,{path:"".concat(r,"/templates")},n.a.createElement(yt,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Reporting Templates"},n.a.createElement(Wa,null)))))))},Ma=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"Login"),n.a.createElement("a",{href:"/api/login"},"Login"))};function Ga(){return(Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ha(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Va=n.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),Qa=n.a.createElement("g",null),Ya=n.a.createElement("g",null),Ja=n.a.createElement("g",null),qa=n.a.createElement("g",null),Ka=n.a.createElement("g",null),Xa=n.a.createElement("g",null),Za=n.a.createElement("g",null),$a=n.a.createElement("g",null),er=n.a.createElement("g",null),tr=n.a.createElement("g",null),ar=n.a.createElement("g",null),rr=n.a.createElement("g",null),nr=n.a.createElement("g",null),cr=n.a.createElement("g",null),sr=n.a.createElement("g",null),or=function(e){var t=e.svgRef,a=e.title,r=Ha(e,["svgRef","title"]);return n.a.createElement("svg",Ga({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,Va,Qa,Ya,Ja,qa,Ka,Xa,Za,$a,er,tr,ar,rr,nr,cr,sr)},ir=n.a.forwardRef((function(e,t){return n.a.createElement(or,Ga({svgRef:t},e))}));a.p;function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function lr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var pr=n.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),mr=n.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),dr=n.a.createElement("g",{fill:"#ff62b4"},n.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),n.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),fr=function(e){var t=e.svgRef,a=e.title,r=lr(e,["svgRef","title"]);return n.a.createElement("svg",ur({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},r),a?n.a.createElement("title",null,a):null,pr,mr,dr)},hr=n.a.forwardRef((function(e,t){return n.a.createElement(fr,ur({svgRef:t},e))}));a.p;function br(){return(br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function gr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var vr=n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),Er=n.a.createElement("g",null),xr=n.a.createElement("g",null),Or=n.a.createElement("g",null),wr=n.a.createElement("g",null),jr=n.a.createElement("g",null),yr=n.a.createElement("g",null),Sr=n.a.createElement("g",null),kr=n.a.createElement("g",null),Ar=n.a.createElement("g",null),Tr=n.a.createElement("g",null),Pr=n.a.createElement("g",null),Ir=n.a.createElement("g",null),Cr=n.a.createElement("g",null),Nr=n.a.createElement("g",null),Ur=n.a.createElement("g",null),Rr=function(e){var t=e.svgRef,a=e.title,r=gr(e,["svgRef","title"]);return n.a.createElement("svg",br({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,vr,Er,xr,Or,wr,jr,yr,Sr,kr,Ar,Tr,Pr,Ir,Cr,Nr,Ur)},Dr=n.a.forwardRef((function(e,t){return n.a.createElement(Rr,br({svgRef:t},e))}));a.p;function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Fr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Br=n.a.createElement("g",null,n.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),n.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),Lr=function(e){var t=e.svgRef,a=e.title,r=Fr(e,["svgRef","title"]);return n.a.createElement("svg",zr({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},r),a?n.a.createElement("title",null,a):null,Br)},Wr=n.a.forwardRef((function(e,t){return n.a.createElement(Lr,zr({svgRef:t},e))})),_r=(a.p,a(362)),Mr=a.n(_r),Gr=a(363),Hr=a.n(Gr),Vr=a(364),Qr=a.n(Vr),Yr={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},Jr=Object(H.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:Yr[e.entry.type].bg,borderRadius:3,color:Yr[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(Yr[e.entry.type].bgDark),borderBottom:"1px solid ".concat(Yr[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:Yr[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),qr=function(e){var t=e.entry,a=e.onBeforeClose,c=e.onAfterClose,s=t.type||"error",o=Object(u.a)(Object(u.a)({},t),{},{type:s}),i=Jr({entry:o}),p=Object(r.useState)(!0),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),v=b[0],E=b[1],x=Object(r.useState)(0),O=Object(l.a)(x,2),w=O[0],j=O[1],y=t.duration||5,S=Object(r.useCallback)(Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=4;break}return e.next=4,a();case 4:f(!1),c&&c(t);case 6:case"end":return e.stop()}}),e)}))),[t,c,a]);Object(r.useEffect)((function(){j(setTimeout(S,1e3*y))}),[]);var k=function(){j(v?setTimeout(S,1e3*y):function(e){return clearTimeout(e),0}),E(!v)},A=function(){switch(s){case"error":return n.a.createElement(ir,null);case"info":return n.a.createElement(Dr,null);case"warn":return n.a.createElement(hr,null);case"success":return n.a.createElement(Wr,null);default:return null}};return n.a.createElement(n.a.Fragment,null,d?n.a.createElement("div",{className:i.popUpContainer},n.a.createElement("div",{className:i.popUpWatermark},n.a.createElement(A,null)),n.a.createElement("div",{className:i.popUpToolbar},n.a.createElement("div",{className:i.popUpControls},v?n.a.createElement("span",{role:"button",onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Hr.a,alt:"Continue the pop-up timer"})):n.a.createElement("span",{onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Qr.a,alt:"Pause the pop-up timer"})),n.a.createElement("span",{onClick:function(){return clearTimeout(w),void S()},"aria-hidden":"true"},n.a.createElement("img",{src:Mr.a,alt:"Close the pop-up"}))),n.a.createElement("div",{className:Object(G.a)(Object(g.a)({},i.popUpTimer,!0),v?i.popUpTimerOff:i.popUpTimerOn),style:{animationDuration:"".concat(y,"s")}})),n.a.createElement("div",{className:i.popUpDelimiter}),n.a.createElement("div",{className:i.popUpHeader},n.a.createElement("span",null,t.header?t.header.toUpperCase():"Error")),n.a.createElement("div",{className:i.popUpDelimiter}),n.a.createElement("div",{className:i.popUpContent},t.content)):null)},Kr=Object(H.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),Xr=function(e){var t=e.entry,a=e.onAfterClose,c=e.notificationRender,s=Kr({entry:t}),o=Object(r.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1];return n.a.createElement("div",{className:Object(G.a)(s.containerTransition,Object(g.a)({},s.containerTransitionOff,u))},c(t,{entry:t,onAfterClose:a,closeTimeOffset:5,onBeforeClose:function(){return new Promise((function(e){p(!0),setTimeout((function(){e()}),700)}))}}))},Zr=function(){var e=Kr(),t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1];return xe.notifications=c,xe.setNotifications=s,n.a.createElement("div",{className:e.root},c.map((function(e){return n.a.createElement(Xr,{key:e.id,notificationRender:function(e,t){return n.a.createElement(qr,{type:e.type,entry:t.entry,onBeforeClose:t.onBeforeClose,onAfterClose:t.onAfterClose})},onAfterClose:function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))},entry:e})})))},$r=function(){var e=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.security||null===e.user){t.next=5;break}return t.next=3,Kt.getSecurities();case 3:(a=t.sent)&&e.setContext((function(e){return Object(u.a)(Object(u.a)({},e),{},{security:a})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),null},en={currentUserPath:"/api/me",getCurrentUser:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ge.a.get(e.currentUserPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:return t.prev=9,t.t0=t.catch(0),xe.notify({type:"error",header:"Error",content:"Not logged in. ".concat(t.t0.response.data&&t.t0.response.data.error||t.t0.message)}),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},tn=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var t,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.setContext){e.next=2;break}return e.abrupt("return",n(!1));case 2:if(c.user||a){e.next=9;break}return n(!0),e.next=6,en.getCurrentUser();case 6:return(t=e.sent)&&(r=t.displayName||t.username||"Unknown",t.avatar=r.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),e.abrupt("return",c.setContext(Object(u.a)(Object(u.a)({},c),{},{user:t,userLoaded:!0})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,c]),null},an=Object(H.a)((function(e){var t;return{root:(t={},Object(g.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(g.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}}));var rn=function(){var e=an(),t=Object(r.useState)({user:null,Authorize:Kt.Authorize,setContext:null,userPreferences:{theme:"dark"===localStorage.getItem("theme")?Object(f.a)(Mt):Object(f.a)(Gt)}}),a=Object(l.a)(t,2),c=a[0],s=a[1],o=c.userPreferences.theme;return Object(r.useEffect)((function(){s((function(e){return Object(u.a)(Object(u.a)({},e),{},{setContext:s})}))}),[]),n.a.createElement(Q.Provider,{value:c},n.a.createElement(h.a,{theme:o},n.a.createElement(Zr,null),n.a.createElement(tn,{ctx:c,setCtx:s}),n.a.createElement(p.a,null),n.a.createElement($r,null),n.a.createElement(m.a,null,n.a.createElement(ce,null),n.a.createElement(b.a,{maxWidth:"lg",className:e.root},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/appraisals"},n.a.createElement(i.a,{title:"Appraisals"},n.a.createElement(Pt,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/audits"},n.a.createElement(i.a,{title:"Audits"},n.a.createElement("h1",null,"IN PROGRESS"))),n.a.createElement(d.b,{path:"/reporting"},n.a.createElement(i.a,{title:"Reporting"},n.a.createElement(_a,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/settings"},n.a.createElement(i.a,{title:"Settings"},n.a.createElement(ga,null))),n.a.createElement(d.b,{path:"/login"},n.a.createElement(i.a,{title:"Sign in"},n.a.createElement(Ma,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/"},n.a.createElement(Lt,{ctx:c,setCtx:s})))))))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{title:"Admin Tools"},n.a.createElement(rn,null))),document.getElementById("root"))},463:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(38),s=a(31),o=a(529),i=a(99),u=a(321),l=a(162),p=a.n(l),m=a(168),d=a(317),f=Object(d.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2),marginBottom:e.spacing(1)}}}));t.default=function(){var e=f(),t=Object(c.g)(),a=Object(c.i)().path;return n.a.createElement(o.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Templates"),n.a.createElement(i.a,{className:e.container},n.a.createElement(s.b,{to:"".concat(a,"/new"),color:"secondary",variant:"contained",component:u.a},"Create Template")),n.a.createElement(p.a,{icons:m.a.tableIcons,title:"List",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser"}],data:[{id:1234,name:"Test",filename:"test.xlsx",createdUser:"me@you.com"},{id:41231,name:"Test1",filename:"test.xlsx",createdUser:"me@you.com"},{id:123124,name:"Test2",filename:"test.xlsx",createdUser:"me@you.com"},{id:12345,name:"Test3",filename:"test.xlsx",createdUser:"me@you.com"}],actions:[{icon:m.a.tableIcons.Download,tooltip:"Download Template",onClick:function(){return alert("Download file")}}],onRowClick:function(e,r){return t.push("".concat(a,"/").concat(r.id))}}))}}},[[378,1,2]]]);
//# sourceMappingURL=main.0c6863aa.chunk.js.map