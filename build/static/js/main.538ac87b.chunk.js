(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{167:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(0),r=a.n(n),c=a(476),s=a(477),o=a(370),i=a(478),u=a(369),l=a(479),m=a(480),p=a(481),d=a(482),f=a(483),h=a(472),b=a(484),g=a(485),E=a(486),v=a(487),x=a(488),O={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(p.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(E.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Download:Object(n.forwardRef)((function(e,t){return r.a.createElement(x.a,Object.assign({},e,{ref:t}))}))}},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAcUlEQVR42t2SQQ6AMAgE9xMS+8T2uXLwOXjQpNFuEY7KoQeyQ4EF+FdUCM0LKks3GJQgAoWhjcCCDYYdhWZX9seIuPIReZXfkZC8D6nXK5H1nrVD1Z9AiciTLfVRuS9T+dxK11UX4Xt3kPTxpc/7u3EAm8ZLMlV4jXYAAAAASUVORK5CYII="},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAAGklEQVR42mNgGPHgPxTi4o9qGNUweDSMEAAAGpBvkWTboZAAAAAASUVORK5CYII="},376:function(e,t,a){e.exports=a(458)},458:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),o=a(11),i=function(){return console.log("\n           __.                                              \n        .-\".'                      .--.            _..._    \n      .' .'                     .'    \\       .-\"\"  __ \"\"-. \n     /  /                     .'       : --..:__.-\"\"  \"\"-. \\\n    :  :                     /         ;.d$$    sbp_.-\"\"-:_:\n    ;  :                    : ._       :P .-.   ,\"TP        \n    :   \\                    \\  T--...-; : d$b  :d$b        \n     \\   `.                   \\  `..'    ; $ $  ;$ $        \n      `.   \"-.                 ).        : T$P  :T$P        \n        \\..---^..             /           `-'    `._`._     \n       .'        \"-.       .-\"                     T$$$b    \n      /             \"-._.-\"               ._        '^' ;   \n     :                                    \\.`.         /    \n     ;                                -.   \\`.\"-._.-'-'     \n    :                                 .'\\   \\ \\ \\ \\         \n    ;  ;                             /:  \\   \\ \\ . ;        \n   :   :                            ,  ;  `.  `.;  :        \n   ;    \\        ;                     ;    \"-._:  ;        \n  :      `.      :                     :         \\/         \n  ;       /\"-.    ;                    :                    \n :       /    \"-. :                  : ;                    \n :     .'        T-;                 ; ;        \n ;    :          ; ;                /  :        \n ;    ;          : :              .'    ;       \n:    :            ;:         _..-\"\\     :       \n:     \\           : ;       /      \\     ;      \n;    . '.         '-;      /        ;    :      \n;  \\  ; :           :     :         :    '-.      \n'.._L.:-'           :     ;    bug   ;    . `. \n                     ;    :          :  \\  ; :  \n                     :    '-..       '.._L.:-'  \n                      ;     , `.                \n                      :   \\  ; :                \n                      '..__L.:-'\n")},u=a(29),l=a(16),m=a(505),p=a(506),d=a(509),f=a(510),h=a(511),b=a(512),g=a(513),E=a(514),v=a(515),x=a(516),O=a(462),j=a(547),y=a(504),w=a(204),S=a(76),k=a(460),P=a(318),I=a(467),A=a(2),T=a(317),C=Object(T.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(u.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),U=a(319),R=a(63),N=a(194),z=a(508),D=a(320),L=a(321),B=a(496),F=a(32),_=r.a.createContext({}),W=a(497),M=a(498),V=a(499),H=a(500),G=a(501),Q=a(25),$=function(e){var t=e.code,a=e.grant,r=e.onReject,c=Object(Q.a)(e,["code","grant","onReject"]),s=Object(n.useContext)(_),i=Object(n.useState)(!1),u=Object(o.a)(i,2),l=u[0],m=u[1];return Object(n.useEffect)((function(){m(s.context.Authorize(t,a))}),[s,t,a]),l?c.children:r?r():null},Y=function(e){return r.a.createElement(k.a,{component:"div",disablePadding:!0},r.a.createElement($,{code:"SETTINGS",grant:"general"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/settings"},r.a.createElement(B.a,null,r.a.createElement(W.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"General"}))),r.a.createElement($,{code:"SETTINGS",grant:"users"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/settings/users"},r.a.createElement(B.a,null,r.a.createElement(M.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Users"}))),r.a.createElement($,{code:"SETTINGS",grant:"appraisal-periods"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/settings/appraisal-periods"},r.a.createElement(B.a,null,r.a.createElement(V.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Appraisal-periods"}))),r.a.createElement($,{code:"SETTINGS",grant:"appraisal-items"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/settings/appraisal-items"},r.a.createElement(B.a,null,r.a.createElement(H.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Appraisal-items"}))),r.a.createElement($,{code:"SETTINGS",grant:"permissions"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/settings/permissions"},r.a.createElement(B.a,null,r.a.createElement(G.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Permissions"}))))},K=a(502),X=a(503),Z=function(e){return r.a.createElement(k.a,{component:"div",disablePadding:!0},r.a.createElement($,{code:"REPORTS",grant:"read"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/reporting"},r.a.createElement(B.a,null,r.a.createElement(K.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Reports"}))),r.a.createElement($,{code:"REPORT-TEMPLATES",grant:"read"},r.a.createElement(O.a,{button:!0,component:F.b,to:"/reporting/templates"},r.a.createElement(B.a,null,r.a.createElement(X.a,{fontSize:"small"})),r.a.createElement(P.a,{secondary:"Templates"}))))};function J(){var e,t,a=Object(n.useContext)(_),c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],T=s[1],W=Object(n.useState)(null),M=Object(o.a)(W,2),V=M[0],H=M[1],G=Object(n.useState)({settings:!1}),Q=Object(o.a)(G,2),K=Q[0],X=Q[1],J=C(),q=function(e){return function(t){X((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e,!t[e]))}))}},ee=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&T(!i)},te=function(e){return r.a.createElement(O.a,Object.assign({button:!0,component:F.b},e))},ae=a.context.user?a.context.user.displayName||a.context.user.username:"Unknown",ne=r.a.createElement(j.a,{title:ae,alt:ae,onClick:function(e){H(e.currentTarget)},className:J.avatar},a.context.user&&a.context.user.avatar);return r.a.createElement("div",null,r.a.createElement(y.a,{id:"app-bar-fixed",position:"fixed",className:Object(A.a)(J.root,J.appBar,Object(u.a)({},J.appBarShift,i))},r.a.createElement(U.a,null,r.a.createElement(w.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:ee,className:Object(A.a)(J.menuButton,Object(u.a)({},J.hide,i))},r.a.createElement(m.a,null)),r.a.createElement(p.a,{style:{marginRight:15}}),r.a.createElement(R.a,{variant:"h6",className:Object(A.a)(J.title)},"Admin Tools"),a.context.user?r.a.createElement(U.a,null,ne,r.a.createElement(N.a,{id:"user-menu",anchorEl:V,keepMounted:!0,open:Boolean(V),onClose:function(){H(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(z.a,{href:"/api/logout",color:"inherit"},r.a.createElement(D.a,null,"Logout")))):r.a.createElement("div",null,a.context.userLoaded?r.a.createElement(z.a,{href:"/api/login",color:"inherit"},r.a.createElement(L.a,{edge:"end",color:"inherit"},"Login")):null))),r.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),r.a.createElement(S.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:i,onClose:function(){return T(!1)},className:Object(A.a)(J.drawer,(e={},Object(u.a)(e,J.drawerOpen,i),Object(u.a)(e,J.drawerClose,!i),e)),classes:{paper:Object(A.a)((t={},Object(u.a)(t,J.drawerOpen,i),Object(u.a)(t,J.drawerClose,!i),t))}},r.a.createElement(w.a,{onClick:ee},r.a.createElement(d.a,{fontSize:"large",style:{alignSelf:"center"}})),r.a.createElement(k.a,null,r.a.createElement(te,{to:"/"},r.a.createElement(B.a,null,r.a.createElement(f.a,null)),r.a.createElement(P.a,{primary:"Home"})),r.a.createElement($,{code:"APPRAISAL PERIODS",grant:"read"},r.a.createElement(te,{to:"/appraisals"},r.a.createElement(B.a,null,r.a.createElement(h.a,null)),r.a.createElement(P.a,{primary:"Appraisals"}))),r.a.createElement($,{code:"AUDITS",grant:"read"},r.a.createElement(te,{to:"/audits"},r.a.createElement(B.a,null,r.a.createElement(b.a,null)),r.a.createElement(P.a,{primary:"Audits"}))),r.a.createElement($,{code:"REPORTS",grant:"read"},r.a.createElement(O.a,{button:!0,onClick:q("reports")},r.a.createElement(B.a,null,r.a.createElement(g.a,null)),r.a.createElement(P.a,{primary:"Reporting"}),K.reports?r.a.createElement(E.a,null):r.a.createElement(v.a,null)),r.a.createElement(I.a,{in:K.reports},r.a.createElement(Z,null))),r.a.createElement($,{code:"SETTINGS",grant:"read"},r.a.createElement(O.a,{button:!0,onClick:q("settings")},r.a.createElement(B.a,null,r.a.createElement(x.a,null)),r.a.createElement(P.a,{primary:"Settings"}),K.settings?r.a.createElement(E.a,null):r.a.createElement(v.a,null)),r.a.createElement(I.a,{in:K.settings},r.a.createElement(Y,null))))))}var q=a(541),ee=a(39),te=a(6),ae=a.n(te),ne=a(9),re=a(524),ce=a(525),se=a(526),oe=a(527),ie=a(529),ue=a(530),le=a(21),me=a.n(le),pe=["Planned","Achieved","Training","Training_Suggested","SWOT_S","SWOT_W","SWOT_O","SWOT_T"],de=["Active","Finished","InProgress"];function fe(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}function he(e){if(-1===pe.indexOf(e.type))throw new Error("Item type not valid: "+e.type);if(-1===de.indexOf(e.status))throw new Error("Item status not valid: "+e.status);if(0===e.periodId)throw new Error("Item periodId not valid: "+e.periodId);if(!e.user)throw new Error("Item user not valid: "+e.user)}function be(e){if(!e.id||0===e.id)throw new Error("Item id not valid: "+e.type)}var ge=0,Ee=function(e,t){return{notifications:e,setNotifications:t,addNotification:function(e){return t((function(t){var a=t.slice();return e.id=(ge>1e5&&(ge=0),++ge),a.push(e),a}))}}},ve={notificationObject:{addNotification:function(e){console.log(e)}},notify:function(e){this.notificationObject.addNotification(e)}},xe={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getPeriodsPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:throw new Error("Server response: ".concat(t.status," - ").concat(t.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getItems:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getItemsPath(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),getOrphans:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getOrphansPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:throw new Error("Server response: ".concat(t.status," - ").concat(t.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getUserItems:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUserItemsPath(t,a));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),getItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getItemPath(t,a));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),addItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(a),e.next=4,me.a.post(this.addItemToPeriodPath(t),Object(l.a)({},a));case 4:if(200!==(n=e.sent).status){e.next=9;break}return e.abrupt("return",n.data);case 9:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 10:e.next=17;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.log(e.t0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),addOrphan:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.post(this.addItemPath,t);case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),addUserItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(n),e.next=4,me.a.post(this.addUserItemPath(t,a),Object(l.a)({},n));case 4:if(200!==(r=e.sent).status){e.next=9;break}return e.abrupt("return",r.data);case 9:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),updateItemInPeriod:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(a),be(a),e.next=5,me.a.put(this.updateItemInPeriodPath(t,a.id),Object(l.a)({},a));case 5:if(200!==(n=e.sent).status){e.next=10;break}return e.abrupt("return",n.data);case 10:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),updateItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(t),be(t),e.next=5,me.a.put(this.updateItemPath(t.id),t);case 5:if(200!==(a=e.sent).status){e.next=10;break}return e.abrupt("return",a.data);case 10:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),updateUserItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(n),be(n),e.next=5,me.a.put(this.updateUserItemPath(t,a,n.id),Object(l.a)({},n));case 5:if(200!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r.data);case 10:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),updateItemType:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(a),be(a),e.next=5,me.a.post(this.updateItemTypePath(t,a.id),{type:a.type});case 5:if(200!==(n=e.sent).status){e.next=10;break}return e.abrupt("return",n.data);case 10:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),updateUserItemType:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,he(n),be(n),e.next=5,me.a.post(this.updateUserItemTypePath(t,a,n.id),{type:n.type});case 5:if(200!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r.data);case 10:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteItemFromPeriod:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.delete(this.deleteItemFromPeriodPath(t,a));case 3:if(204!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),deleteItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.delete(this.deleteItemPath(t));case 3:if(204!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),deleteUserItem:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.delete(this.deleteUserItemPath(t,a,n));case 3:if(204!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),addPeriod:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.post(this.addPeriodsPath,t);case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),finishPeriod:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.post(this.finishPeriodPath(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",!0);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),blankItem:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new fe({type:a,status:n,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,n,r,c){var s=a.slice().filter((function(e){return null!==e.user}));if(c&&"Active"!==c.status||!t)return s;0===s.map((function(e,t){return t})).filter((function(e){return""===s[e].content})).length&&s.push(this.blankItem(e,t,r));for(var o=n-s.length;o>0;)s.push(this.blankItem(e,t,r)),o--;return s},addItemToSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.addItem(t,a);case 3:return n=e.sent,e.abrupt("return",{value:n,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{value:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),addUserItemToSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.addUserItem(t,a,n);case 3:return r=e.sent,e.abrupt("return",{value:r,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{value:null,error:e.t0});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteItemFromSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.deleteItemFromPeriod(t,a.id);case 3:return n=e.sent,e.abrupt("return",{value:n,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.getItem(t,a.id);case 11:return e.t1=e.sent,e.t2=e.t0,e.abrupt("return",{value:e.t1,error:e.t2});case 14:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),deleteUserItemFromSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.deleteUserItem(t,a,n.id);case 3:return r=e.sent,e.abrupt("return",{value:r,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.getItem(t,n.id);case 11:return e.t1=e.sent,e.t2=e.t0,e.abrupt("return",{value:e.t1,error:e.t2});case 14:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),updateItemInSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.updateItemInPeriod(t,a);case 3:return n=e.sent,e.abrupt("return",{value:n,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.getItem(t,a.id);case 11:return e.t1=e.sent,e.t2=e.t0,e.abrupt("return",{value:e.t1,error:e.t2});case 14:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),updateUserItemInSet:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.updateUserItem(t,a,n);case 3:return r=e.sent,e.abrupt("return",{value:r,error:null});case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,this.getItem(t,n.id);case 11:return e.t1=e.sent,e.t2=e.t0,e.abrupt("return",{value:e.t1,error:e.t2});case 14:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},Oe=a(517),je=a(518),ye=a(519),we=a(330),Se=a(249),ke=a(250),Pe=a(206),Ie=a(256),Ae=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,i=(Object(Q.a)(e,["open","selectValues","handleSubmit","handleClose"]),Object(n.useContext)(_)),u=Object(n.useState)(""),l=Object(o.a)(u,2),m=l[0],p=l[1],d=Object(n.useState)(a[0]),f=Object(o.a)(d,2),h=f[0],b=f[1],g=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(i.context),t.persist(),t.preventDefault(),e.next=5,c(m,h,i.context.user.organization.id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},r.a.createElement(je.a,{id:"new-period-dialog"},"Create new period"),r.a.createElement(ye.a,null,r.a.createElement("form",{onSubmit:g},r.a.createElement(we.a,null,r.a.createElement(Se.a,{color:"primary",required:!0},r.a.createElement(ke.a,{htmlFor:"new-period-name"},"Period name"),r.a.createElement(Pe.a,{id:"new-period-name",name:"name",value:m,onChange:function(e){p(e.target.value)}})),r.a.createElement(Se.a,{color:"primary",required:!0},r.a.createElement(ke.a,{htmlFor:"new-period-status"},"Status"),r.a.createElement(Ie.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return r.a.createElement(D.a,{key:e,value:e},e)})):null)),r.a.createElement(Se.a,{style:{margin:20}},r.a.createElement(L.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Te=function(e){var t=e.context,a=e.open,n=e.handleClose,c=e.setItems,s=(Object(Q.a)(e,["context","open","handleClose","setItems"]),function(){var e=Object(ne.a)(ae.a.mark((function e(a,r,s){var o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.addPeriod({name:a,status:r,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),n(),ve.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:n}))},Ce=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(_);return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.context.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.context.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(ee.a,{to:"/login"}):null)},Ue=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getItems(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},Re=a(104),Ne=a(244),ze=a(331),De=a(332),Le=a(333),Be=a(520),Fe=a(521),_e=a(522),We=a(472),Me=a(369),Ve=Object(T.a)((function(e){return{root:{width:"80%"},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),He=function(e){var t=e.item,a=e.idx,c=(e.label,e.changeHandler),s=e.blurHandler,i=e.removeHandler,u=e.changeTypeHandler,m=e.canUpdate,p=e.canDelete,d=Ve(),f=Object(n.useState)(Object(l.a)({},t)),h=Object(o.a)(f,2),b=h[0],g=h[1],E=Object(n.useState)(!1),v=Object(o.a)(E,2),x=v[0],O=v[1],j=Object(n.useState)(null),y=Object(o.a)(j,2),S=y[0],k=y[1],I=Boolean(t.relatedItemId),A=!Boolean(I)&&"Active"===t.status,T=Boolean("Finished"===t.status),C=Object(ee.h)().userId,U=!!Boolean("Training_Suggested"===t.type)&&!Boolean(C);Object(n.useEffect)((function(){g(Object(l.a)({},t))}),[t]);var R=function(){k(null)},z=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,s(b,a,x);case 3:O(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){return function(){var a=Object(ne.a)(ae.a.mark((function a(n){return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,u(t.id,e);case 3:R();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},F=function(){var e=Object(ne.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.persist(),g(Object(l.a)(Object(l.a)({},t),{},{content:""})),e.next=4,i(b,a);case 4:O(!1),R();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=I?r.a.createElement(ze.a,{position:"start",className:d.startAdornment},r.a.createElement(De.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},r.a.createElement(Be.a,null))):null,W=r.a.createElement(ze.a,{position:"end",className:d.startAdornment},r.a.createElement(w.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){k(e.currentTarget)}},r.a.createElement(Fe.a,null)),r.a.createElement(N.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:R,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(D.a,{disabled:!p||!A,"aria-label":"delete appraisal item",onClick:F},r.a.createElement(B.a,null,r.a.createElement(_e.a,{fontSize:"small"})),r.a.createElement(P.a,{primary:"Delete"})),"Planned"===t.type?r.a.createElement(D.a,{"aria-label":"Move item to Achieved",onClick:L("Achieved")},r.a.createElement(B.a,null,r.a.createElement(We.a,{fontSize:"small"})),r.a.createElement(P.a,{primary:"Achieved"})):null,"Achieved"===t.type?r.a.createElement(D.a,{"aria-label":"move item to Planned",onClick:L("Planned")},r.a.createElement(B.a,null,r.a.createElement(Me.a,{fontSize:"small"})),r.a.createElement(P.a,{primary:"Planned"})):null));return r.a.createElement(Le.a,{className:d.root,id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:b.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){g(Object(l.a)(Object(l.a)({},t),{},{content:e.target.value})),c(Object(l.a)(Object(l.a)({},b),{},{content:e.target.value}),a,!x),O(!0)},onBlur:z,disabled:!m||(I||T||U),InputProps:{startAdornment:_,endAdornment:T?null:W}})},Ge=Object(T.a)({header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0}}),Qe=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,o=e.type,i=Object(Q.a)(e,["context","items","setItems","details","type"]),u={Achieved:"Achieved",Planned:"Planned",Training:"Trainings",Training_Suggested:"Suggested Trainings",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats"},l=s.id,m=Ge(),p={Achieved:5,Planned:5,Training:3,Training_Suggested:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5}[o]||0,d=Object(ee.h)().userId;Object(n.useEffect)((function(){c(xe.normalizeSet(l,t.user,a,p,o,s))}),[]);var f=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",xe.addItemToSet(t,a));case 4:return e.abrupt("return",xe.addUserItemToSet(t,d,a));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[d]),h=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",xe.updateItemInSet(t,a));case 4:return e.abrupt("return",xe.updateUserItemInSet(t,d,a));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[d]),b=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=4;break}return e.abrupt("return",xe.deleteItemFromSet(t,a));case 4:return e.abrupt("return",xe.deleteUserItemFromSet(t,d,a));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[d]),g=Object(n.useCallback)((function(e,a,n){n&&c((function(n){var r=n.slice();return r[a].content=e.content,xe.normalizeSet(l,t.user,r,p,o,s)}))}),[t.user,s,l,o,p,c]),E=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(n,r){var o,u;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n||!i.setOtherItems){e.next=8;break}if(!(o=a.find((function(e){return e.id===n})))){e.next=8;break}return o.type=r,e.next=6,h(l,o);case 6:(u=e.sent).error||(c((function(e){return xe.normalizeSet(l,t.user,e.filter((function(e){return e.id!==u.value.id})),p,r,s)})),i.setOtherItems((function(e){return xe.normalizeSet(l,t.user,e.filter((function(e){return""!==e.content})).concat(u.value),p,r,s)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[t.user,s,p,a,l,i,c,h]),v=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(n,r){var i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,isNaN(r)||!(r<a.length)){e.next=9;break}if(0===n.id){e.next=8;break}return e.next=5,b(l,a[r]);case 5:if(null===(i=e.sent).error){e.next=8;break}throw i.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==n.id}));return xe.normalizeSet(l,t.user,a,p,o,s)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[r]=n,xe.normalizeSet(l,t.user,a,p,o,s)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[t,s,a,l,o,p,b,c]),x=Object(n.useCallback)(function(){var e=Object(ne.a)(ae.a.mark((function e(n,r,i){var u,m,d,g,E;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<a.length&&n.type===o)){e.next=22;break}if(u=0===n.id&&n.content,m=0!==n.id&&""===n.content,!u){e.next=10;break}return e.next=6,f(l,n);case 6:d=e.sent,c((function(e){var a=e.slice();return d.error?(a[r]=n,a[r].content=""):a[r]=d.value,xe.normalizeSet(l,t.user,a,p,o,s)})),e.next=22;break;case 10:if(!m){e.next=17;break}return e.next=13,b(l,n);case 13:g=e.sent,c((function(e){var a=e.slice();return g.error?a[r]=g.value:a=a.filter((function(e){return e.id!==n.id})),xe.normalizeSet(l,t.user,a,p,o,s)})),e.next=22;break;case 17:if(u||m||!i||""===n.content){e.next=22;break}return e.next=20,h(l,n);case 20:E=e.sent,c((function(e){var a=e.map((function(e){return e.id===n.id?E.value:e}));return xe.normalizeSet(l,t.user,a,p,o,s)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),[t,s,a,l,o,p,f,b,h,c]);return r.a.createElement(Ne.a,null,r.a.createElement("h3",{className:m.header},u[o]),r.a.createElement(k.a,null,a.map((function(e,a){return r.a.createElement(O.a,{className:m.listItem,key:"".concat(a)},r.a.createElement(He,{item:e,idx:a,label:u[o],changeHandler:g,blurHandler:x,removeHandler:v,changeTypeHandler:E,canUpdate:t.Authorize(Boolean(d)?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","update"),canDelete:t.Authorize(Boolean(d)?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","delete")}))}))))},$e=a(546),Ye={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",normalizeUser:function(e){return e.role&&e.role.id&&(e.role=e.role.id),e.organization&&e.organization.id&&(e.organization=e.organization.id),e.organizations=e.organizations.map((function(e){return e.id||e})),e},getUsers:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUsersPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:throw new Error("Server response: ".concat(t.status," - ").concat(t.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUserPath(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.put(this.updateUsersPath(t),this.normalizeUser(a));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),getUserOrganizations:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUserOrganizationsPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:throw new Error("Server response: ".concat(t.status," - ").concat(t.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getUserTeamMembers:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUserTeamMembersPath);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},Ke=function(e){var t=e.onUserSelect,a=(e.defValue,Object(Q.a)(e,["onUserSelect","defValue"])),c=Object(n.useState)([]),s=Object(o.a)(c,2),i=s[0],u=s[1];Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Ye.getUserTeamMembers();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return r.a.createElement($e.a,Object.assign({},a,{id:"users-autocomplete",options:i,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}}))},Xe=function(e){var t=e.defaultValue,a=Object(Q.a)(e,["defaultValue"]),c=Object(ee.h)().id,s=Object(ee.g)(),i=Object(n.useState)(t||null),u=Object(o.a)(i,2),l=u[0],m=u[1],p=Object(n.useCallback)((function(e){if(e)return s.push("/appraisals/".concat(c,"/user/").concat(e.id));m(e)}),[s,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,Object.assign({value:l,onUserSelect:function(e){return p(e)}},a)))},Ze=Object(T.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),Je=function(e){var t=e.context,a=e.periodDetails,c=Ze(),s=Object(n.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),i=Object(o.a)(s,2),u=i[0],l=i[1],m=Object(n.useState)(a.items.filter((function(e){return"Planned"===e.type}))),p=Object(o.a)(m,2),d=p[0],f=p[1],h=Object(n.useState)(a.items.filter((function(e){return"Training"===e.type}))),b=Object(o.a)(h,2),g=b[0],E=b[1],v=Object(n.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),x=Object(o.a)(v,2),O=x[0],j=x[1],y=Object(n.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),w=Object(o.a)(y,2),S=w[0],k=w[1],P=Object(n.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),I=Object(o.a)(P,2),A=I[0],T=I[1],C=Object(n.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),U=Object(o.a)(C,2),R=U[0],N=U[1],z=Object(n.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),D=Object(o.a)(z,2),L=D[0],B=D[1];return r.a.createElement(re.a,{maxWidth:"md",className:c.conatiner},r.a.createElement("h1",{className:c.header},"Details ",a.name?"'".concat(a.name,"'"):null),r.a.createElement(ce.a,{container:!0},r.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Xe,{className:c.userInput}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:c.inputBlock},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:u,setItems:l,type:"Achieved",setOtherItems:f})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:d,setItems:f,type:"Planned",setOtherItems:l}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:g,setItems:E,type:"Training"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:O,setItems:j,type:"Training_Suggested"}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:S,setItems:k,type:"SWOT_S"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:A,setItems:T,type:"SWOT_W"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:R,setItems:N,type:"SWOT_O"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:L,setItems:B,type:"SWOT_T"})))))},qe=function(e){var t=e.periodId,a=e.userId,r=e.setUserDetails,c=e.setPeriodDetails;return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var n,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.getUser(a);case 2:return n=e.sent,r(n),e.next=6,xe.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,r]),null},et=Object(T.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),tt=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=et(),i=Object(n.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(o.a)(i,2),l=u[0],m=u[1],p=Object(n.useState)(a.items.filter((function(e){return"Planned"===e.type}))),d=Object(o.a)(p,2),f=d[0],h=d[1],b=Object(n.useState)(a.items.filter((function(e){return"Training"===e.type}))),g=Object(o.a)(b,2),E=g[0],v=g[1],x=Object(n.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),O=Object(o.a)(x,2),j=O[0],y=O[1],w=Object(n.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(o.a)(w,2),k=S[0],P=S[1],I=Object(n.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),A=Object(o.a)(I,2),T=A[0],C=A[1],U=Object(n.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),R=Object(o.a)(U,2),N=R[0],z=R[1],D=Object(n.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),L=Object(o.a)(D,2),B=L[0],F=L[1];return r.a.createElement(re.a,{maxWidth:"md",className:s.conatiner},r.a.createElement("h1",{className:s.header},"Details ",a.name?"'".concat(a.name,"'"):null),r.a.createElement(ce.a,{container:!0},r.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Xe,{defaultValue:c,className:s.userInput}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:s.inputBlock},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:l,setItems:m,type:"Achieved",setOtherItems:h})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:f,setItems:h,type:"Planned",setOtherItems:m}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:E,setItems:v,type:"Training"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:j,setItems:y,type:"Training_Suggested"}))),r.a.createElement(ce.a,{container:!0,item:!0,xs:12,component:Re.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:k,setItems:P,type:"SWOT_S"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:T,setItems:C,type:"SWOT_W"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:N,setItems:z,type:"SWOT_O"})),r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement(Qe,{context:t,details:a,items:B,setItems:F,type:"SWOT_T"})))))},at=function(e){var t=e.context,a=(Object(Q.a)(e,["context"]),Object(n.useState)(null)),c=Object(o.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(null),l=Object(o.a)(u,2),m=l[0],p=l[1],d=Object(ee.h)().id,f=Object(ee.h)().userId;return Object(n.useEffect)((function(){i(null),p(null)}),[f]),f?r.a.createElement(r.a.Fragment,null,null===s||null===m?r.a.createElement(qe,{periodId:d,userId:f,setUserDetails:p,setPeriodDetails:i}):r.a.createElement(tt,{context:t,periodDetails:s,userDetails:m})):r.a.createElement(r.a.Fragment,null,null===s?r.a.createElement(Ue,{periodId:d,setPeriodDetails:i}):r.a.createElement(Je,{context:t,periodDetails:s}))},nt=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,i=Object(Q.a)(e,["code","grant","to","failureNotification"]),u=Object(n.useContext)(_),l=Object(n.useState)(!1),m=Object(o.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)(!1),h=Object(o.a)(f,2),b=h[0],g=h[1],E=Object(n.useState)(!1),v=Object(o.a)(E,2),x=v[0],O=v[1];Object(n.useEffect)((function(){var e=u.context.Authorize(t,a);d(e),u.context.security&&(g(!e),!s||e||x||(ve.notify(s),O(!0)))}),[u,t,a,s,x]);var j=null;return p&&(j=i.children),b&&(j=r.a.createElement(ee.a,{to:c||"/"})),j},rt=function(e){var t=Object(n.useContext)(_);return r.a.createElement(re.a,{maxWidth:"md"},r.a.createElement(Ce,null),r.a.createElement(nt,{code:"APPRAISAL DETAILS",grant:"read",to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},r.a.createElement(at,{context:t.context})))},ct=a(528),st=Object(T.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),ot=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useContext)(_),f=st(),h=Object(ee.i)().path,b=Object(n.useState)(null),g=Object(o.a)(b,2),E=g[0],v=g[1],x=function(e){v(e.currentTarget)},O=function(){v(null)},j=function(e){return function(){var t=Object(ne.a)(ae.a.mark((function t(a){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe.finishPeriod(e.id);case 2:t.sent&&s((function(t){return t.map((function(t){return t.id===e.id?Object(l.a)(Object(l.a)({},e),{},{status:"Finished"}):t}))})),O();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,xe.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:h},r.a.createElement(re.a,{maxWidth:"md"},r.a.createElement(Ce,null),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h1",{className:f.header},"Appraisals")),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h2",{className:f.header},"Opened")),r.a.createElement(ce.a,{item:!0,xs:12,className:f.gridFlex},c.filter((function(e){return"Active"===e.status})).map((function(e,t){return r.a.createElement(se.a,{key:e.id,className:f.card},r.a.createElement(oe.a,{action:r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:x},r.a.createElement(Fe.a,null)),r.a.createElement(N.a,{id:"item-menu-".concat(e.id),anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:O,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(D.a,{onClick:j(e)},r.a.createElement(B.a,null,r.a.createElement(ct.a,{fontSize:"small"})),r.a.createElement(P.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),r.a.createElement(ie.a,null,r.a.createElement(R.a,{variant:"body1",component:"p"},"Created by: ",e.createdUser.username),r.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),r.a.createElement(ue.a,{className:f.cardActions},r.a.createElement(F.b,{to:"/appraisals/".concat(e.id),className:f.linkDecoration},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Open"))))}))),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h2",{hidden:0===c.filter((function(e){return"Active"!==e.status})).length,className:f.header},"Closed")),r.a.createElement(ce.a,{item:!0,xs:12,className:f.gridFlex},c.filter((function(e){return"Active"!==e.status})).map((function(e,t){return r.a.createElement(se.a,{key:e.id,className:f.card},r.a.createElement(oe.a,{action:r.a.createElement(w.a,{"aria-label":"actions"},r.a.createElement(Fe.a,null)),title:e.name,subheader:e.status}),r.a.createElement(ie.a,null,r.a.createElement(R.a,{variant:"body1",component:"p"},"Created by: ",e.createdUser.username),r.a.createElement(R.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),r.a.createElement(ue.a,{className:f.cardActions},r.a.createElement(F.b,{to:"/appraisals/".concat(e.id),className:f.linkDecoration},r.a.createElement(L.a,{variant:"contained",color:"primary"},"Open"))))}))),r.a.createElement(ce.a,{item:!0,xs:12,className:f.centerButton},r.a.createElement(L.a,{onClick:function(){return p(!0)},variant:"contained",color:"primary"},"New Period")),r.a.createElement(Te,{open:m,context:d.context,handleClose:function(){return p(!1)},setItems:s})))),r.a.createElement(ee.b,{exact:!0,path:"".concat(h,"/:id/user/:userId")},r.a.createElement(rt,{ctx:d.context,setCtx:d.setContext})),r.a.createElement(ee.b,{path:"".concat(h,"/:id")},r.a.createElement(rt,{ctx:d.context,setCtx:d.setContext}))))},it=a(334),ut=a(353),lt=a(531),mt=a(370),pt=Object(T.a)((function(e){return{grid:{flexDirection:"row",alignItems:"center"},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),dt=function(e){var t=e.items,a=e.setItems,c=(Object(Q.a)(e,["items","setItems"]),pt()),s=Object(n.useState)(""),i=Object(o.a)(s,2),m=i[0],p=i[1],d=function(e){return function(t){t.target.checked?f(e,"Achieved"):f(e,"Planned")}},f=function(){var e=Object(ne.a)(ae.a.mark((function e(t,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,xe.updateItem(Object(l.a)(Object(l.a)({},t),{},{type:n}));case 3:r=e.sent,a((function(e){var a=Object(l.a)(Object(l.a)({},t),{},{type:r.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var n,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return n={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,xe.addOrphan(n);case 4:r=e.sent,a((function(e){return e.concat(r)})),p("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(ne.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ne.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},r.a.createElement(k.a,null,t.map((function(e){return r.a.createElement(O.a,{dense:!0},r.a.createElement(it.a,{className:Object(A.a)(Object(u.a)({},c.itemAchievedText,"Achieved"===e.type)),control:r.a.createElement(ut.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),r.a.createElement(lt.a,null,r.a.createElement(w.a,{disabled:null!==e.relatedItemId,onClick:function(t){return b(e)}},r.a.createElement(mt.a,null))))}))),r.a.createElement(ce.a,{container:!0,className:c.grid},r.a.createElement(ce.a,{item:!0,xs:6},r.a.createElement(Le.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:m,onChange:function(e){p(e.target.value)}})),r.a.createElement(ce.a,{item:!0,xs:6},r.a.createElement(L.a,{variant:"contained",color:"secondary",disabled:""===m,onClick:function(e){return h(m)}},"Add"))))},ft=function(e){var t=e.setItems;Object(Q.a)(e,["setItems"]);return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get info"),e.t0=t,e.next=4,xe.getOrphans();case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},ht=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{setItems:s}),r.a.createElement(dt,{items:c,setItems:s}))},bt=function(e){e.ctx,e.setCtx,Object(Q.a)(e,["ctx","setCtx"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12,sm:6},r.a.createElement($,{code:"APPRAISAL DETAILS",grant:"read"},r.a.createElement(ht,null)))))},gt=Object(T.a)((function(e){return{root:{}}})),Et=a(532),vt=function(e){var t=Object(n.useContext)(_),a=Object(n.useState)(t.context.userPreferences&&t.context.userPreferences.theme||localStorage.getItem("theme")||"light"),c=Object(o.a)(a,2),s=c[0],i=c[1];return r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"h4"},"General Settings")),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(R.a,{variant:"h6"},"Appearence:")),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(ce.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(ce.a,{item:!0},"Light"),r.a.createElement(ce.a,{item:!0},r.a.createElement(Et.a,{checked:"dark"===s,onChange:function(e){var a;a=e.target.checked?"dark":"light",i(a),localStorage.setItem("theme",a),t.setContext((function(e){return Object(l.a)(Object(l.a)({},e),{},{context:Object(l.a)(Object(l.a)({},t.context),{},{userPreferences:Object(l.a)(Object(l.a)({},t.context.userPreferences||null),{},{theme:a})})})}))}})),r.a.createElement(ce.a,{item:!0},"Dark"))))},xt=a(103),Ot=a(161),jt=a.n(Ot),yt=a(167),wt={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getTeamsPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:throw new Error("Server response: ".concat(t.status," - ").concat(t.statusText));case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),addTeam:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.validate(t),e.next=4,me.a.post(this.addTeamPath,{team:t});case 4:if(200!==(a=e.sent).status){e.next=9;break}return e.abrupt("return",a.data);case 9:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},St={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getRolesPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getSecurities:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getCurrentUserSecuritiesPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getUserSecurities:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getUserSecuritiesPath(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),getOrganizationUsersSecurities:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getOrganizationUsersSecuritiesPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getRolesSecurities:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getRolesSecuritiesPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),getPermissionCodes:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.getPermissionCodesPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),addPermission:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.post(this.addPermissionPath,t);case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),updatePermission:function(){var e=Object(ne.a)(ae.a.mark((function e(t,a){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.put(this.updatePermissionPath(t),a);case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),deletePermission:function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.delete(this.deletePermissionPath(t));case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(n){return ve.notify({type:"error",header:"Error",content:n.response.data&&n.response.data.error||n.message}),!1}}},kt=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)([]),f=Object(o.a)(d,2),h=f[0],b=f[1],g=Object(n.useContext)(_),E=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){return r.a.createElement($e.a,{multiple:!0,id:"tags-standard",options:m,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:e.rowData.teams,onChange:function(t,a){e.onChange(a)},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):console.log(c)},customFilterAndSearch:function(e,t,a){var n=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n)})).length>0},editComponent:function(e){return r.a.createElement($e.a,{multiple:!0,id:"tags-standard-organizations",options:g.context.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:e.rowData.organizations,onChange:function(t,a){e.onChange(a)},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){return r.a.createElement($e.a,{id:"tags-standard-role",options:h,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:e.rowData.role,onChange:function(t,a){e.onChange(a)},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})}}],v={onRowUpdate:function(e,t){return new Promise(function(){var a=Object(ne.a)(ae.a.mark((function a(n,r){var o,i,u;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o=Object(xt.a)(c),i=t.tableData.id,a.next=5,Ye.updateUser(e.id,Object(l.a)(Object(l.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:t.organization||e.organizations.length?e.organizations[0].id:null}));case 5:u=a.sent,console.log(t),o[i]=u,s((function(e){return o})),n(),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0),r(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e,t){return a.apply(this,arguments)}}()).catch((function(e){throw e}))}};return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var t,a,n,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ye.getUsers(),wt.getTeams(),St.getRoles()]);case 2:t=e.sent,a=Object(o.a)(t,3),n=a[0],r=a[1],c=a[2],s((function(e){return n})),p((function(e){return r})),b((function(e){return c}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h1",null,"Users Settings")),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(jt.a,{icons:yt.a,title:"Users",columns:E,data:c,options:{searchFieldAlignment:"left"},editable:v})))},Pt=function(e){return r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h1",null,"AppraisalPeriods Settings")))},It=function(e){return r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement("h1",null,"AppraisalItems Settings")))},At=function(e){var t=e.setLoaded,a=e.setPermissionCodes,r=e.setRoles,c=e.setUsers,s=e.setRolePermissions,o=e.setUserPermissions;Object(Q.a)(e,["setLoaded","setPermissionCodes","setRoles","setUsers","setRolePermissions","setUserPermissions"]);return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var n,i,m,p,d,f,h;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.getPermissionCodes();case 2:return n=e.sent,a(n.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,St.getRoles();case 6:return i=e.sent,r(i.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,Ye.getUsers();case 10:return m=e.sent,c(m.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,St.getRolesSecurities();case 14:return p=e.sent,d={},p.forEach((function(e){d[e.reference.name]=Object(l.a)(Object(l.a)({},d[e.reference.name]),{},Object(u.a)({},e.code.code,e))})),s(d),e.next=20,St.getOrganizationUsersSecurities();case 20:f=e.sent,h={},f.forEach((function(e){h[e.reference.username]=Object(l.a)(Object(l.a)({},h[e.reference.username]),{},Object(u.a)({},e.code.code,e))})),o(h),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,r,c,s,o]),null},Tt=a(538),Ct=a(540),Ut=a(539),Rt=Object(T.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Nt=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,i=e.selectedRole,m=e.setSelectedRole,p=(Object(Q.a)(e,["codes","roles","rolePermissions","setRolePermissions","selectedRole","setSelectedRole"]),Rt()),d=Object(n.useState)([]),f=Object(o.a)(d,2),h=f[0],b=f[1],g=Object(n.useState)(""),E=Object(o.a)(g,2),x=E[0],O=E[1],j=function(e,t,a){s((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(u.a)({},e.name,Object(l.a)(Object(l.a)({},n[e.name]),{},Object(u.a)({},t.code,a))))}))},y=function(e,t,a){return function(){var n=Object(ne.a)(ae.a.mark((function n(r){var s,o,i,u,m;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.persist(),c[e.name]&&c[e.name][t.code]){n.next=8;break}return n.next=4,w(e,t,a);case 4:(s=n.sent)&&j(e,t,s),n.next=28;break;case 8:if(!r.target.checked){n.next=16;break}return o=[].concat(Object(xt.a)(c[e.name][t.code].grants),[a]),n.next=12,S(Object(l.a)(Object(l.a)({},c[e.name][t.code]),{},{grants:o}));case 12:(i=n.sent)&&j(e,t,i),n.next=28;break;case 16:if(r.target.checked){n.next=28;break}if(0!==(u=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){n.next=24;break}return n.next=21,k(c[e.name][t.code]);case 21:j(e,t,null),n.next=28;break;case 24:return n.next=26,S(Object(l.a)(Object(l.a)({},c[e.name][t.code]),{},{grants:u}));case 26:(m=n.sent)&&j(e,t,m);case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.addPermission({grants:[n],code:a.id,permissionType:"Role",reference:t.id});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t,a){var n=c[e.name]&&c[e.name][t.code];return!!n&&-1!==n.grants.indexOf(a)};return r.a.createElement(ce.a,{container:!0,className:p.root},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement($e.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){m(t)},value:i,className:p.selector})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",className:p.toolBar},r.a.createElement(Le.a,{id:"role-permissions-search",label:"Search",size:"small",value:x,onChange:function(e){O(e.target.value)}}),r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(e){h.length===t.length?b([]):b(t.map((function(e){return e.code})))}},h.length!==t.length?"Expand All":"Collapse All"))),r.a.createElement(ce.a,{item:!0,xs:12},i?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(x.toLowerCase())})).map((function(e){return r.a.createElement(Tt.a,{key:e.id,expanded:-1!==h.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(xt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},r.a.createElement(Ct.a,{"aria-controls":"permission-content",expandIcon:r.a.createElement(v.a,null)},r.a.createElement("div",{className:p.permissionDescription},r.a.createElement(R.a,null,e.code),r.a.createElement(R.a,{variant:"caption",gutterBottom:!0},e.description))),r.a.createElement(Ut.a,{className:p.permissionBox},e.grants.map((function(t){return r.a.createElement(we.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},r.a.createElement(it.a,{value:t,label:r.a.createElement(R.a,{variant:"button"},t),control:r.a.createElement(ut.a,{color:"secondary",checked:P(i,e,t)}),onChange:y(i,e,t),labelPlacement:"start"}))}))));var t})):null))},zt=Object(T.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Dt=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,i=e.selectedUser,m=e.setSelectedUser,p=(Object(Q.a)(e,["codes","users","userPermissions","setUserPermissions","selectedUser","setSelectedUser"]),zt()),d=Object(n.useState)([]),f=Object(o.a)(d,2),h=f[0],b=f[1],g=Object(n.useState)(""),E=Object(o.a)(g,2),x=E[0],O=E[1],j=function(e,t,a){s((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(u.a)({},e.username,Object(l.a)(Object(l.a)({},n[e.username]),{},Object(u.a)({},t.code,a))))}))},y=function(e,t,a){return function(){var n=Object(ne.a)(ae.a.mark((function n(r){var s,o,i,u,m;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.persist(),console.log(e),c[e.username]&&c[e.username][t.code]){n.next=9;break}return n.next=5,w(e,t,a);case 5:(s=n.sent)&&j(e,t,s),n.next=29;break;case 9:if(!r.target.checked){n.next=17;break}return o=[].concat(Object(xt.a)(c[e.username][t.code].grants),[a]),n.next=13,S(Object(l.a)(Object(l.a)({},c[e.username][t.code]),{},{grants:o}));case 13:(i=n.sent)&&j(e,t,i),n.next=29;break;case 17:if(r.target.checked){n.next=29;break}if(0!==(u=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){n.next=25;break}return n.next=22,k(c[e.username][t.code]);case 22:j(e,t,null),n.next=29;break;case 25:return n.next=27,S(Object(l.a)(Object(l.a)({},c[e.username][t.code]),{},{grants:u}));case 27:(m=n.sent)&&j(e,t,m);case 29:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=Object(ne.a)(ae.a.mark((function e(t,a,n){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.addPermission({grants:[n],code:a.id,permissionType:"User",reference:t.id});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(ne.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e,t,a){var n=c[e.username]&&c[e.username][t.code];return!!n&&-1!==n.grants.indexOf(a)};return r.a.createElement(ce.a,{container:!0,className:p.root},r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement($e.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return r.a.createElement(Le.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){m(t)},value:i,className:p.selector})),r.a.createElement(ce.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",className:p.toolBar},r.a.createElement(Le.a,{id:"user-permissions-search",label:"Search",size:"small",value:x,onChange:function(e){O(e.target.value)}}),r.a.createElement(L.a,{variant:"contained",color:"secondary",onClick:function(e){h.length===t.length?b([]):b(t.map((function(e){return e.code})))}},h.length!==t.length?"Expand All":"Collapse All"))),r.a.createElement(ce.a,{item:!0,xs:12},i?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(x.toLowerCase())})).map((function(e){return r.a.createElement(Tt.a,{key:e.id,expanded:-1!==h.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(xt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},r.a.createElement(Ct.a,{"aria-controls":"permission-content",expandIcon:r.a.createElement(v.a,null)},r.a.createElement("div",{className:p.permissionDescription},r.a.createElement(R.a,null,e.code),r.a.createElement(R.a,{variant:"caption",gutterBottom:!0},e.description))),r.a.createElement(Ut.a,{className:p.permissionBox},r.a.createElement(we.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},r.a.createElement(it.a,{value:"overrule",label:r.a.createElement(R.a,{variant:"button"},"overrule"),control:r.a.createElement(ut.a,{color:"secondary",checked:P(i,e,"overrule")}),onChange:y(i,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return r.a.createElement(we.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},r.a.createElement(it.a,{value:t,label:r.a.createElement(R.a,{variant:"button"},t),control:r.a.createElement(ut.a,{color:"secondary",checked:P(i,e,t)}),onChange:y(i,e,t),labelPlacement:"start"}))}))));var t})):null))},Lt=a(545),Bt=a(537),Ft=function(e){var t=e.value,a=e.setValue;return r.a.createElement(Ne.a,{mt:2},r.a.createElement(y.a,{position:"static",color:"transparent",elevation:0},r.a.createElement(Lt.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},r.a.createElement(Bt.a,{label:"Roles"}),r.a.createElement(Bt.a,{label:"Users"}))))};function _t(e){var t=e.children,a=e.value,n=e.index,c=Object(Q.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},c),a===n&&r.a.createElement(Ne.a,null,t))}var Wt=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),l=u[0],m=u[1],p=Object(n.useState)([]),d=Object(o.a)(p,2),f=d[0],h=d[1],b=Object(n.useState)({}),g=Object(o.a)(b,2),E=g[0],v=g[1],x=Object(n.useState)({}),O=Object(o.a)(x,2),j=O[0],y=O[1],w=Object(n.useState)(null),S=Object(o.a)(w,2),k=S[0],P=S[1],I=Object(n.useState)(null),A=Object(o.a)(I,2),T=A[0],C=A[1],U=Object(n.useState)(0),R=Object(o.a)(U,2),N=R[0],z=R[1],D=Object(n.useState)(!1),L=Object(o.a)(D,2),B=L[0],F=L[1];return Object(n.useEffect)((function(){P((function(e){return null===e&&l.length>0?l[0]:e}))}),[l]),Object(n.useEffect)((function(){C((function(e){return null===e&&f.length>0?f[0]:e}))}),[f]),r.a.createElement(r.a.Fragment,null,r.a.createElement(At,{setLoaded:F,setPermissionCodes:s,setRoles:m,setUsers:h,setRolePermissions:v,setUserPermissions:y}),B?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,{value:N,setValue:z}),r.a.createElement(_t,{value:N,index:0},r.a.createElement(Nt,{codes:c,roles:l,rolePermissions:E,setRolePermissions:v,selectedRole:k,setSelectedRole:P})),r.a.createElement(_t,{value:N,index:1},r.a.createElement(Dt,{codes:c,users:f,userPermissions:j,setUserPermissions:y,selectedUser:T,setSelectedUser:C}))):null)},Mt=function(e){return r.a.createElement(Wt,null)},Vt=function(e){var t=e.ctx,a=e.setCtx,n=(Object(Q.a)(e,["ctx","setCtx"]),Object(ee.i)().path),c=gt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{ctx:t,setCtx:a}),r.a.createElement(re.a,{maxWidth:"lg",className:c.root},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:n},r.a.createElement(nt,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(vt,null))),r.a.createElement(ee.b,{path:"".concat(n,"/users")},r.a.createElement(nt,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(kt,null))),r.a.createElement(ee.b,{path:"".concat(n,"/appraisal-periods")},r.a.createElement(nt,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Pt,null))),r.a.createElement(ee.b,{path:"".concat(n,"/appraisal-items")},r.a.createElement(nt,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(It,null))),r.a.createElement(ee.b,{path:"".concat(n,"/permissions")},r.a.createElement(nt,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Mt,null))))))},Ht=function(e){return r.a.createElement(r.a.Fragment,null,"Reports")},Gt=a(459).default,Qt=function(e){var t=Object(ee.h)().id;return r.a.createElement(re.a,{maxWidth:"lg"},r.a.createElement("h1",{style:{textAlign:"center"}},"Details"),"Details ",t)},$t=function(e){var t=Object(ee.i)().path;return r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:t},r.a.createElement(Gt,null)),r.a.createElement(ee.b,{path:"".concat(t,"/:id")},r.a.createElement(Qt,null)))},Yt=function(e){var t=e.ctx,a=e.setCtx,n=(Object(Q.a)(e,["ctx","setCtx"]),Object(ee.i)().path);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{ctx:t,setCtx:a}),r.a.createElement(re.a,{maxWidth:"lg"},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{exact:!0,path:n},r.a.createElement(nt,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement(Ht,null))),r.a.createElement(ee.b,{path:"".concat(n,"/templates")},r.a.createElement(nt,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},r.a.createElement($t,null))))))},Kt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Login"),r.a.createElement("a",{href:"/api/login"},"Login"))},Xt=Object(T.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),Zt=function(e){var t=Xt(e),a=Object(n.useState)(!1),c=Object(o.a)(a,2),s=c[0],i=c[1];return r.a.createElement("div",{className:Object(A.a)(t.containerTransition,Object(u.a)({},t.containerTransitionOff,s))},e.notificationRender(e.entry,{entry:e.entry,closeTimeOffset:5,onAfterClose:e.onAfterClose,onBeforeClose:function(){return new Promise((function(e,t){i(!0),setTimeout((function(){e()}),700)}))}}))},Jt=function(e){var t=Xt(e);return r.a.createElement("div",{className:t.root},e.notifications.map((function(t,a){return r.a.createElement(Zt,Object.assign({key:t.id},e,{entry:t}))})))};function qt(){return(qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ea(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ta=r.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),aa=r.a.createElement("g",null),na=r.a.createElement("g",null),ra=r.a.createElement("g",null),ca=r.a.createElement("g",null),sa=r.a.createElement("g",null),oa=r.a.createElement("g",null),ia=r.a.createElement("g",null),ua=r.a.createElement("g",null),la=r.a.createElement("g",null),ma=r.a.createElement("g",null),pa=r.a.createElement("g",null),da=r.a.createElement("g",null),fa=r.a.createElement("g",null),ha=r.a.createElement("g",null),ba=r.a.createElement("g",null),ga=function(e){var t=e.svgRef,a=e.title,n=ea(e,["svgRef","title"]);return r.a.createElement("svg",qt({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,ta,aa,na,ra,ca,sa,oa,ia,ua,la,ma,pa,da,fa,ha,ba)},Ea=r.a.forwardRef((function(e,t){return r.a.createElement(ga,qt({svgRef:t},e))}));a.p;function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Oa=r.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),ja=r.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),ya=r.a.createElement("g",{fill:"#ff62b4"},r.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),r.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),wa=function(e){var t=e.svgRef,a=e.title,n=xa(e,["svgRef","title"]);return r.a.createElement("svg",va({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},n),a?r.a.createElement("title",null,a):null,Oa,ja,ya)},Sa=r.a.forwardRef((function(e,t){return r.a.createElement(wa,va({svgRef:t},e))}));a.p;function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ia=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),Aa=r.a.createElement("g",null),Ta=r.a.createElement("g",null),Ca=r.a.createElement("g",null),Ua=r.a.createElement("g",null),Ra=r.a.createElement("g",null),Na=r.a.createElement("g",null),za=r.a.createElement("g",null),Da=r.a.createElement("g",null),La=r.a.createElement("g",null),Ba=r.a.createElement("g",null),Fa=r.a.createElement("g",null),_a=r.a.createElement("g",null),Wa=r.a.createElement("g",null),Ma=r.a.createElement("g",null),Va=r.a.createElement("g",null),Ha=function(e){var t=e.svgRef,a=e.title,n=Pa(e,["svgRef","title"]);return r.a.createElement("svg",ka({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,Ia,Aa,Ta,Ca,Ua,Ra,Na,za,Da,La,Ba,Fa,_a,Wa,Ma,Va)},Ga=r.a.forwardRef((function(e,t){return r.a.createElement(Ha,ka({svgRef:t},e))}));a.p;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ya=r.a.createElement("g",null,r.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),r.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),Ka=function(e){var t=e.svgRef,a=e.title,n=$a(e,["svgRef","title"]);return r.a.createElement("svg",Qa({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},n),a?r.a.createElement("title",null,a):null,Ya)},Xa=r.a.forwardRef((function(e,t){return r.a.createElement(Ka,Qa({svgRef:t},e))})),Za=(a.p,a(361)),Ja=a.n(Za),qa=a(362),en=a.n(qa),tn=a(363),an=a.n(tn),nn={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},rn=Object(T.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:nn[e.entry.type].bg,borderRadius:3,color:nn[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(nn[e.entry.type].bgDark),borderBottom:"1px solid ".concat(nn[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:nn[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),cn=function(e){e.entry.type=e.entry.type||"error";var t=rn(e),a=Object(n.useState)(!0),c=Object(o.a)(a,2),s=c[0],i=c[1],l=Object(n.useState)(!1),m=Object(o.a)(l,2),p=m[0],d=m[1],f=Object(n.useState)(0),h=Object(o.a)(f,2),b=h[0],g=h[1],E=e.entry.duration||5,v=Object(n.useCallback)(Object(ne.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.onBeforeClose,!t.t0){t.next=4;break}return t.next=4,e.onBeforeClose();case 4:i(!1),e.onAfterClose&&e.onAfterClose(e.entry);case 6:case"end":return t.stop()}}),t)}))),[e]);Object(n.useEffect)((function(){g(setTimeout(v,1e3*E))}),[]);var x=function(){g(p?setTimeout(v,1e3*E):function(e){return clearTimeout(e),0}),d(!p)},O=function(){switch(e.entry.type){case"error":return r.a.createElement(Ea,null);case"info":return r.a.createElement(Ga,null);case"warn":return r.a.createElement(Sa,null);case"success":return r.a.createElement(Xa,null);default:return null}};return r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:t.popUpContainer},r.a.createElement("div",{className:t.popUpWatermark},r.a.createElement(O,null)),r.a.createElement("div",{className:t.popUpToolbar},r.a.createElement("div",{className:t.popUpControls},p?r.a.createElement("span",{onClick:function(){return x()}},r.a.createElement("img",{src:en.a,alt:"Continue the pop-up timer"})):r.a.createElement("span",{onClick:function(){return x()}},r.a.createElement("img",{src:an.a,alt:"Pause the pop-up timer"})),r.a.createElement("span",{onClick:function(){return clearTimeout(b),void v()}},r.a.createElement("img",{src:Ja.a,alt:"Close the pop-up"}))),r.a.createElement("div",{className:Object(A.a)(Object(u.a)({},t.popUpTimer,!0),p?t.popUpTimerOff:t.popUpTimerOn),style:{animationDuration:"".concat(E,"s")}})),r.a.createElement("div",{className:t.popUpDelimiter}),r.a.createElement("div",{className:t.popUpHeader},r.a.createElement("span",null,e.entry.header?e.entry.header.toUpperCase():"Error")),r.a.createElement("div",{className:t.popUpDelimiter}),r.a.createElement("div",{className:t.popUpContent},e.entry.content)):null)},sn=function(e){e.onUserSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Sandbox"))},on=function(e){var t=Object(n.useContext)(_);return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.context.security||null===t.context.user){e.next=5;break}return e.next=3,St.getSecurities();case 3:(a=e.sent)&&t.setContext((function(e){return Object(l.a)(Object(l.a)({},e),{},{security:a})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},un={currentUserPath:"/api/me",getCurrentUser:function(){var e=Object(ne.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get(this.currentUserPath);case 3:if(200!==(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),ve.notify({type:"error",header:"Error",content:e.t0.response.data&&e.t0.response.data.error||e.t0.message}),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},ln=function(e){e.ctx,e.setCtx;var t=Object(n.useState)(!1),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useContext)(_);return Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(ae.a.mark((function e(){var t,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.context.user||r){e.next=7;break}return e.next=3,un.getCurrentUser();case 3:(t=e.sent)&&(a=t.displayName||t.username||"Unknown",t.avatar=a.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),s.setContext(Object(l.a)(Object(l.a)({},s.context),{},{user:t,userLoaded:!0})),c(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,s]),null},mn=Object(T.a)((function(e){var t;return{root:(t={},Object(u.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(u.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}})),pn=a(534),dn=a(122),fn=function(e){var t=Object(n.useContext)(_),a=Object(n.useState)(localStorage.getItem("theme")||"light"),c=Object(o.a)(a,2),s=c[0],i=c[1];Object(n.useEffect)((function(){var e=localStorage.getItem("theme");if(e){console.log("Found in localstorage ",e);var a=t.context&&t.context.userPreferences&&t.context.userPreferences.theme;a&&a!==e&&t.setContext((function(t){return Object(l.a)(Object(l.a)({},t),{},{context:Object(l.a)(Object(l.a)({},t.context),{},{userPreferences:Object(l.a)(Object(l.a)({},t.contenxt?t.context.userPreferences:null),{},{theme:e})})})}))}else e=t.context.userPreferences&&t.context.userPreferences.theme?t.context.userPreferences.theme:"light",localStorage.setItem("theme",e);i((function(t){return e}))}),[t]);var u=Object(dn.a)({palette:{type:s},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}});return r.a.createElement(pn.a,{theme:u},e.children)};i();var hn=function(){var e=mn(),t=Object(n.useState)({user:null,Authorize:St.Authorize}),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),u=Object(o.a)(i,2),l=u[0],m=u[1],p=Ee(l,m);return ve.notificationObject=p,r.a.createElement(_.Provider,{value:{context:c,setContext:s}},r.a.createElement(fn,null,r.a.createElement(Jt,{notifications:l,notificationRender:function(e,t){return r.a.createElement(cn,Object.assign({},t,{type:e.type}))},onAfterClose:function(e){m((function(t){return t.filter((function(t){return t!==e}))}))}}),r.a.createElement(ln,{ctx:c,setCtx:s}),r.a.createElement(q.a,null),r.a.createElement(on,null),r.a.createElement(F.a,null,r.a.createElement(J,{annexElements:c.annexElements}),r.a.createElement(re.a,{maxWidth:"lg",className:e.root},r.a.createElement(ee.d,null,r.a.createElement(ee.b,{path:"/appraisals"},r.a.createElement(ot,{ctx:c,setCtx:s})),r.a.createElement(ee.b,{path:"/audits"},r.a.createElement("h1",null,"IN PROGRESS")),r.a.createElement(ee.b,{path:"/reporting"},r.a.createElement(Yt,{ctx:c,setCtx:s})),r.a.createElement(ee.b,{path:"/settings"},r.a.createElement(Vt,{ctx:c,setCtx:s})),r.a.createElement(ee.b,{path:"/login"},r.a.createElement(Kt,{ctx:c,setCtx:s})),r.a.createElement(ee.b,{path:"/sandbox"},r.a.createElement(sn,null)),r.a.createElement(ee.b,{path:"/"},r.a.createElement(bt,{ctx:c,setCtx:s})))))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(hn,null)),document.getElementById("root"))},459:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),s=a(167),o=a(524),i=a(161),u=a.n(i),l=a(11),m=a(244),p=a(104),d=a(321),f=a(517),h=a(518),b=a(519),g=a(542),E=a(525),v=a(543),x=a(249),O=a(333),j=a(535),y=a(317),w=Object(y.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2)},inputs:{"& > * + *":{marginTop:e.spacing(2)}}}})),S=a(63),k=a(544),P=Object(y.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),I=function(e){var t=P(),a=Object(n.useState)("..."),c=Object(l.a)(a,2),s=c[0],o=c[1];return r.a.createElement(m.a,Object.assign({},e,{className:t.root}),r.a.createElement("input",{id:"upload-file-input",type:"file",className:t.input,onChange:function(e){var t=e.target.files;t.length>0?o(t[0].name):o("...")}}),r.a.createElement("label",{htmlFor:"upload-file-input"},r.a.createElement(d.a,{variant:"text",startIcon:r.a.createElement(k.a,null),component:"span"},e.label||"Uplaod")),r.a.createElement(S.a,{variant:"caption",className:t.text},s))},A=function(e){var t=w(),a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],o=c[1],i=function(){o(!1)};return r.a.createElement(m.a,{mb:3},r.a.createElement(p.a,{className:t.container},r.a.createElement(d.a,{variant:"contained",color:"secondary",onClick:function(){o(!0)}},"New")),r.a.createElement(f.a,{open:s,onClose:i,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i()}},r.a.createElement(h.a,{id:"form-dialog-title"},"New Template"),r.a.createElement(b.a,null,r.a.createElement(g.a,null,"Upload template file and use it in Reports."),r.a.createElement(E.a,{container:!0,className:t.inputs},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(v.a,null)),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(x.a,null,r.a.createElement(O.a,{label:"Template Name",variant:"outlined",size:"small"}))),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(I,null)),r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(v.a,null)))),r.a.createElement(j.a,null,r.a.createElement(d.a,{type:"submit",color:"secondary",variant:"contained"},"Ok"),r.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:i},"Cancel")))))};t.default=function(e){var t=Object(c.g)(),a=Object(c.i)().path;return r.a.createElement(o.a,{maxWidth:"lg"},r.a.createElement("h1",{style:{textAlign:"center"}},"Templates"),r.a.createElement(A,null),r.a.createElement(u.a,{icons:s.a,title:"List",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser"}],data:[{id:1234,name:"Test",filename:"test.xlsx",createdUser:"me@you.com"},{id:41231,name:"Test1",filename:"test.xlsx",createdUser:"me@you.com"},{id:123124,name:"Test2",filename:"test.xlsx",createdUser:"me@you.com"},{id:12345,name:"Test3",filename:"test.xlsx",createdUser:"me@you.com"}],actions:[{icon:s.a.Download,tooltip:"Download Template",onClick:function(e,t){return alert("Download file")}}],onRowClick:function(e,n){return t.push("".concat(a,"/").concat(n.id))}}))}}},[[376,1,2]]]);
//# sourceMappingURL=main.538ac87b.chunk.js.map