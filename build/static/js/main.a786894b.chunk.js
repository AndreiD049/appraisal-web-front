(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{168:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(477),s=a(478),o=a(371),i=a(479),u=a(370),l=a(480),m=a(481),p=a(482),d=a(483),f=a(484),h=a(472),b=a(485),g=a(486),E=a(487),v=a(488),x=a(489),O={Add:Object(r.forwardRef)((function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return n.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return n.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return n.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return n.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return n.a.createElement(p.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return n.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return n.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return n.a.createElement(E.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return n.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Download:Object(r.forwardRef)((function(e,t){return n.a.createElement(x.a,Object.assign({},e,{ref:t}))}))};t.a={tableIcons:O}},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII="},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC"},377:function(e,t,a){e.exports=a(459)},459:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(21),s=a.n(c),o=a(16),i=a(10),u=a(544),l=a(31),m=a(38),p=a(121),d=a(537),f=a(526),h=a(29),b=a(507),g=a(508),E=a(511),v=a(512),x=a(513),O=a(514),j=a(515),w=a(516),y=a(517),S=a(518),k=a(463),A=a(552),T=a(506),I=a(318),P=a(205),C=a(62),U=a(195),N=a(510),R=a(319),z=a(320),D=a(75),B=a(461),F=a(498),L=a(317),W=a(368),_=a(2),M=a(316),G=Object(M.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),H=n.a.createContext({}),V=a(499),Q=a(500),Y=a(501),J=a(502),K=a(503),X=a(132),q=function(e){var t=e.code,a=e.grant,n=e.onReject,c=Object(X.a)(e,["code","grant","onReject"]),s=Object(r.useContext)(H),o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return Object(r.useEffect)((function(){m(s.Authorize(t,a))}),[s,t,a]),l?c.children:n?n():null},Z=function(){return n.a.createElement(B.a,{component:"div",disablePadding:!0},n.a.createElement(q,{code:"SETTINGS",grant:"general"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings"},n.a.createElement(F.a,null,n.a.createElement(V.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"General"}))),n.a.createElement(q,{code:"SETTINGS",grant:"users"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/users"},n.a.createElement(F.a,null,n.a.createElement(Q.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Users"}))),n.a.createElement(q,{code:"SETTINGS",grant:"appraisal-periods"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-periods"},n.a.createElement(F.a,null,n.a.createElement(Y.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Appraisal-periods"}))),n.a.createElement(q,{code:"SETTINGS",grant:"appraisal-items"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-items"},n.a.createElement(F.a,null,n.a.createElement(J.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Appraisal-items"}))),n.a.createElement(q,{code:"SETTINGS",grant:"permissions"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/permissions"},n.a.createElement(F.a,null,n.a.createElement(K.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Permissions"}))))},$=a(504),ee=a(505),te=function(){return n.a.createElement(B.a,{component:"div",disablePadding:!0},n.a.createElement(q,{code:"REPORTS",grant:"read"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting"},n.a.createElement(F.a,null,n.a.createElement($.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Reports"}))),n.a.createElement(q,{code:"REPORT-TEMPLATES",grant:"read"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting/templates"},n.a.createElement(F.a,null,n.a.createElement(ee.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Templates"}))))},ae=function(e){var t=e.to,a=e.children;return n.a.createElement(k.a,{button:!0,component:l.b,to:t},a)};function re(){var e,t,a=Object(r.useContext)(H),c=Object(r.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1],m=Object(r.useState)(null),p=Object(i.a)(m,2),d=p[0],f=p[1],M=Object(r.useState)({settings:!1}),V=Object(i.a)(M,2),Q=V[0],Y=V[1],J=G(),K=function(e){return function(){Y((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(h.a)({},e,!t[e]))}))}},X=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&l(!u)},$=a.user?a.user.displayName||a.user.username:"Unknown",ee=n.a.createElement(A.a,{title:$,alt:$,onClick:function(e){f(e.currentTarget)},className:J.avatar},a.user&&a.user.avatar);return n.a.createElement("div",null,n.a.createElement(T.a,{id:"app-bar-fixed",position:"fixed",className:Object(_.a)(J.root,J.appBar,Object(h.a)({},J.appBarShift,u))},n.a.createElement(I.a,null,n.a.createElement(P.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:X,className:Object(_.a)(J.menuButton,Object(h.a)({},J.hide,u))},n.a.createElement(b.a,null)),n.a.createElement(g.a,{style:{marginRight:15}}),n.a.createElement(C.a,{variant:"h6",className:Object(_.a)(J.title)},"Admin Tools"),a.user?n.a.createElement(I.a,null,ee,n.a.createElement(U.a,{id:"user-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(N.a,{href:"/api/logout",color:"inherit"},n.a.createElement(R.a,null,"Logout")))):n.a.createElement("div",null,a.userLoaded?n.a.createElement(N.a,{href:"/api/login",color:"inherit"},n.a.createElement(z.a,{edge:"end",color:"inherit"},"Login")):null))),n.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),n.a.createElement(D.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:u,onClose:function(){return l(!1)},className:Object(_.a)(J.drawer,(e={},Object(h.a)(e,J.drawerOpen,u),Object(h.a)(e,J.drawerClose,!u),e)),classes:{paper:Object(_.a)((t={},Object(h.a)(t,J.drawerOpen,u),Object(h.a)(t,J.drawerClose,!u),t))}},n.a.createElement(P.a,{onClick:X},n.a.createElement(E.a,{fontSize:"large",style:{alignSelf:"center"}})),n.a.createElement(B.a,null,n.a.createElement(ae,{to:"/"},n.a.createElement(F.a,null,n.a.createElement(v.a,null)),n.a.createElement(L.a,{primary:"Home"})),n.a.createElement(q,{code:"APPRAISAL PERIODS",grant:"read"},n.a.createElement(ae,{to:"/appraisals"},n.a.createElement(F.a,null,n.a.createElement(x.a,null)),n.a.createElement(L.a,{primary:"Appraisals"}))),n.a.createElement(q,{code:"AUDITS",grant:"read"},n.a.createElement(ae,{to:"/audits"},n.a.createElement(F.a,null,n.a.createElement(O.a,null)),n.a.createElement(L.a,{primary:"Audits"}))),n.a.createElement(q,{code:"REPORTS",grant:"read"},n.a.createElement(k.a,{button:!0,onClick:K("reports")},n.a.createElement(F.a,null,n.a.createElement(j.a,null)),n.a.createElement(L.a,{primary:"Reporting"}),Q.reports?n.a.createElement(w.a,null):n.a.createElement(y.a,null)),n.a.createElement(W.a,{in:Q.reports},n.a.createElement(te,null))),n.a.createElement(q,{code:"SETTINGS",grant:"read"},n.a.createElement(k.a,{button:!0,onClick:K("settings")},n.a.createElement(F.a,null,n.a.createElement(S.a,null)),n.a.createElement(L.a,{primary:"Settings"}),Q.settings?n.a.createElement(w.a,null):n.a.createElement(y.a,null)),n.a.createElement(W.a,{in:Q.settings},n.a.createElement(Z,null))))))}var ne=a(6),ce=a.n(ne),se=a(8),oe=a(527),ie=a(528),ue=a(529),le=a(531),me=a(532),pe=a(523),de=a(530),fe=a(20),he=a.n(fe),be=["Planned","Achieved","Training","Training_Suggested","SWOT_S","SWOT_W","SWOT_O","SWOT_T"],ge=["Active","Finished","InProgress"];function Ee(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}function ve(e){if(-1===be.indexOf(e.type))throw new Error("Item type not valid: ".concat(e.type));if(-1===ge.indexOf(e.status))throw new Error("Item status not valid: ".concat(e.status));if(0===e.periodId)throw new Error("Item periodId not valid: ".concat(e.periodId));if(!e.user)throw new Error("Item user not valid: ".concat(e.user))}function xe(e){if(!e.id||0===e.id)throw new Error("Item id not valid: ".concat(e.type))}var Oe=0,je={notifications:[],setNotifications:function(e){this.notifications=e(this.notifications)},addNotification:function(e){this.setNotifications((function(t){var a=e,r=t.slice();return a.id=(Oe>1e5&&(Oe=0),Oe+=1),r.push(a),r}))},notify:function(e){this.addNotification(e)}},we={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPeriodsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getItems:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getItemsPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrphans:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrphansPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserItems:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.get(a.getUserItemsPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.get(a.getItemPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(t),r.next=4,he.a.post(a.addItemToPeriodPath(e),Object(o.a)({},t));case 4:if(200!==(n=r.sent).status){r.next=7;break}return r.abrupt("return",n.data);case 7:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 10:throw r.prev=10,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},addOrphan:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addItemPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(a),n.next=4,he.a.post(r.addUserItemPath(e,t),Object(o.a)({},a));case 4:if(200!==(c=n.sent).status){n.next=7;break}return n.abrupt("return",c.data);case 7:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 10:throw n.prev=10,n.t0=n.catch(0),je.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},updateItemInPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(t),xe(t),r.next=5,he.a.put(a.updateItemInPeriodPath(e,t.id),Object(o.a)({},t));case 5:if(200!==(n=r.sent).status){r.next=8;break}return r.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},updateItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,ve(e),xe(e),a.next=5,he.a.put(t.updateItemPath(e.id),e);case 5:if(200!==(r=a.sent).status){a.next=8;break}return a.abrupt("return",r.data);case 8:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 11:throw a.prev=11,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},updateUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(a),xe(a),n.next=5,he.a.put(r.updateUserItemPath(e,t,a.id),Object(o.a)({},a));case 5:if(200!==(c=n.sent).status){n.next=8;break}return n.abrupt("return",c.data);case 8:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 11:throw n.prev=11,n.t0=n.catch(0),je.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},updateItemType:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,ve(t),xe(t),r.next=5,he.a.post(a.updateItemTypePath(e,t.id),{type:t.type});case 5:if(200!==(n=r.sent).status){r.next=8;break}return r.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},updateUserItemType:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,ve(a),xe(a),n.next=5,he.a.post(r.updateUserItemTypePath(e,t,a.id),{type:a.type});case 5:if(200!==(c=n.sent).status){n.next=8;break}return n.abrupt("return",c.data);case 8:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 11:throw n.prev=11,n.t0=n.catch(0),je.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},deleteItemFromPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.delete(a.deleteItemFromPeriodPath(e,t));case 3:if(204!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deleteItemPath(e));case 3:if(204!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.delete(r.deleteUserItemPath(e,t,a));case 3:if(204!==(c=n.sent).status){n.next=6;break}return n.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),je.notify({type:"error",header:"Error",content:n.t0.response.data&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPeriodsPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},finishPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.finishPeriodPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",!0);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},blankItem:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new Ee({type:a,status:r,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,r,n,c){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:["Active"],o=a.slice().filter((function(e){return null!==e.user}));if(c&&-1===s.indexOf(c.status)||!t)return o;var i=o.map((function(e,t){return t})).filter((function(e){return""===o[e].content}));0===i.length&&o.push(this.blankItem(e,t,n));for(var u=r-o.length;u>0;)o.push(this.blankItem(e,t,n)),u-=1;return o},addItemToSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.addItem(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{value:null,error:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},addUserItemToSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.addUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{value:null,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteItemFromSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.deleteItemFromPeriod(e,t.id);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteUserItemFromSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.deleteUserItem(e,t,a.id);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItemInSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.updateItemInPeriod(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},updateUserItemInSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.updateUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},ye=a(519),Se=a(520),ke=a(521),Ae=a(329),Te=a(249),Ie=a(250),Pe=a(207),Ce=a(256),Ue=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,o=Object(r.useContext)(H),u=Object(r.useState)(""),l=Object(i.a)(u,2),m=l[0],p=l[1],d=Object(r.useState)(a[0]),f=Object(i.a)(d,2),h=f[0],b=f[1],g=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),e.next=4,c(m,h,o.user.organization.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(ye.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},n.a.createElement(Se.a,{id:"new-period-dialog"},"Create new period"),n.a.createElement(ke.a,null,n.a.createElement("form",{onSubmit:g},n.a.createElement(Ae.a,null,n.a.createElement(Te.a,{color:"primary",required:!0},n.a.createElement(Ie.a,{htmlFor:"new-period-name"},"Period name"),n.a.createElement(Pe.a,{id:"new-period-name",name:"name",value:m,onChange:function(e){p(e.target.value)}})),n.a.createElement(Te.a,{color:"primary",required:!0},n.a.createElement(Ie.a,{htmlFor:"new-period-status"},"Status"),n.a.createElement(Ce.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return n.a.createElement(R.a,{key:e,value:e},e)})):null)),n.a.createElement(Te.a,{style:{margin:20}},n.a.createElement(z.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Ne=function(e){var t=e.context,a=e.open,r=e.handleClose,c=e.setItems,s=function(){var e=Object(se.a)(ce.a.mark((function e(a,n,s){var o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.addPeriod({name:a,status:n,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),r(),je.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ue,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:r}))},Re=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(H);return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),n.a.createElement(n.a.Fragment,null,a?n.a.createElement(m.a,{to:"/login"}):null)},ze=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.getItems(t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},De=a(98),Be=a(244),Fe=a(330),Le=a(331),We=a(332),_e=a(522),Me=a(524),Ge=a(472),He=a(370),Ve=Object(M.a)((function(e){return{root:{width:"80%"},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),Qe=function(e){var t=e.item,a=e.idx,c=e.changeHandler,s=e.blurHandler,u=e.removeHandler,l=e.changeTypeHandler,p=e.canUpdate,d=e.canDelete,f=Ve(),h=Object(r.useState)(Object(o.a)({},t)),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(r.useState)(!1),x=Object(i.a)(v,2),O=x[0],j=x[1],w=Object(r.useState)(null),y=Object(i.a)(w,2),S=y[0],k=y[1],A=Boolean(t.relatedItemId),T=!A&&"Active"===t.status,I=Boolean("Finished"===t.status),C=Object(m.h)().userId,N="Training_Suggested"===t.type&&!C;Object(r.useEffect)((function(){E(Object(o.a)({},t))}),[t]);var z=function(){k(null)},D=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,s(g,a,O);case 3:j(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(se.a)(ce.a.mark((function a(){return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,l(t.id,e);case 3:z();case 4:case"end":return a.stop()}}),a)})))},W=function(){var e=Object(se.a)(ce.a.mark((function e(r){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.persist(),E(Object(o.a)(Object(o.a)({},t),{},{content:""})),e.next=4,u(g,a);case 4:j(!1),z();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=A?n.a.createElement(Fe.a,{position:"start",className:f.startAdornment},n.a.createElement(Le.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},n.a.createElement(_e.a,null))):null,M=n.a.createElement(Fe.a,{position:"end",className:f.startAdornment},n.a.createElement(P.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){k(e.currentTarget)}},n.a.createElement(pe.a,null)),n.a.createElement(U.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:z,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(R.a,{disabled:!d||!T,"aria-label":"delete appraisal item",onClick:W},n.a.createElement(F.a,null,n.a.createElement(Me.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Delete"})),"Planned"===t.type?n.a.createElement(R.a,{"aria-label":"Move item to Achieved",onClick:B("Achieved")},n.a.createElement(F.a,null,n.a.createElement(Ge.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Achieved"})):null,"Achieved"===t.type?n.a.createElement(R.a,{"aria-label":"move item to Planned",onClick:B("Planned")},n.a.createElement(F.a,null,n.a.createElement(He.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Planned"})):null));return n.a.createElement(We.a,{className:f.root,id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:g.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){E(Object(o.a)(Object(o.a)({},t),{},{content:e.target.value})),c(Object(o.a)(Object(o.a)({},g),{},{content:e.target.value}),a,!O),j(!0)},onBlur:D,disabled:!p||(A||I||N),InputProps:{startAdornment:_,endAdornment:I?null:M}})},Ye=Object(M.a)({header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0}}),Je=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,o=e.type,u=e.setOtherItems,l={Achieved:"Achieved",Planned:"Planned",Training:"Trainings",Training_Suggested:"Suggested Trainings",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats"},p=s.id,d=Ye(),f={Achieved:5,Planned:5,Training:3,Training_Suggested:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5}[o]||0,h=Object(r.useState)(["Active"]),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(m.h)().userId,x=t.user;Object(r.useEffect)((function(){var e=g;t.Authorize(v?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","update finished")&&(e.push("Finished"),E(e)),c(we.normalizeSet(p,t.user,a,f,o,s,e))}),[]);var O=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",we.addItemToSet(t,a));case 2:return e.abrupt("return",we.addUserItemToSet(t,v,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[v]),j=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",we.updateItemInSet(t,a));case 2:return e.abrupt("return",we.updateUserItemInSet(t,v,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[v]),w=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",we.deleteItemFromSet(t,a));case 2:return e.abrupt("return",we.deleteUserItemFromSet(t,v,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[v]),y=Object(r.useCallback)((function(e,t,a){a&&c((function(a){var r=a.slice();return r[t].content=e.content,we.normalizeSet(p,x,r,f,o,s,g)}))}),[x,s,p,o,f,c,g]),S=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t||!u){e.next=8;break}if(!(n=a.find((function(e){return e.id===t})))){e.next=8;break}return n.type=r,e.next=6,j(p,n);case 6:(o=e.sent).error||(c((function(e){return we.normalizeSet(p,x,e.filter((function(e){return e.id!==o.value.id})),f,r,s,g)})),u((function(e){return we.normalizeSet(p,x,e.filter((function(e){return""!==e.content})).concat(o.value),f,r,s,g)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x,u,s,f,a,p,c,j,g]),A=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Number.isNaN(r)||!(r<a.length)){e.next=9;break}if(0===t.id){e.next=8;break}return e.next=5,w(p,a[r]);case 5:if(null===(n=e.sent).error){e.next=8;break}throw n.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==t.id}));return we.normalizeSet(p,x,a,f,o,s,g)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[r]=t,we.normalizeSet(p,x,a,f,o,s,g)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[x,s,a,p,o,f,w,c,g]),T=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r,n){var i,u,l,m,d;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<a.length&&t.type===o)){e.next=22;break}if(i=0===t.id&&t.content,u=0!==t.id&&""===t.content,!i){e.next=10;break}return e.next=6,O(p,t);case 6:l=e.sent,c((function(e){var a=e.slice();return l.error?(a[r]=t,a[r].content=""):a[r]=l.value,we.normalizeSet(p,x,a,f,o,s,g)})),e.next=22;break;case 10:if(!u){e.next=17;break}return e.next=13,w(p,t);case 13:m=e.sent,c((function(e){var a=e.slice();return m.error?a[r]=m.value:a=a.filter((function(e){return e.id!==t.id})),we.normalizeSet(p,x,a,f,o,s,g)})),e.next=22;break;case 17:if(i||u||!n||""===t.content){e.next=22;break}return e.next=20,j(p,t);case 20:d=e.sent,c((function(e){var a;return a=d.error?e.slice():e.map((function(e){return e.id===t.id?d.value:e})),we.normalizeSet(p,x,a,f,o,s,g)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),[x,s,a,p,o,f,O,w,j,c,g]);return n.a.createElement(Be.a,null,n.a.createElement("h3",{className:d.header},l[o]),n.a.createElement(B.a,null,a.map((function(e,a){var r=0===e.id?a:e.id;return n.a.createElement(k.a,{className:d.listItem,key:r},n.a.createElement(Qe,{item:e,idx:a,label:l[o],changeHandler:y,blurHandler:T,removeHandler:A,changeTypeHandler:S,canUpdate:t.Authorize(v?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","update"),canDelete:t.Authorize(v?"APPRAISAL DETAILS - OTHER USERS":"APPRAISAL DETAILS","delete")}))}))))};Je.defaultProps={setOtherItems:null};var Ke=Je,Xe=a(551),qe={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",getSettingsUsersPath:"/api/settings/users",putSettingsUsersPath:function(e){return"/api/settings/users/".concat(e)},normalizeUser:function(e){var t=e;return t.role&&t.role.id&&(t.role=t.role.id),t.organization&&t.organization.id&&(t.organization=t.organization.id),t.organizations=t.organizations.map((function(e){return e.id||e})),t},getUsers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSettingsUsers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getSettingsUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateUser:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.updateUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateSettingsUser:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.putSettingsUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getUserOrganizations:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserOrganizationsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserTeamMembers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserTeamMembersPath);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},Ze=function(e){var t=e.onUserSelect,a=e.defaultValue,c=e.className,s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1];Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,qe.getUserTeamMembers();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return n.a.createElement(Xe.a,{defaultValue:a,className:c,id:"users-autocomplete",options:u,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}})},$e=function(e){var t=e.defaultValue,a=e.className,c=Object(m.h)().id,s=Object(m.g)(),o=Object(r.useState)(t||null),u=Object(i.a)(o,2),l=u[0],p=u[1],d=Object(r.useCallback)((function(e){return e?s.push("/appraisals/".concat(c,"/user/").concat(e.id)):p(e)}),[s,c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ze,{value:l,onUserSelect:function(e){return d(e)},className:a,defaultValue:t}))};$e.defaultProps={defaultValue:null};var et=$e,tt=Object(M.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),at=function(e){var t=e.context,a=e.periodDetails,c=tt(),s=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),p=Object(i.a)(m,2),d=p[0],h=p[1],b=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),g=Object(i.a)(b,2),E=g[0],v=g[1],x=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),O=Object(i.a)(x,2),j=O[0],w=O[1],y=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(i.a)(y,2),k=S[0],A=S[1],T=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),I=Object(i.a)(T,2),P=I[0],C=I[1],U=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),N=Object(i.a)(U,2),R=N[0],z=N[1],D=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),B=Object(i.a)(D,2),F=B[0],L=B[1];return n.a.createElement(f.a,{maxWidth:"md",className:c.conatiner},n.a.createElement("h1",{className:c.header},"Details",a.name?"'".concat(a.name,"'"):null),n.a.createElement(oe.a,{container:!0},n.a.createElement(q,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(et,{className:c.userInput}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:c.inputBlock},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:u,setItems:l,type:"Achieved",setOtherItems:h})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:d,setItems:h,type:"Planned",setOtherItems:l}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:E,setItems:v,type:"Training"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:j,setItems:w,type:"Training_Suggested"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:k,setItems:A,type:"SWOT_S"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:P,setItems:C,type:"SWOT_W"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:R,setItems:z,type:"SWOT_O"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:F,setItems:L,type:"SWOT_T"})))))},rt=function(e){var t=e.periodId,a=e.userId,n=e.setUserDetails,c=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.getUser(a);case 2:return r=e.sent,n(r),e.next=6,we.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,n]),null},nt=Object(M.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%",margin:"2em auto"}}})),ct=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=nt(),o=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(i.a)(o,2),l=u[0],m=u[1],p=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),d=Object(i.a)(p,2),h=d[0],b=d[1],g=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),E=Object(i.a)(g,2),v=E[0],x=E[1],O=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),j=Object(i.a)(O,2),w=j[0],y=j[1],S=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),k=Object(i.a)(S,2),A=k[0],T=k[1],I=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),P=Object(i.a)(I,2),C=P[0],U=P[1],N=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),R=Object(i.a)(N,2),z=R[0],D=R[1],B=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),F=Object(i.a)(B,2),L=F[0],W=F[1];return n.a.createElement(f.a,{maxWidth:"md",className:s.conatiner},n.a.createElement("h1",{className:s.header},"Details",a.name?"'".concat(a.name,"'"):null),n.a.createElement(oe.a,{container:!0},n.a.createElement(q,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(et,{defaultValue:c,className:s.userInput}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:s.inputBlock},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:l,setItems:m,type:"Achieved",setOtherItems:b})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:h,setItems:b,type:"Planned",setOtherItems:m}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:v,setItems:x,type:"Training"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:w,setItems:y,type:"Training_Suggested"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:De.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:A,setItems:T,type:"SWOT_S"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:C,setItems:U,type:"SWOT_W"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:z,setItems:D,type:"SWOT_O"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(Ke,{context:t,details:a,items:L,setItems:W,type:"SWOT_T"})))))},st=function(e){var t=e.context,a=Object(r.useState)(null),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(null),l=Object(i.a)(u,2),p=l[0],d=l[1],f=Object(m.h)().id,h=Object(m.h)().userId;return Object(r.useEffect)((function(){o(null),d(null)}),[h]),h?n.a.createElement(n.a.Fragment,null,null===s||null===p?n.a.createElement(rt,{periodId:f,userId:h,setUserDetails:d,setPeriodDetails:o}):n.a.createElement(ct,{context:t,periodDetails:s,userDetails:p})):n.a.createElement(n.a.Fragment,null,null===s?n.a.createElement(ze,{periodId:f,setPeriodDetails:o}):n.a.createElement(at,{context:t,periodDetails:s}))},ot=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,o=Object(X.a)(e,["code","grant","to","failureNotification"]),u=Object(r.useContext)(H),l=Object(r.useState)(!1),p=Object(i.a)(l,2),d=p[0],f=p[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(r.useState)(!1),x=Object(i.a)(v,2),O=x[0],j=x[1];Object(r.useEffect)((function(){var e=u.Authorize(t,a);f(e),u.security&&(E(!e),!s||e||O||(je.notify(s),j(!0)))}),[u,t,a,s,O]);var w=null;return d&&(w=o.children),g&&(w=n.a.createElement(m.a,{to:c||"/"})),w},it=function(){var e=Object(r.useContext)(H);return n.a.createElement(f.a,{maxWidth:"md"},n.a.createElement(Re,null),n.a.createElement(ot,{code:"APPRAISAL DETAILS",grant:"read",to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},n.a.createElement(st,{context:e})))},ut=Object(M.a)((function(e){return{noDataText:{textAlign:"center",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),color:e.palette.text.secondary}}})),lt=function(e){var t=e.collection,a=e.children,r=ut();return 0===t.length?n.a.createElement(C.a,{className:r.noDataText,variant:"subtitle1"},"No data..."):a},mt=Object(M.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),pt=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1],h=Object(r.useContext)(H),b=mt(),g=Object(m.i)().path,E=Object(r.useState)(null),v=Object(i.a)(E,2),x=v[0],O=v[1],j=function(e){O(e.currentTarget)},w=function(){O(null)},y=function(e){return Object(se.a)(ce.a.mark((function t(){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we.finishPeriod(e.id);case 2:t.sent&&c((function(t){return t.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},e),{},{status:"Finished"}):t}))})),w();case 5:case"end":return t.stop()}}),t)})))};return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,we.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:g},n.a.createElement(f.a,{maxWidth:"md"},n.a.createElement(Re,null),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",{className:b.header},"Appraisals")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h2",{className:b.header},"Opened")),n.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},n.a.createElement(lt,{collection:a.filter((function(e){return"Active"===e.status}))},a.filter((function(e){return"Active"===e.status})).map((function(e){return n.a.createElement(ie.a,{key:e.id,className:b.card},n.a.createElement(ue.a,{action:n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{"data-itemid":e.id,"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:j},n.a.createElement(pe.a,null)),n.a.createElement(U.a,{id:"item-menu-".concat(e.id),anchorEl:x,keepMounted:!0,open:Boolean(x)&&x.dataset.itemid===e.id,onClose:w,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(R.a,{onClick:y(e)},n.a.createElement(F.a,null,n.a.createElement(de.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),n.a.createElement(le.a,null,n.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(me.a,{className:b.cardActions},n.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h2",{className:b.header},"Closed")),n.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},n.a.createElement(lt,{collection:a.filter((function(e){return"Active"!==e.status}))},a.filter((function(e){return"Active"!==e.status})).map((function(e){return n.a.createElement(ie.a,{key:e.id,className:b.card},n.a.createElement(ue.a,{action:n.a.createElement(P.a,{"aria-label":"actions"},n.a.createElement(pe.a,null)),title:e.name,subheader:e.status}),n.a.createElement(le.a,null,n.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(me.a,{className:b.cardActions},n.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(oe.a,{item:!0,xs:12,className:b.centerButton},n.a.createElement(z.a,{onClick:function(){return d(!0)},variant:"contained",color:"primary"},"New Period")),n.a.createElement(Ne,{open:p,context:h,handleClose:function(){return d(!1)},setItems:c})))),n.a.createElement(m.b,{exact:!0,path:"".concat(g,"/:id/user/:userId")},n.a.createElement(it,{ctx:h,setCtx:h.setContext})),n.a.createElement(m.b,{path:"".concat(g,"/:id")},n.a.createElement(it,{ctx:h,setCtx:h.setContext}))))},dt=a(533),ft=a(333),ht=a(353),bt=a(534),gt=a(371),Et=Object(M.a)((function(e){return{grid:{flexDirection:"row",alignItems:"center"},header:{textAlign:"center"},subheader:{textAlign:"center",color:e.palette.text.secondary},divider:{marginTop:e.spacing(1)},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),vt=function(e){var t=e.items,a=e.setItems,c=Et(),s=Object(r.useState)(""),u=Object(i.a)(s,2),l=u[0],m=u[1],p=function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.updateItem(Object(o.a)(Object(o.a)({},t),{},{type:r}));case 2:n=e.sent,a((function(e){var a=Object(o.a)(Object(o.a)({},t),{},{type:n.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){return function(t){t.target.checked?p(e,"Achieved"):p(e,"Planned")}},f=function(){var e=Object(se.a)(ce.a.mark((function e(t){var r,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return r={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,we.addOrphan(r);case 4:n=e.sent,a((function(e){return e.concat(n)})),m("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(Be.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},n.a.createElement(C.a,{className:c.header,variant:"h6"},"Planned items"),n.a.createElement(C.a,{className:c.subheader,variant:"subtitle2"},"Here you will see items planned over past periods"),n.a.createElement(dt.a,{className:c.divider}),n.a.createElement(lt,{collection:t},n.a.createElement(B.a,null,t.map((function(e){return n.a.createElement(k.a,{dense:!0},n.a.createElement(ft.a,{className:Object(_.a)(Object(h.a)({},c.itemAchievedText,"Achieved"===e.type)),control:n.a.createElement(ht.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),n.a.createElement(bt.a,null,n.a.createElement(P.a,{disabled:null!==e.relatedItemId,onClick:function(){return b(e)}},n.a.createElement(gt.a,null))))})))),n.a.createElement(oe.a,{container:!0,className:c.grid},n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement(We.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:l,onChange:function(e){m(e.target.value)}})),n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement(z.a,{variant:"contained",color:"secondary",disabled:""===l,onClick:function(){return f(l)}},"Add"))))},xt=function(e){var t=e.setItems;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,we.getOrphans();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},Ot=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(xt,{setItems:c}),n.a.createElement(vt,{items:a,setItems:c}))},jt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(q,{code:"APPRAISAL DETAILS",grant:"read"},n.a.createElement(Ot,null)))))},wt=Object(M.a)((function(){return{root:{}}})),yt=a(535),St={palette:{type:"dark"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},kt={palette:{type:"light"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},At=function(){var e=Object(r.useContext)(H),t=Object(r.useState)(e.userPreferences.theme.palette.type),a=Object(i.a)(t,2),c=a[0],s=a[1];return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(C.a,{variant:"h4"},"General Settings")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(C.a,{variant:"h6"},"Appearence:")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(oe.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(oe.a,{item:!0},"Light"),n.a.createElement(oe.a,{item:!0},n.a.createElement(yt.a,{checked:"dark"===c,onChange:function(t){var a;a=t.target.checked?"dark":"light",s(a),localStorage.setItem("theme",a),e.setContext((function(t){return Object(o.a)(Object(o.a)({},t),{},{userPreferences:Object(o.a)(Object(o.a)({},e.userPreferences),{},{theme:"light"===a?Object(p.a)(kt):Object(p.a)(St)})})}))}})),n.a.createElement(oe.a,{item:!0},"Dark"))))},Tt=a(103),It=a(162),Pt=a.n(It),Ct=a(168),Ut={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getTeamsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addTeam:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.validate(e),a.next=4,he.a.post(t.addTeamPath,{team:e});case 4:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},Nt={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getCurrentUserSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserSecurities:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserSecuritiesPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrganizationUsersSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrganizationUsersSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getRolesSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPermissionCodes:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPermissionCodesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addPermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPermissionPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updatePermission:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.updatePermissionPath(e),t);case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:return r.abrupt("return",null);case 9:throw r.prev=9,r.t0=r.catch(0),je.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deletePermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deletePermissionPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(r){return je.notify({type:"error",header:"Error",content:r.response.data&&r.response.data.error||r.message}),!1}}},Rt=function(e){var t=e.rowData,a=e.onChange,r=e.teams;return n.a.createElement(Xe.a,{multiple:!0,id:"tags-standard",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.teams,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})},zt=function(e){var t=e.rowData,a=e.onChange,r=e.global;return n.a.createElement(Xe.a,{multiple:!0,id:"tags-standard-organizations",options:r.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.organizations,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})},Dt=function(e){var t=e.rowData,a=e.onChange,r=e.roles;return n.a.createElement(Xe.a,{id:"tags-standard-role",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.role,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})},Bt=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),u=Object(i.a)(s,2),l=u[0],m=u[1],p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],h=d[1],b=Object(r.useContext)(H),g=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Rt,{rowData:t,onChange:a,teams:l})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):null},customFilterAndSearch:function(e,t){var a=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a)})).length>0},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(zt,{rowData:t,onChange:a,global:b})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Dt,{rowData:t,onChange:a,roles:f})}}],E={onRowUpdate:function(e,t){return new Promise((function(r,n){function s(){return(s=Object(se.a)(ce.a.mark((function s(){var i,u,l,m;return ce.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=Object(Tt.a)(a),u=t.tableData.id,l=t.organization||null,!t.organization&&e.organizations.length?l=e.organizations[0].id:0===e.organizations.length&&(l=null),s.next=7,qe.updateSettingsUser(e.id,Object(o.a)(Object(o.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:l}));case 7:m=s.sent,i[u]=m,c((function(){return i})),r(),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),n(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()})).catch((function(e){throw e}))}};return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,a,r,n,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([qe.getSettingsUsers(),Ut.getTeams(),Nt.getRoles()]);case 2:t=e.sent,a=Object(i.a)(t,3),r=a[0],n=a[1],s=a[2],c((function(){return r})),m((function(){return n})),h((function(){return s}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"Users Settings")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Pt.a,{icons:Ct.a.tableIcons,title:"Users",columns:g,data:a,options:{searchFieldAlignment:"left"},editable:E})))},Ft=function(){return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalPeriods Settings")))},Lt=function(){return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalItems Settings")))},Wt=a(550),_t=a(540),Mt=function(e){var t=e.setLoaded,a=e.setPermissionCodes,n=e.setRoles,c=e.setUsers,s=e.setRolePermissions,i=e.setUserPermissions;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r,u,l,m,p,d,f;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.getPermissionCodes();case 2:return r=e.sent,a(r.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,Nt.getRoles();case 6:return u=e.sent,n(u.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,qe.getSettingsUsers();case 10:return l=e.sent,c(l.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,Nt.getRolesSecurities();case 14:return m=e.sent,p={},m.forEach((function(e){p[e.reference.name]=Object(o.a)(Object(o.a)({},p[e.reference.name]),{},Object(h.a)({},e.code.code,e))})),s(p),e.next=20,Nt.getOrganizationUsersSecurities();case 20:d=e.sent,f={},d.forEach((function(e){f[e.reference.username]=Object(o.a)(Object(o.a)({},f[e.reference.username]),{},Object(h.a)({},e.code.code,e))})),i(f),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,n,c,s,i]),null},Gt=a(541),Ht=a(543),Vt=a(542),Qt=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Yt=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,u=e.selectedRole,l=e.setSelectedRole,m=Qt(),p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(r.useState)(""),E=Object(i.a)(g,2),v=E[0],x=E[1],O=function(e,t,a){s((function(r){return Object(o.a)(Object(o.a)({},r),{},Object(h.a)({},e.name,Object(o.a)(Object(o.a)({},r[e.name]),{},Object(h.a)({},t.code,a))))}))},j=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.addPermission({grants:[r],code:a.id,permissionType:"Role",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var r=Object(se.a)(ce.a.mark((function r(n){var s,i,u,l,m;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.name]&&c[e.name][t.code]){r.next=8;break}return r.next=4,j(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return i=[].concat(Object(Tt.a)(c[e.name][t.code].grants),[a]),r.next=12,w(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:i}));case 12:(u=r.sent)&&O(e,t,u),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,S(c[e.name][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,w(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:l}));case 26:(m=r.sent)&&O(e,t,m);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.name]&&c[e.name][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(oe.a,{container:!0,className:m.root},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Xe.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(De.a,{variant:"outlined",className:m.toolBar},n.a.createElement(We.a,{id:"role-permissions-search",label:"Search",size:"small",value:v,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(v.toLowerCase())})).map((function(e){return n.a.createElement(Gt.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(Tt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(Ht.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(y.a,null)},n.a.createElement("div",{className:m.permissionDescription},n.a.createElement(C.a,null,e.code),n.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(Vt.a,{className:m.permissionBox},e.grants.map((function(t){return n.a.createElement(Ae.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(ft.a,{value:t,label:n.a.createElement(C.a,{variant:"button"},t),control:n.a.createElement(ht.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},Jt=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),Kt=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,u=e.selectedUser,l=e.setSelectedUser,m=Jt(),p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(r.useState)(""),E=Object(i.a)(g,2),v=E[0],x=E[1],O=function(e,t,a){s((function(r){return Object(o.a)(Object(o.a)({},r),{},Object(h.a)({},e.username,Object(o.a)(Object(o.a)({},r[e.username]),{},Object(h.a)({},t.code,a))))}))},j=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.addPermission({grants:[r],code:a.id,permissionType:"User",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),w=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var r=Object(se.a)(ce.a.mark((function r(n){var s,i,u,l,m;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.username]&&c[e.username][t.code]){r.next=8;break}return r.next=4,j(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return i=[].concat(Object(Tt.a)(c[e.username][t.code].grants),[a]),r.next=12,w(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:i}));case 12:(u=r.sent)&&O(e,t,u),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,S(c[e.username][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,w(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:l}));case 26:(m=r.sent)&&O(e,t,m);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.username]&&c[e.username][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(oe.a,{container:!0,className:m.root},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Xe.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return n.a.createElement(We.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(De.a,{variant:"outlined",className:m.toolBar},n.a.createElement(We.a,{id:"user-permissions-search",label:"Search",size:"small",value:v,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(v.toLowerCase())})).map((function(e){return n.a.createElement(Gt.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(Tt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(Ht.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(y.a,null)},n.a.createElement("div",{className:m.permissionDescription},n.a.createElement(C.a,null,e.code),n.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(Vt.a,{className:m.permissionBox},n.a.createElement(Ae.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},n.a.createElement(ft.a,{value:"overrule",label:n.a.createElement(C.a,{variant:"button"},"overrule"),control:n.a.createElement(ht.a,{color:"secondary",checked:A(u,e,"overrule")}),onChange:k(u,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return n.a.createElement(Ae.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(ft.a,{value:t,label:n.a.createElement(C.a,{variant:"button"},t),control:n.a.createElement(ht.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},Xt=function(e){var t=e.value,a=e.setValue;return n.a.createElement(Be.a,{mt:2},n.a.createElement(T.a,{position:"static",color:"transparent",elevation:0},n.a.createElement(Wt.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},n.a.createElement(_t.a,{label:"Roles"}),n.a.createElement(_t.a,{label:"Users"}))))};function qt(e){var t=e.children,a=e.value,r=e.index;return n.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a===r&&n.a.createElement(Be.a,null,t))}var Zt=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(r.useState)([]),p=Object(i.a)(m,2),d=p[0],f=p[1],h=Object(r.useState)({}),b=Object(i.a)(h,2),g=b[0],E=b[1],v=Object(r.useState)({}),x=Object(i.a)(v,2),O=x[0],j=x[1],w=Object(r.useState)(null),y=Object(i.a)(w,2),S=y[0],k=y[1],A=Object(r.useState)(null),T=Object(i.a)(A,2),I=T[0],P=T[1],C=Object(r.useState)(0),U=Object(i.a)(C,2),N=U[0],R=U[1],z=Object(r.useState)(!1),D=Object(i.a)(z,2),B=D[0],F=D[1];return Object(r.useEffect)((function(){k((function(e){return null===e&&u.length>0?u[0]:e}))}),[u]),Object(r.useEffect)((function(){P((function(e){return null===e&&d.length>0?d[0]:e}))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement(Mt,{setLoaded:F,setPermissionCodes:c,setRoles:l,setUsers:f,setRolePermissions:E,setUserPermissions:j}),B?n.a.createElement(n.a.Fragment,null,n.a.createElement(Xt,{value:N,setValue:R}),n.a.createElement(qt,{value:N,index:0},n.a.createElement(Yt,{codes:a,roles:u,rolePermissions:g,setRolePermissions:E,selectedRole:S,setSelectedRole:k})),n.a.createElement(qt,{value:N,index:1},n.a.createElement(Kt,{codes:a,users:d,userPermissions:O,setUserPermissions:j,selectedUser:I,setSelectedUser:P}))):null)},$t=function(){return n.a.createElement(Zt,null)},ea=function(){var e=Object(m.i)().path,t=wt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Re,null),n.a.createElement(f.a,{maxWidth:"lg",className:t.root},n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:e},n.a.createElement(ot,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(At,null))),n.a.createElement(m.b,{path:"".concat(e,"/users")},n.a.createElement(ot,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Bt,null))),n.a.createElement(m.b,{path:"".concat(e,"/appraisal-periods")},n.a.createElement(ot,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Ft,null))),n.a.createElement(m.b,{path:"".concat(e,"/appraisal-items")},n.a.createElement(ot,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Lt,null))),n.a.createElement(m.b,{path:"".concat(e,"/permissions")},n.a.createElement(ot,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement($t,null))))))},ta=function(){return n.a.createElement(n.a.Fragment,null,"Reports")},aa=a(460).default,ra=function(){var e=Object(m.h)().id;return n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Details"),"Details"," ",e)},na=a(548),ca=a(545),sa=a(546),oa=a(547),ia={postTemplatePath:"/api/reporting/templates",GenerateTemplatePath:"/api/reporting/template/generate",createTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.postTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return je.notify({type:"success",header:"Created",content:"Tempalte successfully created"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},generateTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.GenerateTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return je.notify({type:"success",header:"Generated",content:"Tempalte successfully generated"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},downloadTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.GenerateTemplatePath,{params:{filepath:e}});case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),je.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},ua=a(549),la=Object(M.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),ma=function(e){var t=e.label,a=e.file,c=e.setFile,s=la(),o=Object(r.useState)(a?a.name:"..."),u=Object(i.a)(o,2),l=u[0],m=u[1];return n.a.createElement(Be.a,{className:s.root},n.a.createElement("input",{id:"upload-file-input",type:"file",className:s.input,onChange:function(e){var t=e.target.files;t.length>0?(m(t[0].name),c(t[0])):(m("..."),c(null))}}),n.a.createElement("label",{htmlFor:"upload-file-input"},n.a.createElement(z.a,{variant:"text",startIcon:n.a.createElement(ua.a,null),component:"span"},t||"Uplaod")),n.a.createElement(C.a,{variant:"caption",className:s.text},l))},pa=Object(M.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),da=function(e){var t=e.advanceStep,a=e.prevStep,r=e.name,c=e.setName,s=e.file,o=e.setFile,i=pa();return n.a.createElement(Be.a,{className:i.root},n.a.createElement(C.a,{variant:"subtitle1"},"Specify your template name, then attach your template file."," ","(Ex: All user info, or Items per user)."),n.a.createElement(We.a,{value:r,onChange:function(e){c(e.target.value)},variant:"outlined",color:"secondary",label:"Template Name",id:"new-template-name",name:"new-template-name",size:"small"}),n.a.createElement(ma,{label:"Template File",file:s,setFile:o}),n.a.createElement(Be.a,{p:2,className:i.buttons},n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:a},"Back"),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:t},"Next")))},fa=Object(M.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(1)}},multilineInput:{width:"100%","& textarea":{minHeight:400}}}})),ha=a(491),ba=function(e){var t=e.value,a=e.setValue,r=e.Component,c=e.className,s=r||ha.a;return n.a.createElement(s,{multiline:!0,value:t,className:c,onKeyPress:function(e){"Enter"===e.key&&console.log(e.key)},onChange:function(e){a(e.target.value)}})};ba.defaultProps={className:""};var ga=ba,Ea=function(e){var t=e.value,a=e.setValue,r=e.advanceStep,c=fa();return n.a.createElement(Be.a,{className:c.root},n.a.createElement(C.a,{variant:"subtitle1"},"Create a valid MongoDB aggregation. Test and verify if it returns valid info below. For more info, refer to MongoDB"," ",n.a.createElement("a",{href:"https://docs.mongodb.com/manual/aggregation/",target:"_blank",rel:"noopener noreferrer"},"documentation"),"."),n.a.createElement(ga,{value:t,setValue:a,className:c.multilineInput}),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:r},"Next"))},va=Object(M.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),xa=function(e){var t=e.prevStep,a=e.handleSubmit,r=e.handleGenerate,c=va();return n.a.createElement(Be.a,{className:c.root},n.a.createElement(C.a,{variant:"subtitle1"},"You can generate your report to check if everything is working."," ","After, you can click 'Submit' to save it."),n.a.createElement(Be.a,{className:c.buttons},n.a.createElement(z.a,{onClick:t,variant:"contained",color:"primary"},"Back"),n.a.createElement(z.a,{onClick:a,variant:"contained",color:"primary"},"Submit"),n.a.createElement(z.a,{onClick:r,variant:"contained",color:"primary"},"Generate")))},Oa=Object(M.a)((function(e){return{root:{padding:e.spacing(3)},header:{textAlign:"center",marginBottom:e.spacing(3)},formContainer:{"& > * + *":{marginTop:e.spacing(2)}}}})),ja=function(){var e=Oa(),t=Object(r.useState)(0),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),l=u[0],m=u[1],p=Object(r.useState)(""),d=Object(i.a)(p,2),h=d[0],b=d[1],g=Object(r.useState)(null),E=Object(i.a)(g,2),v=E[0],x=E[1],O=["Create your database aggregation","Add you template file","Try it out"],j=function(){s((function(e){return(e+1)%O.length}))},w=function(){s((function(e){return e>0?e-1:0}))},y=function(){var e=Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",l),t.append("name",h),t.append("template",v),e.next=6,ia.createTemplate(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",l),t.append("name",h),t.append("template",v),e.next=6,ia.generateTemplate(t);case 6:a=e.sent,window.open("/api/reporting/template/generate?filepath=".concat(a.filepath));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=[n.a.createElement(Ea,{advanceStep:j,value:l,setValue:m,setAggregation:m}),n.a.createElement(da,{name:h,setName:b,file:v,setFile:x,advanceStep:j,prevStep:w}),n.a.createElement(xa,{prevStep:w,handleSubmit:y,handleGenerate:S})];return n.a.createElement("div",{className:e.root},n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement(C.a,{variant:"h4",component:"h1",className:e.header},"New Template"),n.a.createElement(na.a,{elevation:2,activeStep:c,orientation:"vertical"},O.map((function(e,t){return n.a.createElement(ca.a,{key:e},n.a.createElement(sa.a,null,e),n.a.createElement(oa.a,null,k[t]))})))))},wa=function(){var e=Object(m.i)().path;return n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:e},n.a.createElement(aa,null)),n.a.createElement(m.b,{exact:!0,path:"".concat(e,"/new")},n.a.createElement(ja,null)),n.a.createElement(m.b,{path:"".concat(e,"/:id")},n.a.createElement(ra,null)))},ya=function(e){var t=e.ctx,a=e.setCtx,r=Object(m.i)().path;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Re,{ctx:t,setCtx:a}),n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:r},n.a.createElement(ot,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(ta,null))),n.a.createElement(m.b,{path:"".concat(r,"/templates")},n.a.createElement(ot,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(wa,null))))))},Sa=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"Login"),n.a.createElement("a",{href:"/api/login"},"Login"))};function ka(){return(ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Aa(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ta=n.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),Ia=n.a.createElement("g",null),Pa=n.a.createElement("g",null),Ca=n.a.createElement("g",null),Ua=n.a.createElement("g",null),Na=n.a.createElement("g",null),Ra=n.a.createElement("g",null),za=n.a.createElement("g",null),Da=n.a.createElement("g",null),Ba=n.a.createElement("g",null),Fa=n.a.createElement("g",null),La=n.a.createElement("g",null),Wa=n.a.createElement("g",null),_a=n.a.createElement("g",null),Ma=n.a.createElement("g",null),Ga=n.a.createElement("g",null),Ha=function(e){var t=e.svgRef,a=e.title,r=Aa(e,["svgRef","title"]);return n.a.createElement("svg",ka({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,Ta,Ia,Pa,Ca,Ua,Na,Ra,za,Da,Ba,Fa,La,Wa,_a,Ma,Ga)},Va=n.a.forwardRef((function(e,t){return n.a.createElement(Ha,ka({svgRef:t},e))}));a.p;function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ya(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ja=n.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),Ka=n.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),Xa=n.a.createElement("g",{fill:"#ff62b4"},n.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),n.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),qa=function(e){var t=e.svgRef,a=e.title,r=Ya(e,["svgRef","title"]);return n.a.createElement("svg",Qa({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},r),a?n.a.createElement("title",null,a):null,Ja,Ka,Xa)},Za=n.a.forwardRef((function(e,t){return n.a.createElement(qa,Qa({svgRef:t},e))}));a.p;function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function er(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var tr=n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),ar=n.a.createElement("g",null),rr=n.a.createElement("g",null),nr=n.a.createElement("g",null),cr=n.a.createElement("g",null),sr=n.a.createElement("g",null),or=n.a.createElement("g",null),ir=n.a.createElement("g",null),ur=n.a.createElement("g",null),lr=n.a.createElement("g",null),mr=n.a.createElement("g",null),pr=n.a.createElement("g",null),dr=n.a.createElement("g",null),fr=n.a.createElement("g",null),hr=n.a.createElement("g",null),br=n.a.createElement("g",null),gr=function(e){var t=e.svgRef,a=e.title,r=er(e,["svgRef","title"]);return n.a.createElement("svg",$a({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,tr,ar,rr,nr,cr,sr,or,ir,ur,lr,mr,pr,dr,fr,hr,br)},Er=n.a.forwardRef((function(e,t){return n.a.createElement(gr,$a({svgRef:t},e))}));a.p;function vr(){return(vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function xr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Or=n.a.createElement("g",null,n.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),n.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),jr=function(e){var t=e.svgRef,a=e.title,r=xr(e,["svgRef","title"]);return n.a.createElement("svg",vr({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},r),a?n.a.createElement("title",null,a):null,Or)},wr=n.a.forwardRef((function(e,t){return n.a.createElement(jr,vr({svgRef:t},e))})),yr=(a.p,a(361)),Sr=a.n(yr),kr=a(362),Ar=a.n(kr),Tr=a(363),Ir=a.n(Tr),Pr={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},Cr=Object(M.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:Pr[e.entry.type].bg,borderRadius:3,color:Pr[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(Pr[e.entry.type].bgDark),borderBottom:"1px solid ".concat(Pr[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:Pr[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),Ur=function(e){var t=e.entry,a=e.onBeforeClose,c=e.onAfterClose,s=t.type||"error",u=Object(o.a)(Object(o.a)({},t),{},{type:s}),l=Cr({entry:u}),m=Object(r.useState)(!0),p=Object(i.a)(m,2),d=p[0],f=p[1],b=Object(r.useState)(!1),g=Object(i.a)(b,2),E=g[0],v=g[1],x=Object(r.useState)(0),O=Object(i.a)(x,2),j=O[0],w=O[1],y=t.duration||5,S=Object(r.useCallback)(Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=4;break}return e.next=4,a();case 4:f(!1),c&&c(t);case 6:case"end":return e.stop()}}),e)}))),[t,c,a]);Object(r.useEffect)((function(){w(setTimeout(S,1e3*y))}),[]);var k=function(){w(E?setTimeout(S,1e3*y):function(e){return clearTimeout(e),0}),v(!E)},A=function(){switch(s){case"error":return n.a.createElement(Va,null);case"info":return n.a.createElement(Er,null);case"warn":return n.a.createElement(Za,null);case"success":return n.a.createElement(wr,null);default:return null}};return n.a.createElement(n.a.Fragment,null,d?n.a.createElement("div",{className:l.popUpContainer},n.a.createElement("div",{className:l.popUpWatermark},n.a.createElement(A,null)),n.a.createElement("div",{className:l.popUpToolbar},n.a.createElement("div",{className:l.popUpControls},E?n.a.createElement("span",{role:"button",onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Ar.a,alt:"Continue the pop-up timer"})):n.a.createElement("span",{onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Ir.a,alt:"Pause the pop-up timer"})),n.a.createElement("span",{onClick:function(){return clearTimeout(j),void S()},"aria-hidden":"true"},n.a.createElement("img",{src:Sr.a,alt:"Close the pop-up"}))),n.a.createElement("div",{className:Object(_.a)(Object(h.a)({},l.popUpTimer,!0),E?l.popUpTimerOff:l.popUpTimerOn),style:{animationDuration:"".concat(y,"s")}})),n.a.createElement("div",{className:l.popUpDelimiter}),n.a.createElement("div",{className:l.popUpHeader},n.a.createElement("span",null,t.header?t.header.toUpperCase():"Error")),n.a.createElement("div",{className:l.popUpDelimiter}),n.a.createElement("div",{className:l.popUpContent},t.content)):null)},Nr=Object(M.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),Rr=function(e){var t=e.entry,a=e.onAfterClose,c=e.notificationRender,s=Nr({entry:t}),o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return n.a.createElement("div",{className:Object(_.a)(s.containerTransition,Object(h.a)({},s.containerTransitionOff,l))},c(t,{entry:t,onAfterClose:a,closeTimeOffset:5,onBeforeClose:function(){return new Promise((function(e){m(!0),setTimeout((function(){e()}),700)}))}}))},zr=function(e){e.notificationRender,e.onAfterClose;var t=Object(X.a)(e,["notificationRender","onAfterClose"]),a=Nr(t),c=Object(r.useState)([]),s=Object(i.a)(c,2),o=s[0],u=s[1];return je.notifications=o,je.setNotifications=u,n.a.createElement("div",{className:a.root},o.map((function(e){return n.a.createElement(Rr,{key:e.id,notificationRender:function(e,t){return n.a.createElement(Ur,{type:e.type,entry:t.entry,onBeforeClose:t.onBeforeClose,onAfterClose:t.onAfterClose})},onAfterClose:function(e){return u((function(t){return t.filter((function(t){return t!==e}))}))},entry:e})})))},Dr=function(){var e=Object(r.useContext)(H);return Object(r.useEffect)((function(){function t(){return(t=Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.security||null===e.user){t.next=5;break}return t.next=3,Nt.getSecurities();case 3:(a=t.sent)&&e.setContext((function(e){return Object(o.a)(Object(o.a)({},e),{},{security:a})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),null},Br={currentUserPath:"/api/me",getCurrentUser:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.currentUserPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:return t.prev=9,t.t0=t.catch(0),je.notify({type:"error",header:"Error",content:"Not logged in. ".concat(t.t0.response.data&&t.t0.response.data.error||t.t0.message)}),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},Fr=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(H);return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.setContext){e.next=2;break}return e.abrupt("return",n(!1));case 2:if(c.user||a){e.next=9;break}return n(!0),e.next=6,Br.getCurrentUser();case 6:return(t=e.sent)&&(r=t.displayName||t.username||"Unknown",t.avatar=r.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),e.abrupt("return",c.setContext(Object(o.a)(Object(o.a)({},c),{},{user:t,userLoaded:!0})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,c]),null},Lr=Object(M.a)((function(e){var t;return{root:(t={},Object(h.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(h.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}}));var Wr=function(){var e=Lr(),t=Object(r.useState)({user:null,Authorize:Nt.Authorize,setContext:null,userPreferences:{theme:"dark"===localStorage.getItem("theme")?Object(p.a)(St):Object(p.a)(kt)}}),a=Object(i.a)(t,2),c=a[0],s=a[1],h=c.userPreferences.theme;return Object(r.useEffect)((function(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{setContext:s})}))}),[]),n.a.createElement(H.Provider,{value:c},n.a.createElement(d.a,{theme:h},n.a.createElement(zr,null),n.a.createElement(Fr,{ctx:c,setCtx:s}),n.a.createElement(u.a,null),n.a.createElement(Dr,null),n.a.createElement(l.a,null,n.a.createElement(re,null),n.a.createElement(f.a,{maxWidth:"lg",className:e.root},n.a.createElement(m.d,null,n.a.createElement(m.b,{path:"/appraisals"},n.a.createElement(pt,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/audits"},n.a.createElement("h1",null,"IN PROGRESS")),n.a.createElement(m.b,{path:"/reporting"},n.a.createElement(ya,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/settings"},n.a.createElement(ea,null)),n.a.createElement(m.b,{path:"/login"},n.a.createElement(Sa,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/"},n.a.createElement(jt,{ctx:c,setCtx:s})))))))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Wr,null)),document.getElementById("root"))},460:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(38),s=a(31),o=a(526),i=a(98),u=a(320),l=a(162),m=a.n(l),p=a(168),d=a(316),f=Object(d.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2),marginBottom:e.spacing(1)}}}));t.default=function(){var e=f(),t=Object(c.g)(),a=Object(c.i)().path;return n.a.createElement(o.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Templates"),n.a.createElement(i.a,{className:e.container},n.a.createElement(s.b,{to:"".concat(a,"/new"),color:"secondary",variant:"contained",component:u.a},"Create Template")),n.a.createElement(m.a,{icons:p.a.tableIcons,title:"List",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser"}],data:[{id:1234,name:"Test",filename:"test.xlsx",createdUser:"me@you.com"},{id:41231,name:"Test1",filename:"test.xlsx",createdUser:"me@you.com"},{id:123124,name:"Test2",filename:"test.xlsx",createdUser:"me@you.com"},{id:12345,name:"Test3",filename:"test.xlsx",createdUser:"me@you.com"}],actions:[{icon:p.a.tableIcons.Download,tooltip:"Download Template",onClick:function(){return alert("Download file")}}],onRowClick:function(e,r){return t.push("".concat(a,"/").concat(r.id))}}))}}},[[377,1,2]]]);
//# sourceMappingURL=main.a786894b.chunk.js.map