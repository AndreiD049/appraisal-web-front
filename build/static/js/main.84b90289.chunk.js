(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{167:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(477),s=a(478),o=a(371),i=a(479),u=a(370),l=a(480),m=a(481),p=a(482),d=a(483),f=a(484),h=a(472),b=a(485),g=a(486),v=a(487),E=a(488),x=a(489),O={Add:Object(r.forwardRef)((function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return n.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return n.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return n.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return n.a.createElement(m.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return n.a.createElement(p.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return n.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return n.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return n.a.createElement(v.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return n.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Download:Object(r.forwardRef)((function(e,t){return n.a.createElement(x.a,Object.assign({},e,{ref:t}))}))};t.a={tableIcons:O}},361:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII="},362:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},363:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC"},377:function(e,t,a){e.exports=a(459)},459:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(21),s=a.n(c),o=a(14),i=a(10),u=a(544),l=a(31),m=a(38),p=a(121),d=a(537),f=a(526),h=a(29),b=a(507),g=a(508),v=a(511),E=a(512),x=a(513),O=a(514),y=a(515),j=a(516),w=a(517),S=a(518),k=a(463),A=a(552),T=a(506),I=a(318),P=a(204),C=a(62),N=a(194),U=a(510),R=a(319),z=a(320),D=a(75),F=a(461),B=a(498),L=a(317),W=a(368),_=a(2),M=a(316),G=Object(M.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),H=n.a.createContext({}),V=a(499),Q=a(500),Y=a(501),J=a(502),K=a(503),X=a(217),q=function(e){var t=e.code,a=e.grant,n=e.onReject,c=Object(X.a)(e,["code","grant","onReject"]),s=Object(r.useContext)(H),o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return Object(r.useEffect)((function(){m(s.Authorize(t,a))}),[s,t,a]),l?c.children:n?n():null},Z=function(){return n.a.createElement(F.a,{component:"div",disablePadding:!0},n.a.createElement(q,{code:"SETTINGS",grant:"general"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings"},n.a.createElement(B.a,null,n.a.createElement(V.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"General"}))),n.a.createElement(q,{code:"SETTINGS",grant:"users"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/users"},n.a.createElement(B.a,null,n.a.createElement(Q.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Users"}))),n.a.createElement(q,{code:"SETTINGS",grant:"appraisal-periods"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-periods"},n.a.createElement(B.a,null,n.a.createElement(Y.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Appraisal-periods"}))),n.a.createElement(q,{code:"SETTINGS",grant:"appraisal-items"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/appraisal-items"},n.a.createElement(B.a,null,n.a.createElement(J.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Appraisal-items"}))),n.a.createElement(q,{code:"SETTINGS",grant:"permissions"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/settings/permissions"},n.a.createElement(B.a,null,n.a.createElement(K.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Permissions"}))))},$=a(504),ee=a(505),te=function(){return n.a.createElement(F.a,{component:"div",disablePadding:!0},n.a.createElement(q,{code:"REPORTS",grant:"read"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting"},n.a.createElement(B.a,null,n.a.createElement($.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Reports"}))),n.a.createElement(q,{code:"REPORT-TEMPLATES",grant:"read"},n.a.createElement(k.a,{button:!0,component:l.b,to:"/reporting/templates"},n.a.createElement(B.a,null,n.a.createElement(ee.a,{fontSize:"small"})),n.a.createElement(L.a,{secondary:"Templates"}))))},ae=function(e){var t=e.to,a=e.children;return n.a.createElement(k.a,{button:!0,component:l.b,to:t},a)};function re(){var e,t,a=Object(r.useContext)(H),c=Object(r.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1],m=Object(r.useState)(null),p=Object(i.a)(m,2),d=p[0],f=p[1],M=Object(r.useState)({settings:!1}),V=Object(i.a)(M,2),Q=V[0],Y=V[1],J=G(),K=function(e){return function(){Y((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(h.a)({},e,!t[e]))}))}},X=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&l(!u)},$=a.user?a.user.displayName||a.user.username:"Unknown",ee=n.a.createElement(A.a,{title:$,alt:$,onClick:function(e){f(e.currentTarget)},className:J.avatar},a.user&&a.user.avatar);return n.a.createElement("div",null,n.a.createElement(T.a,{id:"app-bar-fixed",position:"fixed",className:Object(_.a)(J.root,J.appBar,Object(h.a)({},J.appBarShift,u))},n.a.createElement(I.a,null,n.a.createElement(P.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:X,className:Object(_.a)(J.menuButton,Object(h.a)({},J.hide,u))},n.a.createElement(b.a,null)),n.a.createElement(g.a,{style:{marginRight:15}}),n.a.createElement(C.a,{variant:"h6",className:Object(_.a)(J.title)},"Admin Tools"),a.user?n.a.createElement(I.a,null,ee,n.a.createElement(N.a,{id:"user-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(U.a,{href:"/api/logout",color:"inherit"},n.a.createElement(R.a,null,"Logout")))):n.a.createElement("div",null,a.userLoaded?n.a.createElement(U.a,{href:"/api/login",color:"inherit"},n.a.createElement(z.a,{edge:"end",color:"inherit"},"Login")):null))),n.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),n.a.createElement(D.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:u,onClose:function(){return l(!1)},className:Object(_.a)(J.drawer,(e={},Object(h.a)(e,J.drawerOpen,u),Object(h.a)(e,J.drawerClose,!u),e)),classes:{paper:Object(_.a)((t={},Object(h.a)(t,J.drawerOpen,u),Object(h.a)(t,J.drawerClose,!u),t))}},n.a.createElement(P.a,{onClick:X},n.a.createElement(v.a,{fontSize:"large",style:{alignSelf:"center"}})),n.a.createElement(F.a,null,n.a.createElement(ae,{to:"/"},n.a.createElement(B.a,null,n.a.createElement(E.a,null)),n.a.createElement(L.a,{primary:"Home"})),n.a.createElement(q,{code:"APPRAISAL PERIODS",grant:"read"},n.a.createElement(ae,{to:"/appraisals"},n.a.createElement(B.a,null,n.a.createElement(x.a,null)),n.a.createElement(L.a,{primary:"Appraisals"}))),n.a.createElement(q,{code:"AUDITS",grant:"read"},n.a.createElement(ae,{to:"/audits"},n.a.createElement(B.a,null,n.a.createElement(O.a,null)),n.a.createElement(L.a,{primary:"Audits"}))),n.a.createElement(q,{code:"REPORTS",grant:"read"},n.a.createElement(k.a,{button:!0,onClick:K("reports")},n.a.createElement(B.a,null,n.a.createElement(y.a,null)),n.a.createElement(L.a,{primary:"Reporting"}),Q.reports?n.a.createElement(j.a,null):n.a.createElement(w.a,null)),n.a.createElement(W.a,{in:Q.reports},n.a.createElement(te,null))),n.a.createElement(q,{code:"SETTINGS",grant:"read"},n.a.createElement(k.a,{button:!0,onClick:K("settings")},n.a.createElement(B.a,null,n.a.createElement(S.a,null)),n.a.createElement(L.a,{primary:"Settings"}),Q.settings?n.a.createElement(j.a,null):n.a.createElement(w.a,null)),n.a.createElement(W.a,{in:Q.settings},n.a.createElement(Z,null))))))}var ne=a(6),ce=a.n(ne),se=a(8),oe=a(527),ie=a(528),ue=a(529),le=a(531),me=a(532),pe=a(523),de=a(530),fe=a(20),he=a.n(fe);function be(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}var ge=0,ve={notifications:[],setNotifications:function(e){this.notifications=e(this.notifications)},addNotification:function(e){this.setNotifications((function(t){var a=e,r=t.slice();return a.id=(ge>1e5&&(ge=0),ge+=1),r.push(a),r}))},notify:function(e){this.addNotification(e)}},Ee={and:function(e){return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).every((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a[0]);case 8:return t.abrupt("return",a.find((function(e){return!1===e.result})));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},andSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},or:function(e){return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).some((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a.find((function(e){return e.result})));case 8:return t.abrupt("return",a[a.length-1]);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},orSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&!(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},not:function(e){return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:return(a=t.sent).result=!a.result,a.message="Not - ".concat(a.message),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))},notSync:function(e){return function(){try{var t=e();return t.result=!t.result,t}catch(a){return{result:!1,message:"error"}}}},perform:function(){var e=Object(se.a)(ce.a.mark((function e(t){var a,r,n=arguments;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(n.length>1&&void 0!==n[1])||n[1],e.next=3,t();case 3:if((r=e.sent).result){e.next=12;break}if(!a){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 10:e.next=13;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),performSync:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e();if(a.result)return a;if(t)throw new Error(a.message);return a}},xe={userExists:function(e){return function(){return{result:Boolean(e),message:"User doesn't exist."}}},userAuthorized:function(e,t,a){return function(){return{result:e.Authorize(t,a),message:"Access denied. Code: ".concat(t,", Grant: ").concat(a)}}}},Oe={isTruthy:function(e){return function(){return{result:Boolean(e),message:"".concat(e," is not true")}}}},ye={securities:{APPRAISAL_DETAILS:{code:"APPRAISAL DETAILS",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished"}},APPRAISAL_DETAILS_OTHER:{code:"APPRAISAL DETAILS - OTHER USERS",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished"}},REPORTS:{code:"REPORTS",grants:{read:"read"}}}},je=Ee.andSync,we=Ee.orSync,Se=Ee.notSync,ke=Ee.performSync,Ae=ye.securities.APPRAISAL_DETAILS,Te=ye.securities.APPRAISAL_DETAILS_OTHER,Ie=function(e,t){return function(){return{result:Boolean(e.status===t),message:"Period '".concat(e.name,"' status is not valid. Expected (").concat(t,")")}}},Pe={periodExists:function(e){return function(){return{result:Boolean(e),message:"Period doesn't exist."}}},itemExists:function(e){return function(){return{result:Boolean(e),message:"Item doesn't exist."}}},periodStatus:Ie,itemStatus:function(e,t){return function(){return{result:Boolean(e.status===t),message:"Item '".concat(e.content,"' status is not valid. Expected '").concat(t,"'.")}}},itemType:function(e,t){return function(){return{result:Boolean(e.type===t),message:"Item '".concat(e.content,"' type is not valid. Expected '").concat(t,"'.")}}},itemSameUser:function(e,t){return function(){return{result:Boolean(String(e.user)===String(t.id)),message:"Item '".concat(e.content,"'s user is not the same as '").concat(t.username,"'")}}},itemRelated:function(e){return function(){return{result:Boolean(e.relatedItemId),message:"Item is related."}}},itemContentNotNull:function(e){return function(){return{result:Boolean(e.content.trim().length>0),message:"Item content is empty"}}},canInsert:function(e,t,a){return function(){return ke(we([je([Ie(t,"Active"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.create)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.create)])])]),je([Ie(t,"Finished"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.createFinished)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.createFinished)])])])]),!1)}},canUpdate:function(e,t,a){return function(){return ke(we([je([Ie(t,"Active"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.update)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.update)])])]),je([Ie(t,"Finished"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.updateFinished)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.updateFinished)])])])]),!1)}},canDelete:function(e,t,a){return function(){return ke(we([je([Ie(t,"Active"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.delete)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.delete)])])]),je([Ie(t,"Finished"),we([je([Se(Oe.isTruthy(a)),xe.userAuthorized(e,Ae.code,Ae.grants.deleteFinished)]),je([Oe.isTruthy(a),xe.userAuthorized(e,Te.code,Te.grants.deleteFinished)])])])]),!1)}}},Ce=Ee.and,Ne=Ee.andSync,Ue=Ee.orSync,Re=Ee.notSync,ze=Ee.perform,De=Ee.performSync,Fe=Object(o.a)(Object(o.a)(Object(o.a)({},Pe),xe),Oe),Be={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPeriodsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getItems:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getItemsPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrphans:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrphansPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserItems:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.get(a.getUserItemsPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.get(a.getItemPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addItem:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n,c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ce([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,ze(n);case 4:return r.next=6,he.a.post(a.addItemToPeriodPath(e),Object(o.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},addOrphan:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addItemPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c,s;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ce([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,he.a.post(r.addUserItemPath(e,t),Object(o.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),ve.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemInPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n,c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ce([Fe.itemContentNotNull(t),Fe.isTruthy(t.user),Fe.isTruthy(t.periodId)]),r.next=4,ze(n);case 4:return r.next=6,he.a.put(a.updateItemInPeriodPath(e,t.id),Object(o.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r,n;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=Ce([Fe.itemContentNotNull(e),Fe.isTruthy(e.user)]),a.next=4,ze(r);case 4:return a.next=6,he.a.put(t.updateItemPath(e.id),e);case 6:if(200!==(n=a.sent).status){a.next=9;break}return a.abrupt("return",n.data);case 9:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 12:throw a.prev=12,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},updateUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c,s;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ce([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,he.a.put(r.updateUserItemPath(e,t,a.id),Object(o.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),ve.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemType:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n,c;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ce([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,ze(n);case 4:return r.next=6,he.a.post(a.updateItemTypePath(e,t.id),{type:t.type});case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateUserItemType:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c,s;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ce([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,ze(c);case 4:return n.next=6,he.a.post(r.updateUserItemTypePath(e,t,a.id),{type:a.type});case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),ve.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},deleteItemFromPeriod:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.delete(a.deleteItemFromPeriodPath(e,t));case 3:if(204!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteItem:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deleteItemPath(e));case 3:if(204!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteUserItem:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,he.a.delete(r.deleteUserItemPath(e,t,a));case 3:if(204!==(c=n.sent).status){n.next=6;break}return n.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),ve.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPeriodsPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},finishPeriod:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.finishPeriodPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",!0);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},blankItem:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new be({type:a,status:r,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,r,n){var c=a.slice().filter((function(e){return null!==e.user}));if(!t)return c;if("Feedback"===n&&a.length>0)return c;0===c.map((function(e,t){return t})).filter((function(e){return""===c[e].content})).length&&c.push(this.blankItem(e,t,n));for(var s=r-c.length;s>0;)c.push(this.blankItem(e,t,n)),s-=1;return c},addItemToSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.addItem(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{value:null,error:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},addUserItemToSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.addUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{value:null,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteItemFromSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.deleteItemFromPeriod(e,t.id);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteUserItemFromSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.deleteUserItem(e,t,a.id);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItemInSet:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.updateItemInPeriod(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},updateUserItemInSet:function(e,t,a){var r=this;return Object(se.a)(ce.a.mark((function n(){var c;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.updateUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},Le=a(519),We=a(520),_e=a(521),Me=a(329),Ge=a(249),He=a(250),Ve=a(206),Qe=a(256),Ye=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,o=Object(r.useContext)(H),u=Object(r.useState)(""),l=Object(i.a)(u,2),m=l[0],p=l[1],d=Object(r.useState)(a[0]),f=Object(i.a)(d,2),h=f[0],b=f[1],g=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),e.next=4,c(m,h,o.user.organization.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Le.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},n.a.createElement(We.a,{id:"new-period-dialog"},"Create new period"),n.a.createElement(_e.a,null,n.a.createElement("form",{onSubmit:g},n.a.createElement(Me.a,null,n.a.createElement(Ge.a,{color:"primary",required:!0},n.a.createElement(He.a,{htmlFor:"new-period-name"},"Period name"),n.a.createElement(Ve.a,{id:"new-period-name",name:"name",value:m,onChange:function(e){p(e.target.value)}})),n.a.createElement(Ge.a,{color:"primary",required:!0},n.a.createElement(He.a,{htmlFor:"new-period-status"},"Status"),n.a.createElement(Qe.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return n.a.createElement(R.a,{key:e,value:e},e)})):null)),n.a.createElement(Ge.a,{style:{margin:20}},n.a.createElement(z.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Je=function(e){var t=e.context,a=e.open,r=e.handleClose,c=e.setItems,s=function(){var e=Object(se.a)(ce.a.mark((function e(a,n,s){var o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.addPeriod({name:a,status:n,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),r(),ve.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:r}))},Ke=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(H);return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),n.a.createElement(n.a.Fragment,null,a?n.a.createElement(m.a,{to:"/login"}):null)},Xe=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.getItems(t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},qe=a(355),Ze=a(98),$e=a(244),et=a(330),tt=a(331),at=a(332),rt=a(522),nt=a(524),ct=a(472),st=a(370),ot=Object(M.a)((function(e){return{root:{width:"80%"},feedBackInput:{width:"90%","& textarea":{minHeight:300}},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),it=function(e){var t=e.item,a=e.idx,c=e.changeHandler,s=e.blurHandler,u=e.removeHandler,l=e.changeTypeHandler,p=e.canInsert,d=e.canUpdate,f=e.canDelete,h=ot(),b=Object(r.useState)(Object(o.a)({},t)),g=Object(i.a)(b,2),v=g[0],E=g[1],x=Object(r.useState)(!1),O=Object(i.a)(x,2),y=O[0],j=O[1],w=Object(r.useState)(null),S=Object(i.a)(w,2),k=S[0],A=S[1],T=Object(m.h)().userId,I=Object(r.useState)({isRelated:!1,isDeletable:!1,isFinished:!1,inputEditable:!1}),C=Object(i.a)(I,2),U=C[0],z=C[1];Object(r.useEffect)((function(){var e=De(Fe.itemRelated(t),!1).result,a=f&&De(Re(Fe.itemRelated(t)),!1).result,r=De(Fe.itemStatus(t,"Finished"),!1).result,n=(p||d)&&De(Ne([Re(Fe.itemRelated(t)),Ue([Ne([Re(Fe.isTruthy(T)),Re(Fe.itemType(t,"Training_Suggested"))]),Fe.isTruthy(T)])]),!1).result;z({isRelated:e,isDeletable:a,isFinished:r,inputEditable:n}),E(Object(o.a)({},t))}),[t,p,d,f,T]);var D=function(){A(null)},F=function(){var e=Object(se.a)(ce.a.mark((function e(t){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),r=y,j(!1),e.next=5,s(v,a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){return Object(se.a)(ce.a.mark((function a(){return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,l(t.id,e);case 3:D();case 4:case"end":return a.stop()}}),a)})))},M=function(){var e=Object(se.a)(ce.a.mark((function e(r){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.persist(),E(Object(o.a)(Object(o.a)({},t),{},{content:""})),e.next=4,u(v,a);case 4:j(!1),D();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=U.isRelated?n.a.createElement(et.a,{position:"start",className:h.startAdornment},n.a.createElement(tt.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},n.a.createElement(rt.a,null))):null,H=n.a.createElement(et.a,{position:"end",className:h.startAdornment},n.a.createElement(P.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){A(e.currentTarget)}},n.a.createElement(pe.a,null)),n.a.createElement(N.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:D,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(R.a,{disabled:!U.isDeletable,"aria-label":"delete appraisal item",onClick:M},n.a.createElement(B.a,null,n.a.createElement(nt.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Delete"})),"Planned"===t.type?n.a.createElement(R.a,{"aria-label":"Move item to Achieved",onClick:W("Achieved")},n.a.createElement(B.a,null,n.a.createElement(ct.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Achieved"})):null,"Achieved"===t.type?n.a.createElement(R.a,{"aria-label":"move item to Planned",onClick:W("Planned")},n.a.createElement(B.a,null,n.a.createElement(st.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Planned"})):null));return n.a.createElement(at.a,{className:Object(_.a)("Feedback"===t.type?h.feedBackInput:h.root),id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:v.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){E(Object(o.a)(Object(o.a)({},t),{},{content:e.target.value})),c(Object(o.a)(Object(o.a)({},v),{},{content:e.target.value}),a,!y),j(!0)},onBlur:F,disabled:!U.inputEditable,InputProps:{startAdornment:G,endAdornment:"Feedback"!==t.type&&[p,d,f].some((function(e){return e}))?H:null}})},ut=Object(M.a)({header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0}}),lt=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,u=e.type,l=e.setOtherItems,p={Achieved:"Achieved",Planned:"Planned",Training:"Trainings",Training_Suggested:"Suggested Trainings",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats",Feedback:"Remarks / Other feedback"},d=s.id,f=ut(),h={Achieved:5,Planned:5,Training:3,Training_Suggested:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5,Feedback:1}[u]||0,b=Object(r.useState)({canInsert:!1,canUpdate:!1,canDelete:!1}),g=Object(i.a)(b,2),v=g[0],E=g[1],x=Object(m.h)().userId,O=t.user;Object(r.useEffect)((function(){var e=De(Fe.canInsert(t,s,x),!1).result,r=De(Fe.canUpdate(t,s,x),!1).result,n=De(Fe.canDelete(t,s,x),!1).result;E((function(t){return Object(o.a)(Object(o.a)({},t),{},{canInsert:e,canUpdate:r,canDelete:n})})),c(Be.normalizeSet(d,t.user,a,h,u))}),[]);var y=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.addItemToSet(t,a));case 2:return e.abrupt("return",Be.addUserItemToSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),j=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.updateItemInSet(t,a));case 2:return e.abrupt("return",Be.updateUserItemInSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),w=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,a){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",Be.deleteItemFromSet(t,a));case 2:return e.abrupt("return",Be.deleteUserItemFromSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),S=Object(r.useCallback)((function(e,t,a){a&&c((function(a){var r=a.slice();return r[t].content=e.content,Be.normalizeSet(d,O,r,h,u)}))}),[O,d,u,h,c]),A=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t||!l){e.next=8;break}if(!(n=a.find((function(e){return e.id===t})))){e.next=8;break}return n.type=r,e.next=6,j(d,n);case 6:(s=e.sent).error||(c((function(e){return Be.normalizeSet(d,O,e.filter((function(e){return e.id!==s.value.id})),h,r)})),l((function(e){return Be.normalizeSet(d,O,e.filter((function(e){return""!==e.content})).concat(s.value),h,r)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[O,l,h,a,d,c,j]),T=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Number.isNaN(r)||!(r<a.length)){e.next=9;break}if(0===t.id){e.next=8;break}return e.next=5,w(d,a[r]);case 5:if(null===(n=e.sent).error){e.next=8;break}throw n.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==t.id}));return Be.normalizeSet(d,O,a,h,u)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[r]=t,Be.normalizeSet(d,O,a,h,u)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[O,a,d,u,h,w,c]),I=Object(r.useCallback)(function(){var e=Object(se.a)(ce.a.mark((function e(t,r,n){var s,o,i,l,m;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<a.length&&t.type===u)){e.next=22;break}if(s=0===t.id&&t.content,o=0!==t.id&&""===t.content,!s){e.next=10;break}return e.next=6,y(d,t);case 6:i=e.sent,c((function(e){var a=e.slice();return i.error?(a[r]=t,a[r].content=""):a[r]=i.value,Be.normalizeSet(d,O,a,h,u)})),e.next=22;break;case 10:if(!o){e.next=17;break}return e.next=13,w(d,t);case 13:l=e.sent,c((function(e){var a=e.slice();return l.error?l.value&&(a[r]=l.value):a=a.filter((function(e){return e.id!==t.id})),Be.normalizeSet(d,O,a,h,u)})),e.next=22;break;case 17:if(s||o||!n||""===t.content){e.next=22;break}return e.next=20,j(d,t);case 20:m=e.sent,c((function(e){var a;return m.error?(a=e.slice(),m.value&&(a[r]=m.value)):a=e.map((function(e){return e.id===t.id?m.value:e})),Be.normalizeSet(d,O,a,h,u)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),[O,a,d,u,h,y,w,j,c]);return n.a.createElement($e.a,null,n.a.createElement("h3",{className:f.header},p[u]),n.a.createElement(F.a,null,a.map((function(e,t){var a=0===e.id?t:e.id;return n.a.createElement(k.a,{className:f.listItem,key:a},n.a.createElement(it,{item:e,idx:t,label:p[u],changeHandler:S,blurHandler:I,removeHandler:T,changeTypeHandler:A,canInsert:v.canInsert,canUpdate:v.canUpdate,canDelete:v.canDelete}))}))))};lt.defaultProps={setOtherItems:null};var mt=lt,pt=a(551),dt={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",getSettingsUsersPath:"/api/settings/users",putSettingsUsersPath:function(e){return"/api/settings/users/".concat(e)},normalizeUser:function(e){var t=e;return t.role&&t.role.id&&(t.role=t.role.id),t.organization&&t.organization.id&&(t.organization=t.organization.id),t.organizations=t.organizations.map((function(e){return e.id||e})),t},getUsers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSettingsUsers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getSettingsUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateUser:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.updateUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateSettingsUser:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.putSettingsUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getUserOrganizations:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserOrganizationsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserTeamMembers:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getUserTeamMembersPath);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},ft=function(e){var t=e.onUserSelect,a=e.defaultValue,c=e.className,s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1];Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt.getUserTeamMembers();case 2:a=t.sent,e&&l(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]);return n.a.createElement(pt.a,{defaultValue:a,className:c,id:"users-autocomplete",options:u,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}})},ht=function(e){var t=e.defaultValue,a=e.className,c=Object(m.h)().id,s=Object(m.g)(),o=Object(r.useState)(t||null),u=Object(i.a)(o,2),l=u[0],p=u[1],d=Object(r.useCallback)((function(e){return e?s.push("/appraisals/".concat(c,"/user/").concat(e.id)):p(e)}),[s,c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ft,{value:l,onUserSelect:function(e){return d(e)},className:a,defaultValue:t}))};ht.defaultProps={defaultValue:null};var bt=ht,gt=Object(M.a)((function(e){return{header:{textAlign:"center"},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"}}})),vt=function(e){var t=e.context,a=e.periodDetails,c=gt(),s=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),p=Object(i.a)(m,2),d=p[0],h=p[1],b=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),g=Object(i.a)(b,2),v=g[0],E=g[1],x=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),O=Object(i.a)(x,2),y=O[0],j=O[1],w=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(i.a)(w,2),k=S[0],T=S[1],I=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),P=Object(i.a)(I,2),C=P[0],N=P[1],U=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),R=Object(i.a)(U,2),z=R[0],D=R[1],F=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),B=Object(i.a)(F,2),L=B[0],W=B[1],_=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),M=Object(i.a)(_,2),G=M[0],H=M[1],V=t.user;return n.a.createElement(f.a,{maxWidth:"md",className:c.conatiner},n.a.createElement("h1",{className:c.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(oe.a,{container:!0},n.a.createElement(q,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(oe.a,{item:!0,xs:12,className:c.middleFlex},n.a.createElement(bt,{className:c.userInput}))),n.a.createElement(oe.a,{item:!0,xs:12,className:c.middleFlex},V?n.a.createElement(qe.a,{avatar:n.a.createElement(A.a,null),label:V.username,color:"secondary"}):null),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:c.inputBlock},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:u,setItems:l,type:"Achieved",setOtherItems:h})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:d,setItems:h,type:"Planned",setOtherItems:l}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:v,setItems:E,type:"Training"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:y,setItems:j,type:"Training_Suggested"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:k,setItems:T,type:"SWOT_S"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:C,setItems:N,type:"SWOT_W"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:z,setItems:D,type:"SWOT_O"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:L,setItems:W,type:"SWOT_T"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(mt,{context:t,details:a,items:G,setItems:H,type:"Feedback"})))))},Et=function(e){var t=e.periodId,a=e.userId,n=e.setUserDetails,c=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt.getUser(a);case 2:return r=e.sent,n(r),e.next=6,Be.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,n]),null},xt=Object(M.a)((function(e){return{header:{textAlign:"center"},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"}}})),Ot=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=xt(),o=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(i.a)(o,2),l=u[0],m=u[1],p=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),d=Object(i.a)(p,2),h=d[0],b=d[1],g=Object(r.useState)(a.items.filter((function(e){return"Training"===e.type}))),v=Object(i.a)(g,2),E=v[0],x=v[1],O=Object(r.useState)(a.items.filter((function(e){return"Training_Suggested"===e.type}))),y=Object(i.a)(O,2),j=y[0],w=y[1],S=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),k=Object(i.a)(S,2),T=k[0],I=k[1],P=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),C=Object(i.a)(P,2),N=C[0],U=C[1],R=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),z=Object(i.a)(R,2),D=z[0],F=z[1],B=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),L=Object(i.a)(B,2),W=L[0],_=L[1],M=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),G=Object(i.a)(M,2),H=G[0],V=G[1];return n.a.createElement(f.a,{maxWidth:"md",className:s.conatiner},n.a.createElement("h1",{className:s.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(oe.a,{container:!0},n.a.createElement(q,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(oe.a,{item:!0,xs:12,className:s.middleFlex},n.a.createElement(bt,{defaultValue:c,className:s.userInput}))),n.a.createElement(oe.a,{item:!0,xs:12,className:s.middleFlex},c?n.a.createElement(qe.a,{avatar:n.a.createElement(A.a,null),label:c.username,color:"primary"}):null),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:s.inputBlock},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:l,setItems:m,type:"Achieved",setOtherItems:b})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:h,setItems:b,type:"Planned",setOtherItems:m}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:E,setItems:x,type:"Training"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:j,setItems:w,type:"Training_Suggested"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:T,setItems:I,type:"SWOT_S"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:N,setItems:U,type:"SWOT_W"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:D,setItems:F,type:"SWOT_O"})),n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(mt,{context:t,details:a,items:W,setItems:_,type:"SWOT_T"}))),n.a.createElement(oe.a,{container:!0,item:!0,xs:12,component:Ze.a,className:"".concat(s.inputBlock," ").concat(s.topMargin)},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(mt,{context:t,details:a,items:H,setItems:V,type:"Feedback"})))))},yt=function(e){var t=e.context,a=Object(r.useState)(null),c=Object(i.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(null),l=Object(i.a)(u,2),p=l[0],d=l[1],f=Object(m.h)().id,h=Object(m.h)().userId;return Object(r.useEffect)((function(){o(null),d(null)}),[h]),h?n.a.createElement(n.a.Fragment,null,null===s||null===p?n.a.createElement(Et,{periodId:f,userId:h,setUserDetails:d,setPeriodDetails:o}):n.a.createElement(Ot,{context:t,periodDetails:s,userDetails:p})):n.a.createElement(n.a.Fragment,null,null===s?n.a.createElement(Xe,{periodId:f,setPeriodDetails:o}):n.a.createElement(vt,{context:t,periodDetails:s}))},jt=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,o=Object(X.a)(e,["code","grant","to","failureNotification"]),u=Object(r.useContext)(H),l=Object(r.useState)(!1),p=Object(i.a)(l,2),d=p[0],f=p[1],h=Object(r.useState)(!1),b=Object(i.a)(h,2),g=b[0],v=b[1],E=Object(r.useState)(!1),x=Object(i.a)(E,2),O=x[0],y=x[1];Object(r.useEffect)((function(){var e=u.Authorize(t,a);f(e),u.security&&(v(!e),!s||e||O||(ve.notify(s),y(!0)))}),[u,t,a,s,O]);var j=null;return d&&(j=o.children),g&&(j=n.a.createElement(m.a,{to:c||"/"})),j},wt=function(){var e=Object(r.useContext)(H);return n.a.createElement(f.a,{maxWidth:"md"},n.a.createElement(Ke,null),n.a.createElement(jt,{code:ye.securities.APPRAISAL_DETAILS.code,grant:ye.securities.APPRAISAL_DETAILS.grants.read,to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},n.a.createElement(yt,{context:e})))},St=Object(M.a)((function(e){return{noDataText:{textAlign:"center",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),color:e.palette.text.secondary}}})),kt=function(e){var t=e.collection,a=e.children,r=St();return 0===t.length?n.a.createElement(C.a,{className:r.noDataText,variant:"subtitle1"},"No data..."):a},At=Object(M.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),Tt=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),p=u[0],d=u[1],h=Object(r.useContext)(H),b=At(),g=Object(m.i)().path,v=Object(r.useState)(null),E=Object(i.a)(v,2),x=E[0],O=E[1],y=function(e){O(e.currentTarget)},j=function(){O(null)},w=function(e){return Object(se.a)(ce.a.mark((function t(){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be.finishPeriod(e.id);case 2:t.sent&&c((function(t){return t.map((function(t){return t.id===e.id?Object(o.a)(Object(o.a)({},e),{},{status:"Finished"}):t}))})),j();case 5:case"end":return t.stop()}}),t)})))};return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,Be.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:g},n.a.createElement(f.a,{maxWidth:"md"},n.a.createElement(Ke,null),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",{className:b.header},"Appraisals")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h2",{className:b.header},"Opened")),n.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},n.a.createElement(kt,{collection:a.filter((function(e){return"Active"===e.status}))},a.filter((function(e){return"Active"===e.status})).map((function(e){return n.a.createElement(ie.a,{key:e.id,className:b.card},n.a.createElement(ue.a,{action:n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,{"data-itemid":e.id,"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:y},n.a.createElement(pe.a,null)),n.a.createElement(N.a,{id:"item-menu-".concat(e.id),anchorEl:x,keepMounted:!0,open:Boolean(x)&&x.dataset.itemid===e.id,onClose:j,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(R.a,{onClick:w(e)},n.a.createElement(B.a,null,n.a.createElement(de.a,{fontSize:"small"})),n.a.createElement(L.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),n.a.createElement(le.a,null,n.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(me.a,{className:b.cardActions},n.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h2",{className:b.header},"Closed")),n.a.createElement(oe.a,{item:!0,xs:12,className:b.gridFlex},n.a.createElement(kt,{collection:a.filter((function(e){return"Active"!==e.status}))},a.filter((function(e){return"Active"!==e.status})).map((function(e){return n.a.createElement(ie.a,{key:e.id,className:b.card},n.a.createElement(ue.a,{action:n.a.createElement(P.a,{"aria-label":"actions"},n.a.createElement(pe.a,null)),title:e.name,subheader:e.status}),n.a.createElement(le.a,null,n.a.createElement(C.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(C.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(me.a,{className:b.cardActions},n.a.createElement(l.b,{to:"/appraisals/".concat(e.id),className:b.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(oe.a,{item:!0,xs:12,className:b.centerButton},n.a.createElement(z.a,{onClick:function(){return d(!0)},variant:"contained",color:"primary"},"New Period")),n.a.createElement(Je,{open:p,context:h,handleClose:function(){return d(!1)},setItems:c})))),n.a.createElement(m.b,{exact:!0,path:"".concat(g,"/:id/user/:userId")},n.a.createElement(wt,{ctx:h,setCtx:h.setContext})),n.a.createElement(m.b,{path:"".concat(g,"/:id")},n.a.createElement(wt,{ctx:h,setCtx:h.setContext}))))},It=a(533),Pt=a(333),Ct=a(353),Nt=a(534),Ut=a(371),Rt=Object(M.a)((function(e){return{grid:{flexDirection:"row",alignItems:"center"},header:{textAlign:"center"},subheader:{textAlign:"center",color:e.palette.text.secondary},divider:{marginTop:e.spacing(1)},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),zt=function(e){var t=e.items,a=e.setItems,c=Rt(),s=Object(r.useState)(""),u=Object(i.a)(s,2),l=u[0],m=u[1],p=function(){var e=Object(se.a)(ce.a.mark((function e(t,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.updateItem(Object(o.a)(Object(o.a)({},t),{},{type:r}));case 2:n=e.sent,a((function(e){var a=Object(o.a)(Object(o.a)({},t),{},{type:n.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){return function(t){t.target.checked?p(e,"Achieved"):p(e,"Planned")}},f=function(){var e=Object(se.a)(ce.a.mark((function e(t){var r,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return r={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,Be.addOrphan(r);case 4:n=e.sent,a((function(e){return e.concat(n)})),m("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement($e.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},n.a.createElement(C.a,{className:c.header,variant:"h6"},"Planned items"),n.a.createElement(C.a,{className:c.subheader,variant:"subtitle2"},"Here you will see items planned over past periods"),n.a.createElement(It.a,{className:c.divider}),n.a.createElement(kt,{collection:t},n.a.createElement(F.a,null,t.map((function(e){return n.a.createElement(k.a,{dense:!0},n.a.createElement(Pt.a,{className:Object(_.a)(Object(h.a)({},c.itemAchievedText,"Achieved"===e.type)),control:n.a.createElement(Ct.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),n.a.createElement(Nt.a,null,n.a.createElement(P.a,{disabled:null!==e.relatedItemId,onClick:function(){return b(e)}},n.a.createElement(Ut.a,null))))})))),n.a.createElement(oe.a,{container:!0,className:c.grid},n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement(at.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:l,onChange:function(e){m(e.target.value)}})),n.a.createElement(oe.a,{item:!0,xs:6},n.a.createElement(z.a,{variant:"contained",color:"secondary",disabled:""===l,onClick:function(){return f(l)}},"Add"))))},Dt=function(e){var t=e.setItems;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Be.getOrphans();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},Ft=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Dt,{setItems:c}),n.a.createElement(zt,{items:a,setItems:c}))},Bt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12,sm:6},n.a.createElement(q,{code:"APPRAISAL DETAILS",grant:"read"},n.a.createElement(Ft,null)))))},Lt=Object(M.a)((function(){return{root:{}}})),Wt=a(535),_t={palette:{type:"dark"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Mt={palette:{type:"light"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Gt=function(){var e=Object(r.useContext)(H),t=Object(r.useState)(e.userPreferences.theme.palette.type),a=Object(i.a)(t,2),c=a[0],s=a[1];return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(C.a,{variant:"h4"},"General Settings")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(C.a,{variant:"h6"},"Appearence:")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(oe.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(oe.a,{item:!0},"Light"),n.a.createElement(oe.a,{item:!0},n.a.createElement(Wt.a,{checked:"dark"===c,onChange:function(t){var a;a=t.target.checked?"dark":"light",s(a),localStorage.setItem("theme",a),e.setContext((function(t){return Object(o.a)(Object(o.a)({},t),{},{userPreferences:Object(o.a)(Object(o.a)({},e.userPreferences),{},{theme:"light"===a?Object(p.a)(Mt):Object(p.a)(_t)})})}))}})),n.a.createElement(oe.a,{item:!0},"Dark"))))},Ht=a(103),Vt=a(161),Qt=a.n(Vt),Yt=a(167),Jt={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getTeamsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addTeam:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.validate(e),a.next=4,he.a.post(t.addTeamPath,{team:e});case 4:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},Kt={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getCurrentUserSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserSecurities:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.getUserSecuritiesPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrganizationUsersSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getOrganizationUsersSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getRolesSecurities:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getRolesSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPermissionCodes:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.getPermissionCodesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addPermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.addPermissionPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updatePermission:function(e,t){var a=this;return Object(se.a)(ce.a.mark((function r(){var n;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,he.a.put(a.updatePermissionPath(e),t);case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:return r.abrupt("return",null);case 9:throw r.prev=9,r.t0=r.catch(0),ve.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deletePermission:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.delete(t.deletePermissionPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(r){return ve.notify({type:"error",header:"Error",content:r.response.data&&r.response.data.error||r.message}),!1}}},Xt=function(e){var t=e.rowData,a=e.onChange,r=e.teams;return n.a.createElement(pt.a,{multiple:!0,id:"tags-standard",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.teams,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})},qt=function(e){var t=e.rowData,a=e.onChange,r=e.global;return n.a.createElement(pt.a,{multiple:!0,id:"tags-standard-organizations",options:r.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.organizations,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})},Zt=function(e){var t=e.rowData,a=e.onChange,r=e.roles;return n.a.createElement(pt.a,{id:"tags-standard-role",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.role,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})},$t=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),u=Object(i.a)(s,2),l=u[0],m=u[1],p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],h=d[1],b=Object(r.useContext)(H),g=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Xt,{rowData:t,onChange:a,teams:l})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):null},customFilterAndSearch:function(e,t){var a=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a)})).length>0},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(qt,{rowData:t,onChange:a,global:b})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Zt,{rowData:t,onChange:a,roles:f})}}],v={onRowUpdate:function(e,t){return new Promise((function(r,n){function s(){return(s=Object(se.a)(ce.a.mark((function s(){var i,u,l,m;return ce.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=Object(Ht.a)(a),u=t.tableData.id,l=t.organization||null,!t.organization&&e.organizations.length?l=e.organizations[0].id:0===e.organizations.length&&(l=null),s.next=7,dt.updateSettingsUser(e.id,Object(o.a)(Object(o.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:l}));case 7:m=s.sent,i[u]=m,c((function(){return i})),r(),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),n(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()})).catch((function(e){throw e}))}};return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,a,r,n,s;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([dt.getSettingsUsers(),Jt.getTeams(),Kt.getRoles()]);case 2:t=e.sent,a=Object(i.a)(t,3),r=a[0],n=a[1],s=a[2],c((function(){return r})),m((function(){return n})),h((function(){return s}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"Users Settings")),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Qt.a,{icons:Yt.a.tableIcons,title:"Users",columns:g,data:a,options:{searchFieldAlignment:"left"},editable:v})))},ea=function(){return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalPeriods Settings")))},ta=function(){return n.a.createElement(oe.a,{container:!0},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalItems Settings")))},aa=a(550),ra=a(540),na=function(e){var t=e.setLoaded,a=e.setPermissionCodes,n=e.setRoles,c=e.setUsers,s=e.setRolePermissions,i=e.setUserPermissions;return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var r,u,l,m,p,d,f;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.getPermissionCodes();case 2:return r=e.sent,a(r.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,Kt.getRoles();case 6:return u=e.sent,n(u.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,dt.getSettingsUsers();case 10:return l=e.sent,c(l.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,Kt.getRolesSecurities();case 14:return m=e.sent,p={},m.forEach((function(e){p[e.reference.name]=Object(o.a)(Object(o.a)({},p[e.reference.name]),{},Object(h.a)({},e.code.code,e))})),s(p),e.next=20,Kt.getOrganizationUsersSecurities();case 20:d=e.sent,f={},d.forEach((function(e){f[e.reference.username]=Object(o.a)(Object(o.a)({},f[e.reference.username]),{},Object(h.a)({},e.code.code,e))})),i(f),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,n,c,s,i]),null},ca=a(541),sa=a(543),oa=a(542),ia=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),ua=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,u=e.selectedRole,l=e.setSelectedRole,m=ia(),p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(r.useState)(""),v=Object(i.a)(g,2),E=v[0],x=v[1],O=function(e,t,a){s((function(r){return Object(o.a)(Object(o.a)({},r),{},Object(h.a)({},e.name,Object(o.a)(Object(o.a)({},r[e.name]),{},Object(h.a)({},t.code,a))))}))},y=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.addPermission({grants:[r],code:a.id,permissionType:"Role",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var r=Object(se.a)(ce.a.mark((function r(n){var s,i,u,l,m;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.name]&&c[e.name][t.code]){r.next=8;break}return r.next=4,y(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return i=[].concat(Object(Ht.a)(c[e.name][t.code].grants),[a]),r.next=12,j(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:i}));case 12:(u=r.sent)&&O(e,t,u),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,S(c[e.name][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(o.a)(Object(o.a)({},c[e.name][t.code]),{},{grants:l}));case 26:(m=r.sent)&&O(e,t,m);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.name]&&c[e.name][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(oe.a,{container:!0,className:m.root},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(pt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Ze.a,{variant:"outlined",className:m.toolBar},n.a.createElement(at.a,{id:"role-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(ca.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(Ht.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(sa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(w.a,null)},n.a.createElement("div",{className:m.permissionDescription},n.a.createElement(C.a,null,e.code),n.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(oa.a,{className:m.permissionBox},e.grants.map((function(t){return n.a.createElement(Me.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(Pt.a,{value:t,label:n.a.createElement(C.a,{variant:"button"},t),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},la=Object(M.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),ma=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,u=e.selectedUser,l=e.setSelectedUser,m=la(),p=Object(r.useState)([]),d=Object(i.a)(p,2),f=d[0],b=d[1],g=Object(r.useState)(""),v=Object(i.a)(g,2),E=v[0],x=v[1],O=function(e,t,a){s((function(r){return Object(o.a)(Object(o.a)({},r),{},Object(h.a)({},e.username,Object(o.a)(Object(o.a)({},r[e.username]),{},Object(h.a)({},t.code,a))))}))},y=function(){var e=Object(se.a)(ce.a.mark((function e(t,a,r){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.addPermission({grants:[r],code:a.id,permissionType:"User",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t,a){return function(){var r=Object(se.a)(ce.a.mark((function r(n){var s,i,u,l,m;return ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.username]&&c[e.username][t.code]){r.next=8;break}return r.next=4,y(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return i=[].concat(Object(Ht.a)(c[e.username][t.code].grants),[a]),r.next=12,j(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:i}));case 12:(u=r.sent)&&O(e,t,u),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,S(c[e.username][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(o.a)(Object(o.a)({},c[e.username][t.code]),{},{grants:l}));case 26:(m=r.sent)&&O(e,t,m);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.username]&&c[e.username][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(oe.a,{container:!0,className:m.root},n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(pt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return n.a.createElement(at.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){l(t)},value:u,className:m.selector})),n.a.createElement(oe.a,{item:!0,xs:12},n.a.createElement(Ze.a,{variant:"outlined",className:m.toolBar},n.a.createElement(at.a,{id:"user-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?b([]):b(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(oe.a,{item:!0,xs:12},u?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(ca.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){b(a?function(e){return[].concat(Object(Ht.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(sa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(w.a,null)},n.a.createElement("div",{className:m.permissionDescription},n.a.createElement(C.a,null,e.code),n.a.createElement(C.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(oa.a,{className:m.permissionBox},n.a.createElement(Me.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},n.a.createElement(Pt.a,{value:"overrule",label:n.a.createElement(C.a,{variant:"button"},"overrule"),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(u,e,"overrule")}),onChange:k(u,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return n.a.createElement(Me.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(Pt.a,{value:t,label:n.a.createElement(C.a,{variant:"button"},t),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(u,e,t)}),onChange:k(u,e,t),labelPlacement:"start"}))}))));var t})):null))},pa=function(e){var t=e.value,a=e.setValue;return n.a.createElement($e.a,{mt:2},n.a.createElement(T.a,{position:"static",color:"transparent",elevation:0},n.a.createElement(aa.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},n.a.createElement(ra.a,{label:"Roles"}),n.a.createElement(ra.a,{label:"Users"}))))};function da(e){var t=e.children,a=e.value,r=e.index;return n.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a===r&&n.a.createElement($e.a,null,t))}var fa=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(i.a)(s,2),u=o[0],l=o[1],m=Object(r.useState)([]),p=Object(i.a)(m,2),d=p[0],f=p[1],h=Object(r.useState)({}),b=Object(i.a)(h,2),g=b[0],v=b[1],E=Object(r.useState)({}),x=Object(i.a)(E,2),O=x[0],y=x[1],j=Object(r.useState)(null),w=Object(i.a)(j,2),S=w[0],k=w[1],A=Object(r.useState)(null),T=Object(i.a)(A,2),I=T[0],P=T[1],C=Object(r.useState)(0),N=Object(i.a)(C,2),U=N[0],R=N[1],z=Object(r.useState)(!1),D=Object(i.a)(z,2),F=D[0],B=D[1];return Object(r.useEffect)((function(){k((function(e){return null===e&&u.length>0?u[0]:e}))}),[u]),Object(r.useEffect)((function(){P((function(e){return null===e&&d.length>0?d[0]:e}))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement(na,{setLoaded:B,setPermissionCodes:c,setRoles:l,setUsers:f,setRolePermissions:v,setUserPermissions:y}),F?n.a.createElement(n.a.Fragment,null,n.a.createElement(pa,{value:U,setValue:R}),n.a.createElement(da,{value:U,index:0},n.a.createElement(ua,{codes:a,roles:u,rolePermissions:g,setRolePermissions:v,selectedRole:S,setSelectedRole:k})),n.a.createElement(da,{value:U,index:1},n.a.createElement(ma,{codes:a,users:d,userPermissions:O,setUserPermissions:y,selectedUser:I,setSelectedUser:P}))):null)},ha=function(){return n.a.createElement(fa,null)},ba=function(){var e=Object(m.i)().path,t=Lt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke,null),n.a.createElement(f.a,{maxWidth:"lg",className:t.root},n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:e},n.a.createElement(jt,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Gt,null))),n.a.createElement(m.b,{path:"".concat(e,"/users")},n.a.createElement(jt,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement($t,null))),n.a.createElement(m.b,{path:"".concat(e,"/appraisal-periods")},n.a.createElement(jt,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(ea,null))),n.a.createElement(m.b,{path:"".concat(e,"/appraisal-items")},n.a.createElement(jt,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(ta,null))),n.a.createElement(m.b,{path:"".concat(e,"/permissions")},n.a.createElement(jt,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(ha,null))))))},ga=function(){return n.a.createElement(n.a.Fragment,null,"Reports")},va=a(460).default,Ea=function(){var e=Object(m.h)().id;return n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Details"),"Details"," ",e)},xa=a(548),Oa=a(545),ya=a(546),ja=a(547),wa={postTemplatePath:"/api/reporting/templates",GenerateTemplatePath:"/api/reporting/template/generate",createTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.postTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return ve.notify({type:"success",header:"Created",content:"Tempalte successfully created"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},generateTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.post(t.GenerateTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return ve.notify({type:"success",header:"Generated",content:"Tempalte successfully generated"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},downloadTemplate:function(e){var t=this;return Object(se.a)(ce.a.mark((function a(){var r;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,he.a.get(t.GenerateTemplatePath,{params:{filepath:e}});case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),ve.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()}},Sa=a(549),ka=Object(M.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),Aa=function(e){var t=e.label,a=e.file,c=e.setFile,s=ka(),o=Object(r.useState)(a?a.name:"..."),u=Object(i.a)(o,2),l=u[0],m=u[1];return n.a.createElement($e.a,{className:s.root},n.a.createElement("input",{id:"upload-file-input",type:"file",className:s.input,onChange:function(e){var t=e.target.files;t.length>0?(m(t[0].name),c(t[0])):(m("..."),c(null))}}),n.a.createElement("label",{htmlFor:"upload-file-input"},n.a.createElement(z.a,{variant:"text",startIcon:n.a.createElement(Sa.a,null),component:"span"},t||"Uplaod")),n.a.createElement(C.a,{variant:"caption",className:s.text},l))},Ta=Object(M.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),Ia=function(e){var t=e.advanceStep,a=e.prevStep,r=e.name,c=e.setName,s=e.file,o=e.setFile,i=Ta();return n.a.createElement($e.a,{className:i.root},n.a.createElement(C.a,{variant:"subtitle1"},"Specify your template name, then attach your template file."," ","(Ex: All user info, or Items per user)."),n.a.createElement(at.a,{value:r,onChange:function(e){c(e.target.value)},variant:"outlined",color:"secondary",label:"Template Name",id:"new-template-name",name:"new-template-name",size:"small"}),n.a.createElement(Aa,{label:"Template File",file:s,setFile:o}),n.a.createElement($e.a,{p:2,className:i.buttons},n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:a},"Back"),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:t},"Next")))},Pa=Object(M.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(1)}},multilineInput:{width:"100%","& textarea":{minHeight:400}}}})),Ca=a(491),Na=function(e){var t=e.value,a=e.setValue,r=e.Component,c=e.className,s=r||Ca.a;return n.a.createElement(s,{multiline:!0,value:t,className:c,onKeyPress:function(e){"Enter"===e.key&&console.log(e.key)},onChange:function(e){a(e.target.value)}})};Na.defaultProps={className:""};var Ua=Na,Ra=function(e){var t=e.value,a=e.setValue,r=e.advanceStep,c=Pa();return n.a.createElement($e.a,{className:c.root},n.a.createElement(C.a,{variant:"subtitle1"},"Create a valid MongoDB aggregation. Test and verify if it returns valid info below. For more info, refer to MongoDB"," ",n.a.createElement("a",{href:"https://docs.mongodb.com/manual/aggregation/",target:"_blank",rel:"noopener noreferrer"},"documentation"),"."),n.a.createElement(Ua,{value:t,setValue:a,className:c.multilineInput}),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:r},"Next"))},za=Object(M.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),Da=function(e){var t=e.prevStep,a=e.handleSubmit,r=e.handleGenerate,c=za();return n.a.createElement($e.a,{className:c.root},n.a.createElement(C.a,{variant:"subtitle1"},"You can generate your report to check if everything is working."," ","After, you can click 'Submit' to save it."),n.a.createElement($e.a,{className:c.buttons},n.a.createElement(z.a,{onClick:t,variant:"contained",color:"primary"},"Back"),n.a.createElement(z.a,{onClick:a,variant:"contained",color:"primary"},"Submit"),n.a.createElement(z.a,{onClick:r,variant:"contained",color:"primary"},"Generate")))},Fa=Object(M.a)((function(e){return{root:{padding:e.spacing(3)},header:{textAlign:"center",marginBottom:e.spacing(3)},formContainer:{"& > * + *":{marginTop:e.spacing(2)}}}})),Ba=function(){var e=Fa(),t=Object(r.useState)(0),a=Object(i.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),l=u[0],m=u[1],p=Object(r.useState)(""),d=Object(i.a)(p,2),h=d[0],b=d[1],g=Object(r.useState)(null),v=Object(i.a)(g,2),E=v[0],x=v[1],O=["Create your database aggregation","Add you template file","Try it out"],y=function(){s((function(e){return(e+1)%O.length}))},j=function(){s((function(e){return e>0?e-1:0}))},w=function(){var e=Object(se.a)(ce.a.mark((function e(){var t;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",l),t.append("name",h),t.append("template",E),e.next=6,wa.createTemplate(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(se.a)(ce.a.mark((function e(){var t,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",l),t.append("name",h),t.append("template",E),e.next=6,wa.generateTemplate(t);case 6:a=e.sent,window.open("/api/reporting/template/generate?filepath=".concat(a.filepath));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=[n.a.createElement(Ra,{advanceStep:y,value:l,setValue:m,setAggregation:m}),n.a.createElement(Ia,{name:h,setName:b,file:E,setFile:x,advanceStep:y,prevStep:j}),n.a.createElement(Da,{prevStep:j,handleSubmit:w,handleGenerate:S})];return n.a.createElement("div",{className:e.root},n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement(C.a,{variant:"h4",component:"h1",className:e.header},"New Template"),n.a.createElement(xa.a,{elevation:2,activeStep:c,orientation:"vertical"},O.map((function(e,t){return n.a.createElement(Oa.a,{key:e},n.a.createElement(ya.a,null,e),n.a.createElement(ja.a,null,k[t]))})))))},La=function(){var e=Object(m.i)().path;return n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:e},n.a.createElement(va,null)),n.a.createElement(m.b,{exact:!0,path:"".concat(e,"/new")},n.a.createElement(Ba,null)),n.a.createElement(m.b,{path:"".concat(e,"/:id")},n.a.createElement(Ea,null)))},Wa=function(e){var t=e.ctx,a=e.setCtx,r=Object(m.i)().path;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ke,{ctx:t,setCtx:a}),n.a.createElement(f.a,{maxWidth:"lg"},n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:r},n.a.createElement(jt,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(ga,null))),n.a.createElement(m.b,{path:"".concat(r,"/templates")},n.a.createElement(jt,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(La,null))))))},_a=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"Login"),n.a.createElement("a",{href:"/api/login"},"Login"))};function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ga(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ha=n.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),Va=n.a.createElement("g",null),Qa=n.a.createElement("g",null),Ya=n.a.createElement("g",null),Ja=n.a.createElement("g",null),Ka=n.a.createElement("g",null),Xa=n.a.createElement("g",null),qa=n.a.createElement("g",null),Za=n.a.createElement("g",null),$a=n.a.createElement("g",null),er=n.a.createElement("g",null),tr=n.a.createElement("g",null),ar=n.a.createElement("g",null),rr=n.a.createElement("g",null),nr=n.a.createElement("g",null),cr=n.a.createElement("g",null),sr=function(e){var t=e.svgRef,a=e.title,r=Ga(e,["svgRef","title"]);return n.a.createElement("svg",Ma({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,Ha,Va,Qa,Ya,Ja,Ka,Xa,qa,Za,$a,er,tr,ar,rr,nr,cr)},or=n.a.forwardRef((function(e,t){return n.a.createElement(sr,Ma({svgRef:t},e))}));a.p;function ir(){return(ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function ur(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var lr=n.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),mr=n.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),pr=n.a.createElement("g",{fill:"#ff62b4"},n.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),n.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),dr=function(e){var t=e.svgRef,a=e.title,r=ur(e,["svgRef","title"]);return n.a.createElement("svg",ir({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},r),a?n.a.createElement("title",null,a):null,lr,mr,pr)},fr=n.a.forwardRef((function(e,t){return n.a.createElement(dr,ir({svgRef:t},e))}));a.p;function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var gr=n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),vr=n.a.createElement("g",null),Er=n.a.createElement("g",null),xr=n.a.createElement("g",null),Or=n.a.createElement("g",null),yr=n.a.createElement("g",null),jr=n.a.createElement("g",null),wr=n.a.createElement("g",null),Sr=n.a.createElement("g",null),kr=n.a.createElement("g",null),Ar=n.a.createElement("g",null),Tr=n.a.createElement("g",null),Ir=n.a.createElement("g",null),Pr=n.a.createElement("g",null),Cr=n.a.createElement("g",null),Nr=n.a.createElement("g",null),Ur=function(e){var t=e.svgRef,a=e.title,r=br(e,["svgRef","title"]);return n.a.createElement("svg",hr({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,gr,vr,Er,xr,Or,yr,jr,wr,Sr,kr,Ar,Tr,Ir,Pr,Cr,Nr)},Rr=n.a.forwardRef((function(e,t){return n.a.createElement(Ur,hr({svgRef:t},e))}));a.p;function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Dr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Fr=n.a.createElement("g",null,n.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),n.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),Br=function(e){var t=e.svgRef,a=e.title,r=Dr(e,["svgRef","title"]);return n.a.createElement("svg",zr({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},r),a?n.a.createElement("title",null,a):null,Fr)},Lr=n.a.forwardRef((function(e,t){return n.a.createElement(Br,zr({svgRef:t},e))})),Wr=(a.p,a(361)),_r=a.n(Wr),Mr=a(362),Gr=a.n(Mr),Hr=a(363),Vr=a.n(Hr),Qr={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},Yr=Object(M.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:Qr[e.entry.type].bg,borderRadius:3,color:Qr[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(Qr[e.entry.type].bgDark),borderBottom:"1px solid ".concat(Qr[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:Qr[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),Jr=function(e){var t=e.entry,a=e.onBeforeClose,c=e.onAfterClose,s=t.type||"error",u=Object(o.a)(Object(o.a)({},t),{},{type:s}),l=Yr({entry:u}),m=Object(r.useState)(!0),p=Object(i.a)(m,2),d=p[0],f=p[1],b=Object(r.useState)(!1),g=Object(i.a)(b,2),v=g[0],E=g[1],x=Object(r.useState)(0),O=Object(i.a)(x,2),y=O[0],j=O[1],w=t.duration||5,S=Object(r.useCallback)(Object(se.a)(ce.a.mark((function e(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=4;break}return e.next=4,a();case 4:f(!1),c&&c(t);case 6:case"end":return e.stop()}}),e)}))),[t,c,a]);Object(r.useEffect)((function(){j(setTimeout(S,1e3*w))}),[]);var k=function(){j(v?setTimeout(S,1e3*w):function(e){return clearTimeout(e),0}),E(!v)},A=function(){switch(s){case"error":return n.a.createElement(or,null);case"info":return n.a.createElement(Rr,null);case"warn":return n.a.createElement(fr,null);case"success":return n.a.createElement(Lr,null);default:return null}};return n.a.createElement(n.a.Fragment,null,d?n.a.createElement("div",{className:l.popUpContainer},n.a.createElement("div",{className:l.popUpWatermark},n.a.createElement(A,null)),n.a.createElement("div",{className:l.popUpToolbar},n.a.createElement("div",{className:l.popUpControls},v?n.a.createElement("span",{role:"button",onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Gr.a,alt:"Continue the pop-up timer"})):n.a.createElement("span",{onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:Vr.a,alt:"Pause the pop-up timer"})),n.a.createElement("span",{onClick:function(){return clearTimeout(y),void S()},"aria-hidden":"true"},n.a.createElement("img",{src:_r.a,alt:"Close the pop-up"}))),n.a.createElement("div",{className:Object(_.a)(Object(h.a)({},l.popUpTimer,!0),v?l.popUpTimerOff:l.popUpTimerOn),style:{animationDuration:"".concat(w,"s")}})),n.a.createElement("div",{className:l.popUpDelimiter}),n.a.createElement("div",{className:l.popUpHeader},n.a.createElement("span",null,t.header?t.header.toUpperCase():"Error")),n.a.createElement("div",{className:l.popUpDelimiter}),n.a.createElement("div",{className:l.popUpContent},t.content)):null)},Kr=Object(M.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),Xr=function(e){var t=e.entry,a=e.onAfterClose,c=e.notificationRender,s=Kr({entry:t}),o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],m=u[1];return n.a.createElement("div",{className:Object(_.a)(s.containerTransition,Object(h.a)({},s.containerTransitionOff,l))},c(t,{entry:t,onAfterClose:a,closeTimeOffset:5,onBeforeClose:function(){return new Promise((function(e){m(!0),setTimeout((function(){e()}),700)}))}}))},qr=function(){var e=Kr(),t=Object(r.useState)([]),a=Object(i.a)(t,2),c=a[0],s=a[1];return ve.notifications=c,ve.setNotifications=s,n.a.createElement("div",{className:e.root},c.map((function(e){return n.a.createElement(Xr,{key:e.id,notificationRender:function(e,t){return n.a.createElement(Jr,{type:e.type,entry:t.entry,onBeforeClose:t.onBeforeClose,onAfterClose:t.onAfterClose})},onAfterClose:function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))},entry:e})})))},Zr=function(){var e=Object(r.useContext)(H);return Object(r.useEffect)((function(){function t(){return(t=Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.security||null===e.user){t.next=5;break}return t.next=3,Kt.getSecurities();case 3:(a=t.sent)&&e.setContext((function(e){return Object(o.a)(Object(o.a)({},e),{},{security:a})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),null},$r={currentUserPath:"/api/me",getCurrentUser:function(){var e=this;return Object(se.a)(ce.a.mark((function t(){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,he.a.get(e.currentUserPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:return t.prev=9,t.t0=t.catch(0),ve.notify({type:"error",header:"Error",content:"Not logged in. ".concat(t.t0.response.data&&t.t0.response.data.error||t.t0.message)}),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},en=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(H);return Object(r.useEffect)((function(){function e(){return(e=Object(se.a)(ce.a.mark((function e(){var t,r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.setContext){e.next=2;break}return e.abrupt("return",n(!1));case 2:if(c.user||a){e.next=9;break}return n(!0),e.next=6,$r.getCurrentUser();case 6:return(t=e.sent)&&(r=t.displayName||t.username||"Unknown",t.avatar=r.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),e.abrupt("return",c.setContext(Object(o.a)(Object(o.a)({},c),{},{user:t,userLoaded:!0})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,c]),null},tn=Object(M.a)((function(e){var t;return{root:(t={},Object(h.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(h.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}}));var an=function(){var e=tn(),t=Object(r.useState)({user:null,Authorize:Kt.Authorize,setContext:null,userPreferences:{theme:"dark"===localStorage.getItem("theme")?Object(p.a)(_t):Object(p.a)(Mt)}}),a=Object(i.a)(t,2),c=a[0],s=a[1],h=c.userPreferences.theme;return Object(r.useEffect)((function(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{setContext:s})}))}),[]),n.a.createElement(H.Provider,{value:c},n.a.createElement(d.a,{theme:h},n.a.createElement(qr,null),n.a.createElement(en,{ctx:c,setCtx:s}),n.a.createElement(u.a,null),n.a.createElement(Zr,null),n.a.createElement(l.a,null,n.a.createElement(re,null),n.a.createElement(f.a,{maxWidth:"lg",className:e.root},n.a.createElement(m.d,null,n.a.createElement(m.b,{path:"/appraisals"},n.a.createElement(Tt,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/audits"},n.a.createElement("h1",null,"IN PROGRESS")),n.a.createElement(m.b,{path:"/reporting"},n.a.createElement(Wa,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/settings"},n.a.createElement(ba,null)),n.a.createElement(m.b,{path:"/login"},n.a.createElement(_a,{ctx:c,setCtx:s})),n.a.createElement(m.b,{path:"/"},n.a.createElement(Bt,{ctx:c,setCtx:s})))))))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(an,null)),document.getElementById("root"))},460:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(38),s=a(31),o=a(526),i=a(98),u=a(320),l=a(161),m=a.n(l),p=a(167),d=a(316),f=Object(d.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2),marginBottom:e.spacing(1)}}}));t.default=function(){var e=f(),t=Object(c.g)(),a=Object(c.i)().path;return n.a.createElement(o.a,{maxWidth:"lg"},n.a.createElement("h1",{style:{textAlign:"center"}},"Templates"),n.a.createElement(i.a,{className:e.container},n.a.createElement(s.b,{to:"".concat(a,"/new"),color:"secondary",variant:"contained",component:u.a},"Create Template")),n.a.createElement(m.a,{icons:p.a.tableIcons,title:"List",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser"}],data:[{id:1234,name:"Test",filename:"test.xlsx",createdUser:"me@you.com"},{id:41231,name:"Test1",filename:"test.xlsx",createdUser:"me@you.com"},{id:123124,name:"Test2",filename:"test.xlsx",createdUser:"me@you.com"},{id:12345,name:"Test3",filename:"test.xlsx",createdUser:"me@you.com"}],actions:[{icon:p.a.tableIcons.Download,tooltip:"Download Template",onClick:function(){return alert("Download file")}}],onRowClick:function(e,r){return t.push("".concat(a,"/").concat(r.id))}}))}}},[[377,1,2]]]);
//# sourceMappingURL=main.84b90289.chunk.js.map