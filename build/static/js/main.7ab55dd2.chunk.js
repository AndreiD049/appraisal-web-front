(this.webpackJsonpappraisal=this.webpackJsonpappraisal||[]).push([[0],{120:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(484),s=a(485),o=a(376),i=a(486),u=a(375),l=a(487),p=a(488),m=a(489),d=a(490),f=a(491),h=a(479),b=a(492),v=a(493),g=a(494),E=a(495),x=a(496),O={Add:Object(r.forwardRef)((function(e,t){return n.a.createElement(c.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return n.a.createElement(s.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return n.a.createElement(i.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return n.a.createElement(l.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return n.a.createElement(p.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return n.a.createElement(m.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(d.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(f.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(u.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return n.a.createElement(h.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return n.a.createElement(o.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return n.a.createElement(b.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return n.a.createElement(v.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return n.a.createElement(g.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return n.a.createElement(E.a,Object.assign({},e,{ref:t}))})),Download:Object(r.forwardRef)((function(e,t){return n.a.createElement(x.a,Object.assign({},e,{ref:t}))}))};t.a={tableIcons:O}},19:function(e,t,a){"use strict";var r=0,n={notifications:[],setNotifications:function(e){this.notifications=e(this.notifications)},addNotification:function(e){this.setNotifications((function(t){var a=e,n=t.slice();return a.id=(r>1e5&&(r=0),r+=1),n.push(a),n}))},notify:function(e){this.addNotification(e)}};t.a=n},366:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAhklEQVRIie2UMQ6AIAwAT/8g0Sfqc2XwObjUBI1iC2IcvImEttdAAX6+ygg4Q7yTHBUTEACvlDiJDZJ7SwfMkrAAgyG21wi0kuziGklx8ZTkseIb8SX6w9oyaUnirk2dtwXSpiB3R9UjOrtQyzsxF7/aM0s0o5gtscx5lqT6ZweVv+ufd1kB6zBHYHGp5DsAAAAASUVORK5CYII="},367:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAjUlEQVRIie3UoQ0CQRCF4S+Yc4fFnMVcB/RBC1haoAVaOIlH0QIdUAAGSUKCuEWNI4jLTUjg/uTJfX8yuztM/D0ntJmCgif2mGcJIjdsMcsSRM5YZQoKehzQZAkid+xQZQkiF6zfFYx1YQWPoQe/MqIeHRZDiz8J0p7pFRsJHy1WRT1mcXDEMqN44od4ASaPSxCKqLGRAAAAAElFTkSuQmCC"},368:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAMElEQVRIiWNgGAXDHjDikftPQC0heQYGBgYGJlJdRCoYtWDUglELRi0YDBaMghEAAJU1AhyTToiMAAAAAElFTkSuQmCC"},37:function(e,t,a){"use strict";var r=a(4),n=a.n(r),c=a(7),s=a(20),o=a.n(s),i=a(138),u=a(19),l={notify:function(e,t,a){u.a.notify({type:e,header:t,content:a})},templatesPath:"/api/reporting/templates",templatePath:function(e){return"/api/reporting/templates/".concat(e)},templateDownloadPath:function(e){return"/api/reporting/templates/".concat(e,"/download")},templateParametersPath:function(e){return"/api/reporting/templates/".concat(e,"/parameters")},generateTemplatePath:"/api/reporting/templates/generate",templateSamplePath:"/api/reporting/templates/sample",getTemplates:function(){var e=this;return Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get(e.templatesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),e.notify("error","Error",t.t0.response&&t.t0.response.data&&t.t0.response.data.error),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getTemplate:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.get(t.templatePath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},createTemplate:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.post(t.templatesPath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:if(200!==(r=a.sent).status){a.next=7;break}return u.a.notify({type:"success",header:"Created",content:"Tempalte successfully created"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},updateTemplate:function(e,t){var a=this;return Object(c.a)(n.a.mark((function r(){var c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.put(a.templatePath(e),t);case 3:if(200!==(c=r.sent).status){r.next=6;break}return r.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),a.notify("error","Error",r.t0.response&&r.t0.response.data&&r.t0.response.data.error),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},downloadTemplate:function(e,t){var a=this;return Object(c.a)(n.a.mark((function r(){var c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.post(a.templateDownloadPath(e),null,{responseType:"blob"});case 3:if(200!==(c=r.sent).status){r.next=7;break}return r.next=7,Object(i.downloadBlob)(t,c.data);case 7:r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),a.notify("error","Error",r.t0.response&&r.t0.response.data&&r.t0.response.data.error),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getTempalteParameters:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.get(t.templateParametersPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},generateTemplate:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.post(t.generateTemplatePath,e,{headers:{"Content-Type":"multipart/form-data"},responseType:"blob"});case 3:if(200!==(r=a.sent).status){a.next=7;break}return u.a.notify({type:"success",header:"Generated",content:"Tempalte successfully generated"}),a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()},getSample:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.post(t.templateSamplePath,{aggregation:e});case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},reportPath:function(e){return"/api/reporting/reports/".concat(e)},postReportGeneratePath:function(e){return"/api/reporting/reports/".concat(e,"/generate")},reportsPath:"/api/reporting/reports",getReports:function(){var e=this;return Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get(e.reportsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),e.notify("error","Error",t.t0.response&&t.t0.response.data&&t.t0.response.data.error),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getReport:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.get(t.reportPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addReport:function(e){var t=this;return Object(c.a)(n.a.mark((function a(){var r;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.post(t.reportsPath,e,{headers:{"Content-Type":"multipart/form-data"}});case 3:return r=a.sent,a.abrupt("return",r.data);case 7:throw a.prev=7,a.t0=a.catch(0),t.notify("error","Error",a.t0.response&&a.t0.response.data&&a.t0.response.data.error),a.t0;case 11:case"end":return a.stop()}}),a,null,[[0,7]])})))()},updateReport:function(e,t){var a=this;return Object(c.a)(n.a.mark((function r(){var c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.put(a.reportPath(e),t);case 3:return c=r.sent,r.abrupt("return",c.data);case 7:throw r.prev=7,r.t0=r.catch(0),a.notify("error","Error",r.t0.response&&r.t0.response.data&&r.t0.response.data.error),r.t0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()},generateReport:function(e,t){var a=this;return Object(c.a)(n.a.mark((function r(){var c;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.post(a.postReportGeneratePath(e),t,{responseType:"blob"});case 3:if(200!==(c=r.sent).status){r.next=6;break}return r.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),a.notify("error","Error",r.t0.response&&r.t0.response.data&&r.t0.response.data.error),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()}};t.a=l},382:function(e,t,a){e.exports=a(466)},466:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(23),s=a.n(c),o=a(51),i=a.n(o),u=a(11),l=a(8),p=a(552),m=a(29),d=a(40),f=a(127),h=a(545),b=a(533),v=a(26),g=a(514),E=a(515),x=a(518),O=a(519),w=a(520),j=a(521),y=a(522),S=a(523),k=a(524),A=a(525),P=a(470),T=a(560),I=a(513),C=a(323),N=a(209),U=a(60),R=a(199),D=a(517),F=a(324),z=a(325),L=a(79),B=a(468),W=a(505),_=a(322),M=a(373),V=a(2),G=a(254),H=Object(G.a)((function(e){return{root:{display:"flex"},title:{flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(v.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0},e.breakpoints.up("sm"),{width:e.spacing(7)+1}),avatar:{cursor:"pointer"}}})),Q=n.a.createContext({}),J=a(506),Y=a(507),q=a(508),K=a(509),X=a(510),Z=a(222),$=function(e){var t=e.code,a=e.grant,n=e.onReject,c=Object(Z.a)(e,["code","grant","onReject"]),s=Object(r.useContext)(Q),o=Object(r.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1];return Object(r.useEffect)((function(){p(s.Authorize(t,a))}),[s,t,a]),u?c.children:n?n():null},ee=function(){return n.a.createElement(B.a,{component:"div",disablePadding:!0},n.a.createElement($,{code:"SETTINGS",grant:"general"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/settings"},n.a.createElement(W.a,null,n.a.createElement(J.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"General"}))),n.a.createElement($,{code:"SETTINGS",grant:"users"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/settings/users"},n.a.createElement(W.a,null,n.a.createElement(Y.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Users"}))),n.a.createElement($,{code:"SETTINGS",grant:"appraisal-periods"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/settings/appraisal-periods"},n.a.createElement(W.a,null,n.a.createElement(q.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Appraisal-periods"}))),n.a.createElement($,{code:"SETTINGS",grant:"appraisal-items"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/settings/appraisal-items"},n.a.createElement(W.a,null,n.a.createElement(K.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Appraisal-items"}))),n.a.createElement($,{code:"SETTINGS",grant:"permissions"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/settings/permissions"},n.a.createElement(W.a,null,n.a.createElement(X.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Permissions"}))))},te=a(511),ae=a(512),re=function(){return n.a.createElement(B.a,{component:"div",disablePadding:!0},n.a.createElement($,{code:"REPORTS",grant:"read"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/reporting/reports"},n.a.createElement(W.a,null,n.a.createElement(te.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Reports"}))),n.a.createElement($,{code:"REPORT-TEMPLATES",grant:"read"},n.a.createElement(P.a,{button:!0,component:m.b,to:"/reporting/templates"},n.a.createElement(W.a,null,n.a.createElement(ae.a,{fontSize:"small"})),n.a.createElement(_.a,{secondary:"Templates"}))))},ne=function(e){var t=e.to,a=e.children;return n.a.createElement(P.a,{button:!0,component:m.b,to:t},a)};function ce(){var e,t,a=Object(r.useContext)(Q),c=Object(r.useState)(!1),s=Object(l.a)(c,2),o=s[0],i=s[1],p=Object(r.useState)(null),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)({settings:!1}),b=Object(l.a)(h,2),G=b[0],J=b[1],Y=H(),q=function(e){return function(){J((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(v.a)({},e,!t[e]))}))}},K=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&i(!o)},X=a.user?a.user.displayName||a.user.username:"Unknown",Z=n.a.createElement(T.a,{title:X,alt:X,onClick:function(e){f(e.currentTarget)},className:Y.avatar},a.user&&a.user.avatar);return n.a.createElement("div",null,n.a.createElement(I.a,{id:"app-bar-fixed",position:"fixed",className:Object(V.a)(Y.root,Y.appBar,Object(v.a)({},Y.appBarShift,o))},n.a.createElement(C.a,null,n.a.createElement(N.a,{edge:"start",color:"inherit","arial-label":"drawer",onClick:K,className:Object(V.a)(Y.menuButton,Object(v.a)({},Y.hide,o))},n.a.createElement(g.a,null)),n.a.createElement(E.a,{style:{marginRight:15}}),n.a.createElement(U.a,{variant:"h6",className:Object(V.a)(Y.title)},"Admin Tools"),a.user?n.a.createElement(C.a,null,Z,n.a.createElement(R.a,{id:"user-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(D.a,{href:"/api/logout",color:"inherit"},n.a.createElement(F.a,null,"Logout")))):n.a.createElement("div",null,a.userLoaded?n.a.createElement(D.a,{href:"/api/login",color:"inherit"},n.a.createElement(z.a,{edge:"end",color:"inherit"},"Login")):null))),n.a.createElement("div",{style:{width:"100%",height:document.getElementById("app-bar-fixed")?document.getElementById("app-bar-fixed").clientHeight:0}}),n.a.createElement(L.a,{id:"navigation-drawer",variant:"permanent",anchor:"left",open:o,onClose:function(){return i(!1)},className:Object(V.a)(Y.drawer,(e={},Object(v.a)(e,Y.drawerOpen,o),Object(v.a)(e,Y.drawerClose,!o),e)),classes:{paper:Object(V.a)((t={},Object(v.a)(t,Y.drawerOpen,o),Object(v.a)(t,Y.drawerClose,!o),t))}},n.a.createElement(N.a,{onClick:K},n.a.createElement(x.a,{fontSize:"large",style:{alignSelf:"center"}})),n.a.createElement(B.a,null,n.a.createElement(ne,{to:"/"},n.a.createElement(W.a,null,n.a.createElement(O.a,null)),n.a.createElement(_.a,{primary:"Home"})),n.a.createElement($,{code:"APPRAISAL PERIODS",grant:"read"},n.a.createElement(ne,{to:"/appraisals"},n.a.createElement(W.a,null,n.a.createElement(w.a,null)),n.a.createElement(_.a,{primary:"Appraisals"}))),n.a.createElement($,{code:"AUDITS",grant:"read"},n.a.createElement(ne,{to:"/audits"},n.a.createElement(W.a,null,n.a.createElement(j.a,null)),n.a.createElement(_.a,{primary:"Audits"}))),n.a.createElement($,{code:"REPORTS",grant:"read"},n.a.createElement(P.a,{button:!0,onClick:q("reports")},n.a.createElement(W.a,null,n.a.createElement(y.a,null)),n.a.createElement(_.a,{primary:"Reporting"}),G.reports?n.a.createElement(S.a,null):n.a.createElement(k.a,null)),n.a.createElement(M.a,{in:G.reports},n.a.createElement(re,null))),n.a.createElement($,{code:"SETTINGS",grant:"read"},n.a.createElement(P.a,{button:!0,onClick:q("settings")},n.a.createElement(W.a,null,n.a.createElement(A.a,null)),n.a.createElement(_.a,{primary:"Settings"}),G.settings?n.a.createElement(S.a,null):n.a.createElement(k.a,null)),n.a.createElement(M.a,{in:G.settings},n.a.createElement(ee,null))))))}var se=a(4),oe=a.n(se),ie=a(7),ue=a(534),le=a(537),pe=a(538),me=a(539),de=a(540),fe=a(530),he=a(535),be=a(20),ve=a.n(be);function ge(e){this.id=e.id?e.id:0,this.type=e.type,this.status=e.status?e.status:"Active",this.content=e.content?e.content:"",this.periodId=e.periodId,this.organizationId=e.organizationId?e.organizationId:null,this.user=e.user,this.modifiedUser=e.modifiedUser?e.modifiedUser:null,this.modifiedDate=e.modifiedDate?e.modifiedDate:null,this.createdUser=e.createdUser?e.createdUser:e.user,this.createdDate=e.createdDate?e.createdDate:new Date}var Ee=a(19),xe={and:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).every((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a[0]);case 8:return t.abrupt("return",a.find((function(e){return!1===e.result})));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},andSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},or:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.length){t.next=3;break}throw new Error("No validations provided");case 3:return t.next=5,Promise.all(e.map((function(e){return e()})));case 5:if(!(a=t.sent).some((function(e){return e.result}))){t.next=8;break}return t.abrupt("return",a.find((function(e){return e.result})));case 8:return t.abrupt("return",a[a.length-1]);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},orSync:function(e){return function(){try{var t,a=e.length;if(0===a)throw new Error("No validations provided");for(var r=0;r<a&&!(t=e[r]()).result;r+=1);return t}catch(n){return{result:!1,message:"error"}}}},not:function(e){return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:return(a=t.sent).result=!a.result,a.message="Not - ".concat(a.message),t.abrupt("return",a);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{result:!1,message:"error"});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))},notSync:function(e){return function(){try{var t=e();return t.result=!t.result,t}catch(a){return{result:!1,message:"error"}}}},perform:function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a,r,n=arguments;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(n.length>1&&void 0!==n[1])||n[1],e.next=3,t();case 3:if((r=e.sent).result){e.next=12;break}if(!a){e.next=9;break}throw new Error(r.message);case 9:return e.abrupt("return",r);case 10:e.next=13;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),performSync:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e();if(a.result)return a;if(t)throw new Error(a.message);return a}},Oe={userExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"User doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},userAuthorized:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{result:e.Authorize(t,a),message:"Access denied. Code: ".concat(t,", Grant: ").concat(a)});case 1:case"end":return r.stop()}}),r)})))}},we={isTruthy:function(e){return function(){return{result:Boolean(e),message:"".concat(e," is not true")}}}},je={securities:{REPORTS:{code:"REPORTS",description:"Access to view, generate, create and edit reports",grants:{read:"read",create:"create",update:"update",delete:"delete"}},APPRAISAL_DETAILS:{code:"APPRAISAL DETAILS",description:"Access to see, add, edit, delete Appraisal details for user himself",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished"}},APPRAISAL_DETAILS_OTHER:{code:"APPRAISAL DETAILS - OTHER USERS",description:"Access to see, add, edit, delete Appraisal details for other users within the team",grants:{read:"read",create:"create",update:"update",delete:"delete",createFinished:"create-finished",updateFinished:"update-finished",deleteFinished:"delete-finished",toggleLock:"toggle-lock"}},APPRAISAL_PERIODS:{code:"APPRAISAL PERIODS",description:"Access to see, add, edit, finish Appraisal Periods",grants:{read:"read",create:"create",update:"update",delete:"delete",finish:"finish"}},SETTINGS:{code:"SETTINGS",description:"Access to various settings. Be careful about following: users - will allow users to modify other users; permissions - will allow users to alter permissions",grants:{read:"read",general:"general",users:"users",appraisalItems:"appraisal-items",appraisalPeriods:"appraisal-periods",permissions:"permissions"}},AUDITS:{code:"AUDITS",description:"Access to request, execute, update, delete audits.",grants:{read:"read",create:"create",update:"update",delete:"delete"}},REPORT_TEMPLATES:{code:"REPORT-TEMPLATES",description:"Access to create and edit report templates",grants:{read:"read",create:"create",update:"update",delete:"delete"}}}},ye=xe.and,Se=xe.or,ke=xe.not,Ae=xe.perform,Pe=je.securities.APPRAISAL_DETAILS,Te=je.securities.APPRAISAL_DETAILS_OTHER,Ie=function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.status===t),message:"Period '".concat(e.name,"' status is not valid. Expected (").concat(t,")")});case 1:case"end":return a.stop()}}),a)})))},Ce={periodExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"Period doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},itemExists:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e),message:"Item doesn't exist."});case 1:case"end":return t.stop()}}),t)})))},periodStatus:Ie,periodLocked:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=e.users)){r.next=5;break}if(!(c=n.find((function(e){return e._id===t})))){r.next=5;break}return r.abrupt("return",{result:Boolean(c.locked),message:a||"Period is not locked"});case 5:return r.abrupt("return",{result:!1,message:a||"Period is not locked"});case 6:case"end":return r.stop()}}),r)})))},itemStatus:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.status===t),message:"Item '".concat(e.content,"' status is not valid. Expected '").concat(t,"'.")});case 1:case"end":return a.stop()}}),a)})))},itemType:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(e.type===t),message:"Item '".concat(e.content,"' type is not valid. Expected '").concat(t,"'.")});case 1:case"end":return a.stop()}}),a)})))},itemSameUser:function(e,t){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{result:Boolean(String(e.user)===String(t.id)),message:"Item '".concat(e.content,"'s user is not the same as '").concat(t.username,"'")});case 1:case"end":return a.stop()}}),a)})))},itemRelated:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e.relatedItemId),message:"Item is related."});case 1:case"end":return t.stop()}}),t)})))},itemContentNotNull:function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{result:Boolean(e.content.trim().length>0),message:"Item content is empty"});case 1:case"end":return t.stop()}}),t)})))},canInsert:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Ae(Se([ye([Ie(t,"Active"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.create)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.create)])])]),ye([Ie(t,"Finished"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.createFinished)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.createFinished)])])])]),!1),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))},canUpdate:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Ae(Se([ye([Ie(t,"Active"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.update)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.update)])])]),ye([Ie(t,"Finished"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.updateFinished)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.updateFinished)])])])]),!1),r.abrupt("return",n);case 2:case"end":return r.stop()}}),r)})))},canDelete:function(e,t,a){return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ae(Se([ye([Ie(t,"Active"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.delete)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.delete)])])]),ye([Ie(t,"Finished"),Se([ye([ke(we.isTruthy(a)),Oe.userAuthorized(e,Pe.code,Pe.grants.deleteFinished)]),ye([we.isTruthy(a),Oe.userAuthorized(e,Te.code,Te.grants.deleteFinished)])])])]),!1);case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))}},Ne=xe.and,Ue=xe.or,Re=xe.not,De=xe.perform,Fe=Object(u.a)(Object(u.a)(Object(u.a)({},Ce),Oe),we),ze={getPeriodsPath:"/api/periods",addPeriodsPath:"/api/periods",getItemsPath:function(e){return"/api/periods/".concat(e)},getUserItemsPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t)},toggleLockPeriodPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/toggle-lock")},getItemPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},getOrphansPath:"/api/appraisal-items",addItemPath:"/api/appraisal-items",updateItemPath:function(e){return"/api/appraisal-items/".concat(e)},deleteItemPath:function(e){return"/api/appraisal-items/".concat(e)},addItemToPeriodPath:function(e){return"/api/periods/".concat(e,"/items")},addUserItemPath:function(e,t){return"/api/periods/".concat(e,"/users/").concat(t,"/items")},updateItemInPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},updateUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},deleteItemFromPeriodPath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t)},deleteUserItemPath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a)},finishPeriodPath:function(e){return"/api/periods/".concat(e,"/finish")},updateItemTypePath:function(e,t){return"/api/periods/".concat(e,"/items/").concat(t,"/change-type")},updateUserItemTypePath:function(e,t,a){return"/api/periods/".concat(e,"/users/").concat(t,"/items/").concat(a,"/change-type")},getPeriods:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getPeriodsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getItems:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.get(t.getItemsPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrphans:function(){var e=arguments,t=this;return Object(ie.a)(oe.a.mark((function a(){var r,n;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,a.prev=1,a.next=4,ve.a.get(t.getOrphansPath,{params:{type:r}});case 4:if(200!==(n=a.sent).status){a.next=7;break}return a.abrupt("return",n.data);case 7:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 10:throw a.prev=10,a.t0=a.catch(1),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getUserItems:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.get(a.getUserItemsPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getItem:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.get(a.getItemPath(e,t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addItem:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ne([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,De(n);case 4:return r.next=6,ve.a.post(a.addItemToPeriodPath(e),Object(u.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},addOrphan:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.post(t.addItemPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},addUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ne([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,De(c);case 4:return n.next=6,ve.a.post(r.addUserItemPath(e,t),Object(u.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),Ee.a.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemInPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ne([Fe.itemContentNotNull(t),Fe.isTruthy(t.user),Fe.isTruthy(t.periodId)]),r.next=4,De(n);case 4:return r.next=6,ve.a.put(a.updateItemInPeriodPath(e,t.id),Object(u.a)({},t));case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateItem:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r,n;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=Ne([Fe.itemContentNotNull(e),Fe.isTruthy(e.user)]),a.next=4,De(r);case 4:return a.next=6,ve.a.put(t.updateItemPath(e.id),e);case 6:if(200!==(n=a.sent).status){a.next=9;break}return a.abrupt("return",n.data);case 9:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 12:throw a.prev=12,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 16:case"end":return a.stop()}}),a,null,[[0,12]])})))()},updateUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ne([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,De(c);case 4:return n.next=6,ve.a.put(r.updateUserItemPath(e,t,a.id),Object(u.a)({},a));case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),Ee.a.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},updateItemType:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n,c;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=Ne([Fe.itemContentNotNull(t),Fe.isTruthy(t.user)]),r.next=4,De(n);case 4:return r.next=6,ve.a.post(a.updateItemTypePath(e,t.id),{type:t.type});case 6:if(200!==(c=r.sent).status){r.next=9;break}return r.abrupt("return",c.data);case 9:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 12:throw r.prev=12,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},updateUserItemType:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c,s;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=Ne([Fe.itemContentNotNull(a),Fe.isTruthy(a.user)]),n.next=4,De(c);case 4:return n.next=6,ve.a.post(r.updateUserItemTypePath(e,t,a.id),{type:a.type});case 6:if(200!==(s=n.sent).status){n.next=9;break}return n.abrupt("return",s.data);case 9:throw new Error("Server response: ".concat(s.status," - ").concat(s.statusText));case 12:throw n.prev=12,n.t0=n.catch(0),Ee.a.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 16:case"end":return n.stop()}}),n,null,[[0,12]])})))()},deleteItemFromPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.delete(a.deleteItemFromPeriodPath(e,t));case 3:if(204!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deleteItem:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.delete(t.deleteItemPath(e));case 3:if(204!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},deleteUserItem:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ve.a.delete(r.deleteUserItemPath(e,t,a));case 3:if(204!==(c=n.sent).status){n.next=6;break}return n.abrupt("return",c.data);case 6:throw new Error("Server response: ".concat(c.status," - ").concat(c.statusText));case 9:throw n.prev=9,n.t0=n.catch(0),Ee.a.notify({type:"error",header:"Error",content:n.t0.response&&n.t0.response.data.error||n.t0.message}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addPeriod:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.post(t.addPeriodsPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},finishPeriod:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.post(t.finishPeriodPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",!0);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},toggleLockPeriod:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t){r.next=3;break}throw new Error("User is unknown");case 3:return r.next=5,ve.a.post(a.toggleLockPeriodPath(e,t));case 5:if(200!==(n=r.sent).status){r.next=8;break}return r.abrupt("return",n.data);case 8:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText));case 11:throw r.prev=11,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response&&r.t0.response.data.error||r.t0.message}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},blankItem:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Active";return new ge({type:a,status:r,periodId:e,user:t?t.id:null})},normalizeSet:function(e,t,a,r,n){var c=a.slice().filter((function(e){return null!==e.user}));if(!t)return c;if("Feedback"===n&&a.length>0)return c;0===c.map((function(e,t){return t})).filter((function(e){return""===c[e].content})).length&&c.push(this.blankItem(e,t,n));for(var s=r-c.length;s>0;)c.push(this.blankItem(e,t,n)),s-=1;return c},addItemToSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.addItem(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{value:null,error:r.t0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},addUserItemToSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.addUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",{value:null,error:n.t0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},deleteItemFromSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.deleteItemFromPeriod(e,t.id);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteUserItemFromSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.deleteUserItem(e,t,a.id);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()},updateItemInSet:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.updateItemInPeriod(e,t);case 3:return n=r.sent,r.abrupt("return",{value:n,error:null});case 7:return r.prev=7,r.t0=r.catch(0),r.next=11,a.getItem(e,t.id);case 11:return r.t1=r.sent,r.t2=r.t0,r.abrupt("return",{value:r.t1,error:r.t2});case 14:case"end":return r.stop()}}),r,null,[[0,7]])})))()},updateUserItemInSet:function(e,t,a){var r=this;return Object(ie.a)(oe.a.mark((function n(){var c;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.updateUserItem(e,t,a);case 3:return c=n.sent,n.abrupt("return",{value:c,error:null});case 7:return n.prev=7,n.t0=n.catch(0),n.next=11,r.getItem(e,a.id);case 11:return n.t1=n.sent,n.t2=n.t0,n.abrupt("return",{value:n.t1,error:n.t2});case 14:case"end":return n.stop()}}),n,null,[[0,7]])})))()}},Le=a(526),Be=a(527),We=a(528),_e=a(334),Me=a(255),Ve=a(256),Ge=a(211),He=a(262),Qe=function(e){var t=e.open,a=e.selectValues,c=e.handleSubmit,s=e.handleClose,o=Object(r.useContext)(Q),i=Object(r.useState)(""),u=Object(l.a)(i,2),p=u[0],m=u[1],d=Object(r.useState)(a[0]),f=Object(l.a)(d,2),h=f[0],b=f[1],v=function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),e.next=4,c(p,h,o.user.organization.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Le.a,{open:t,onClose:function(e){b(a[0]),s(e)},"aria-labelledby":"new-period-dialog"},n.a.createElement(Be.a,{id:"new-period-dialog"},"Create new period"),n.a.createElement(We.a,null,n.a.createElement("form",{onSubmit:v},n.a.createElement(_e.a,null,n.a.createElement(Me.a,{color:"primary",required:!0},n.a.createElement(Ve.a,{htmlFor:"new-period-name"},"Period name"),n.a.createElement(Ge.a,{id:"new-period-name",name:"name",value:p,onChange:function(e){m(e.target.value)}})),n.a.createElement(Me.a,{color:"primary",required:!0},n.a.createElement(Ve.a,{htmlFor:"new-period-status"},"Status"),n.a.createElement(He.a,{id:"new-period-status",name:"status",value:h,onChange:function(e){b(e.target.value)}},a?a.map((function(e){return n.a.createElement(F.a,{key:e,value:e},e)})):null)),n.a.createElement(Me.a,{style:{margin:20}},n.a.createElement(z.a,{type:"submit",color:"primary",variant:"contained"},"Save")))))))},Je=function(e){var t=e.context,a=e.open,r=e.handleClose,c=e.setItems,s=function(){var e=Object(ie.a)(oe.a.mark((function e(a,n,s){var o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.addPeriod({name:a,status:n,organizationId:s,createdUser:t.user.id});case 2:o=e.sent,c((function(e){return e.slice().concat(o)})),r(),Ee.a.notify({type:"success",header:"Created",content:"Period '".concat(a,"' created")});case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Qe,{open:a,selectValues:["Active","Finished"],handleSubmit:s,handleClose:r}))},Ye=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.userLoaded){e.next=2;break}return e.abrupt("return");case 2:null===s.user&&c(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),n.a.createElement(n.a.Fragment,null,a?n.a.createElement(d.a,{to:"/login"}):null)},qe=function(e){var t=e.periodId,a=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.getItems(t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a]),null},Ke=a(360),Xe=a(102),Ze=a(249),$e=a(335),et=a(336),tt=a(337),at=a(529),rt=a(531),nt=a(479),ct=a(375),st=Object(G.a)((function(e){return{root:{width:"80%"},feedBackInput:{width:"90%","& textarea":{minHeight:300}},startAdornment:{cursor:"pointer","& > *:last-child":{marginRight:e.spacing(1)}}}})),ot=function(e){var t=e.item,a=e.idx,c=e.changeHandler,s=e.blurHandler,o=e.removeHandler,i=e.changeTypeHandler,p=e.canInsert,m=e.canUpdate,f=e.canDelete,h=st(),b=Object(r.useState)(Object(u.a)({},t)),v=Object(l.a)(b,2),g=v[0],E=v[1],x=Object(r.useState)(!1),O=Object(l.a)(x,2),w=O[0],j=O[1],y=Object(r.useState)(null),S=Object(l.a)(y,2),k=S[0],A=S[1],P=Object(d.h)().userId,T=Object(r.useState)({isRelated:!1,isDeletable:!1,isFinished:!1,inputEditable:!1}),I=Object(l.a)(T,2),C=I[0],D=I[1];Object(r.useEffect)((function(){var e=!0;function a(){return(a=Object(ie.a)(oe.a.mark((function a(){var r,n,c,s,o,i,u,d,h,b;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=[De(Fe.itemRelated(t),!1),De(Fe.itemStatus(t,"Finished"),!1),De(Ne([Re(Fe.itemRelated(t)),Ue([Re(Fe.isTruthy(P)),Fe.isTruthy(P)])]),!1)],a.next=3,Promise.all(r);case 3:n=a.sent,c=Object(l.a)(n,3),s=c[0],o=c[1],i=c[2],u=s.result,d=o.result,h=(p||m)&&i.result,b=f&&!u,e&&D({isRelated:u,isDeletable:b,isFinished:d,inputEditable:h});case 13:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return E(Object(u.a)({},t)),function(){a.apply(this,arguments)}(),function(){e=!1}}),[t,p,m,f,P]);var z=function(){A(null)},L=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),r=w,j(!1),e.next=5,s(g,a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){return Object(ie.a)(oe.a.mark((function a(){return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===t.id){a.next=3;break}return a.next=3,i(t.id,e);case 3:z();case 4:case"end":return a.stop()}}),a)})))},M=function(){var e=Object(ie.a)(oe.a.mark((function e(r){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.persist(),E(Object(u.a)(Object(u.a)({},t),{},{content:""})),e.next=4,o(g,a);case 4:j(!1),z();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=C.isRelated?n.a.createElement($e.a,{position:"start",className:h.startAdornment},n.a.createElement(et.a,{title:"This item was added automatically from your previous appraisals","aria-label":"historical item"},n.a.createElement(at.a,null))):null,H=n.a.createElement($e.a,{position:"end",className:h.startAdornment},n.a.createElement(N.a,{"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:function(e){A(e.currentTarget)}},n.a.createElement(fe.a,null)),n.a.createElement(R.a,{id:"item-menu-".concat(t.id,"-").concat(a),anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:z,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(F.a,{disabled:!C.isDeletable,"aria-label":"delete appraisal item",onClick:M},n.a.createElement(W.a,null,n.a.createElement(rt.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Delete"})),-1!==t.type.indexOf("Planned")?n.a.createElement(F.a,{"aria-label":"Move item to Achieved",onClick:B(t.type.replace("Planned","Achieved"))},n.a.createElement(W.a,null,n.a.createElement(nt.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Achieved"})):null,-1!==t.type.indexOf("Achieved")?n.a.createElement(F.a,{"aria-label":"move item to Planned",onClick:B(t.type.replace("Achieved","Planned"))},n.a.createElement(W.a,null,n.a.createElement(ct.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Planned"})):null)),Q=n.a.createElement(n.a.Fragment,null,n.a.createElement(U.a,{variant:"caption"},n.a.createElement("strong",null,"Created user:")," ",t.createdUser&&t.createdUser.username),n.a.createElement("br",null),n.a.createElement(U.a,{variant:"caption"},n.a.createElement("strong",null,"Created date:")," ",t.createdDate&&new Date(t.createdDate).toLocaleString()),t.modifiedUser?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(U.a,{variant:"caption"},n.a.createElement("strong",null,"Modified user:")," ",t.modifiedUser&&t.modifiedUser.username)):null,t.modifiedUser?n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(U.a,{variant:"caption"},n.a.createElement("strong",null,"Modified date:")," ",t.modifiedDate&&new Date(t.modifiedDate).toLocaleString())):null);return n.a.createElement(et.a,{title:Q,enterDelay:500,disableHoverListener:0===t.id,disableFocusListener:!0},n.a.createElement(tt.a,{className:Object(V.a)("Feedback"===t.type?h.feedBackInput:h.root),id:"app-item-".concat(t.type.toLowerCase(),"-").concat(a),value:g.content,size:"small",variant:"outlined",multiline:!0,onChange:function(e){E(Object(u.a)(Object(u.a)({},t),{},{content:e.target.value})),c(Object(u.a)(Object(u.a)({},g),{},{content:e.target.value}),a,!w),j(!0)},onBlur:L,disabled:!C.inputEditable,InputProps:{startAdornment:G,endAdornment:"Feedback"!==t.type&&[p,m,f].some((function(e){return e}))?H:null}}))},it=Object(G.a)((function(e){return{header:{textAlign:"center"},border:{border:"1px solid black"},listItem:{justifyContent:"center",padding:0},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}})),ut=function(e){var t=e.context,a=e.items,c=e.setItems,s=e.details,o=e.type,i=e.setOtherItems,p={Achieved:"Achieved",Planned:"Planned",Training_Planned:"Planned",Training_Achieved:"Achieved",SWOT_S:"Strengths",SWOT_W:"Weaknesses",SWOT_O:"Opportunities",SWOT_T:"Threats",Feedback:"Remarks / Other feedback"},m=s.id,f=it(),h={Achieved:5,Planned:5,Training_Planned:3,Training_Achieved:3,SWOT_S:5,SWOT_W:5,SWOT_O:5,SWOT_T:5,Feedback:1}[o]||0,b=Object(r.useState)({canInsert:!1,canUpdate:!1,canDelete:!1}),v=Object(l.a)(b,2),g=v[0],E=v[1],x=Object(d.h)().userId,O=t.user;Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var a,r,n,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=6;break}return e.next=3,Fe.periodLocked(s,O.id)();case 3:e.t0=e.sent.result,e.next=7;break;case 6:e.t0=!1;case 7:return a=e.t0,e.next=10,Fe.periodStatus(s,"Finished")();case 10:if(e.sent.result&&(a=!1),a){e.next=23;break}return e.next=15,De(Fe.canInsert(t,s,x),!1);case 15:return r=e.sent.result,e.next=18,De(Fe.canUpdate(t,s,x),!1);case 18:return n=e.sent.result,e.next=21,De(Fe.canDelete(t,s,x),!1);case 21:c=e.sent.result,E((function(e){return Object(u.a)(Object(u.a)({},e),{},{canInsert:r,canUpdate:n,canDelete:c})}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c(ze.normalizeSet(m,t.user,a,h,o)),function(){e.apply(this,arguments)}()}),[]);var w=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",ze.addItemToSet(t,a));case 2:return e.abrupt("return",ze.addUserItemToSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),j=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",ze.updateItemInSet(t,a));case 2:return e.abrupt("return",ze.updateUserItemInSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),y=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,a){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return",ze.deleteItemFromSet(t,a));case 2:return e.abrupt("return",ze.deleteUserItemFromSet(t,x,a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[x]),S=Object(r.useCallback)((function(e,t,a){a&&c((function(a){var r=a.slice();return r[t].content=e.content,ze.normalizeSet(m,O,r,h,o)}))}),[O,m,o,h,c]),k=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t||!i){e.next=8;break}if(!(n=a.find((function(e){return e.id===t})))){e.next=8;break}return n.type=r,e.next=6,j(m,n);case 6:(s=e.sent).error||(c((function(e){return ze.normalizeSet(m,O,e.filter((function(e){return e.id!==s.value.id})),h,r)})),i((function(e){return ze.normalizeSet(m,O,e.filter((function(e){return""!==e.content})).concat(s.value),h,r)})));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[O,i,h,a,m,c,j]),A=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Number.isNaN(r)||!(r<a.length)){e.next=9;break}if(0===t.id){e.next=8;break}return e.next=5,y(m,a[r]);case 5:if(null===(n=e.sent).error){e.next=8;break}throw n.error;case 8:c((function(e){var a=e.filter((function(e){return e.id!==t.id}));return ze.normalizeSet(m,O,a,h,o)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),c((function(e){var a=e.slice();return a[r]=t,ze.normalizeSet(m,O,a,h,o)}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),[O,a,m,o,h,y,c]),T=Object(r.useCallback)(function(){var e=Object(ie.a)(oe.a.mark((function e(t,r,n){var s,i,u,l,p;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<a.length&&t.type===o)){e.next=22;break}if(s=0===t.id&&t.content,i=0!==t.id&&""===t.content,!s){e.next=10;break}return e.next=6,w(m,t);case 6:u=e.sent,c((function(e){var a=e.slice();return u.error?(a[r]=t,a[r].content=""):a[r]=u.value,ze.normalizeSet(m,O,a,h,o)})),e.next=22;break;case 10:if(!i){e.next=17;break}return e.next=13,y(m,t);case 13:l=e.sent,c((function(e){var a=e.slice();return l.error?l.value&&(a[r]=l.value):a=a.filter((function(e){return e.id!==t.id})),ze.normalizeSet(m,O,a,h,o)})),e.next=22;break;case 17:if(s||i||!n||""===t.content){e.next=22;break}return e.next=20,j(m,t);case 20:p=e.sent,c((function(e){var a;return p.error?(a=e.slice(),p.value&&(a[r]=p.value)):a=e.map((function(e){return e.id===t.id?p.value:e})),ze.normalizeSet(m,O,a,h,o)}));case 22:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),[O,a,m,o,h,w,y,j,c]);return n.a.createElement(Ze.a,null,n.a.createElement("h3",{className:f.header},p[o]),n.a.createElement(B.a,null,a.map((function(e,t){var a=0===e.id?t:e.id;return n.a.createElement(P.a,{className:f.listItem,key:a},n.a.createElement(ot,{item:e,idx:t,label:p[o],changeHandler:S,blurHandler:T,removeHandler:A,changeTypeHandler:k,canInsert:g.canInsert,canUpdate:g.canUpdate,canDelete:g.canDelete}))}))))};ut.defaultProps={setOtherItems:null};var lt=ut,pt=a(559),mt={getUsersPath:"/api/users",updateUsersPath:function(e){return"/api/users/".concat(e)},getUserPath:function(e){return"/api/users/user/".concat(e)},getUserOrganizationsPath:"/api/users/organizations",getUserTeamMembersPath:"/api/users/team-members",getSettingsUsersPath:"/api/settings/users",putSettingsUsersPath:function(e){return"/api/settings/users/".concat(e)},normalizeUser:function(e){var t=e;return t.role&&t.role.id&&(t.role=t.role.id),t.organization&&t.organization.id&&(t.organization=t.organization.id),t.organizations=t.organizations.map((function(e){return e.id||e})),t},getUsers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSettingsUsers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getSettingsUsersPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUser:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.get(t.getUserPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updateUser:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.put(a.updateUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateSettingsUser:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.put(a.putSettingsUsersPath(e),a.normalizeUser(t));case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:throw new Error("Server response: ".concat(n.status," - ").concat(n.statusText,"\n"));case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getUserOrganizations:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getUserOrganizationsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserTeamMembers:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getUserTeamMembersPath);case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},dt=function(e){var t=e.onUserSelect,a=e.defaultValue,c=e.className,s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mt.getUserTeamMembers();case 2:a=t.sent,e&&u(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]);return n.a.createElement(pt.a,{defaultValue:a,className:c,id:"users-autocomplete",options:i,getOptionLabel:function(e){return e.username},getOptionSelected:function(e,t){return t&&e.id===t.id},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{label:"Team-members",variant:"outlined"}))},onChange:function(e,a){t&&t(a)}})},ft=function(e){var t=e.defaultValue,a=e.className,c=Object(d.h)().id,s=Object(d.g)(),o=Object(r.useState)(t||null),i=Object(l.a)(o,2),u=i[0],p=i[1],m=Object(r.useCallback)((function(e){return e?s.push("/appraisals/".concat(c,"/user/").concat(e.id)):p(e)}),[s,c]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(dt,{value:u,onUserSelect:function(e){return m(e)},className:a,defaultValue:t}))};ft.defaultProps={defaultValue:null};var ht=ft,bt=Object(G.a)((function(e){return{header:{textAlign:"center",marginTop:e.spacing(2),marginBottom:e.spacing(2)},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"}}})),vt=function(e){var t=e.context,a=e.periodDetails,c=bt(),s=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),o=Object(l.a)(s,2),i=o[0],u=o[1],p=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(a.items.filter((function(e){return"Training_Planned"===e.type}))),v=Object(l.a)(h,2),g=v[0],E=v[1],x=Object(r.useState)(a.items.filter((function(e){return"Training_Achieved"===e.type}))),O=Object(l.a)(x,2),w=O[0],j=O[1],y=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),S=Object(l.a)(y,2),k=S[0],A=S[1],P=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),I=Object(l.a)(P,2),C=I[0],N=I[1],R=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),D=Object(l.a)(R,2),F=D[0],z=D[1],L=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),B=Object(l.a)(L,2),W=B[0],_=B[1],M=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),V=Object(l.a)(M,2),G=V[0],H=V[1],Q=Object(r.useState)(!1),J=Object(l.a)(Q,2),Y=J[0],q=J[1],K=t.user;return Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var r;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.periodLocked(a,K.id)();case 2:r=t.sent.result,e&&q(r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[a,K.id]),n.a.createElement(b.a,{maxWidth:"md",className:c.conatiner},n.a.createElement(U.a,{variant:"h4",className:c.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(ue.a,{container:!0},n.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(ue.a,{item:!0,xs:12,className:c.middleFlex},n.a.createElement(ht,{className:c.userInput}))),n.a.createElement(ue.a,{item:!0,xs:12,className:c.middleFlex},K?n.a.createElement(Ke.a,{avatar:n.a.createElement(T.a,null),label:K.username,color:"secondary"}):null),n.a.createElement(ue.a,{item:!0,xs:12,className:c.middleFlex},Y?n.a.createElement(Ke.a,{icon:n.a.createElement(he.a,null),label:"Locked",color:"text-secondary"}):null),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:c.inputBlock},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{className:c.middleFlex,variant:"h6"},"Objectives")),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:i,setItems:u,type:"Achieved",setOtherItems:f})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:d,setItems:f,type:"Planned",setOtherItems:u}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{className:c.middleFlex,variant:"h6",align:"center"},"Trainings")),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:w,setItems:j,type:"Training_Achieved",setOtherItems:E})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:g,setItems:E,type:"Training_Planned",setOtherItems:j}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:k,setItems:A,type:"SWOT_S"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:C,setItems:N,type:"SWOT_W"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:F,setItems:z,type:"SWOT_O"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:W,setItems:_,type:"SWOT_T"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(c.inputBlock," ").concat(c.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(lt,{context:t,details:a,items:G,setItems:H,type:"Feedback"})))))},gt=function(e){var t=e.periodId,a=e.userId,n=e.setUserDetails,c=e.setPeriodDetails;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt.getUser(a);case 2:return r=e.sent,n(r),e.next=6,ze.getUserItems(t,a);case 6:s=e.sent,c(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,c,n]),null},Et=a(536),xt=Object(G.a)((function(e){return{header:{textAlign:"center",marginTop:e.spacing(2),marginBottom:e.spacing(2)},middleFlex:{display:"flex",justifyContent:"center",marginBottom:e.spacing(2)},border:{border:"1px solid black"},listItem:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},inputBlock:{padding:e.spacing(4)},topMargin:{marginTop:e.spacing(4)},conatiner:{"& > *:last-child":{marginBottom:e.spacing(5)}},userInput:{width:"50%"},buttonsCenter:{flexFlow:"column nowrap",alignItems:"center"}}})),Ot=function(e){var t=e.context,a=e.periodDetails,c=e.userDetails,s=e.handleLockButton,o=xt(),i=Object(r.useState)(a.items.filter((function(e){return"Achieved"===e.type}))),u=Object(l.a)(i,2),p=u[0],m=u[1],d=Object(r.useState)(a.items.filter((function(e){return"Planned"===e.type}))),f=Object(l.a)(d,2),h=f[0],v=f[1],g=Object(r.useState)(a.items.filter((function(e){return"Training_Planned"===e.type}))),E=Object(l.a)(g,2),x=E[0],O=E[1],w=Object(r.useState)(a.items.filter((function(e){return"Training_Achieved"===e.type}))),j=Object(l.a)(w,2),y=j[0],S=j[1],k=Object(r.useState)(a.items.filter((function(e){return"SWOT_S"===e.type}))),A=Object(l.a)(k,2),P=A[0],I=A[1],C=Object(r.useState)(a.items.filter((function(e){return"SWOT_W"===e.type}))),N=Object(l.a)(C,2),R=N[0],D=N[1],F=Object(r.useState)(a.items.filter((function(e){return"SWOT_O"===e.type}))),L=Object(l.a)(F,2),B=L[0],W=L[1],_=Object(r.useState)(a.items.filter((function(e){return"SWOT_T"===e.type}))),M=Object(l.a)(_,2),V=M[0],G=M[1],H=Object(r.useState)(a.items.filter((function(e){return"Feedback"===e.type}))),Q=Object(l.a)(H,2),J=Q[0],Y=Q[1],q=Object(r.useState)(!1),K=Object(l.a)(q,2),X=K[0],Z=K[1],ee=Object(r.useState)(!1),te=Object(l.a)(ee,2),ae=te[0],re=te[1];return Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var r,n;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.periodLocked(a,c.id)();case 2:return r=t.sent.result,t.next=5,Fe.periodStatus(a,"Finished")();case 5:n=t.sent.result,e&&(Z(r),re(n));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[a,c.id]),n.a.createElement(b.a,{maxWidth:"md",className:o.conatiner},n.a.createElement(U.a,{variant:"h4",className:o.header},"Details",a.name?" '".concat(a.name,"'"):null),n.a.createElement(ue.a,{container:!0},n.a.createElement($,{code:"APPRAISAL DETAILS - OTHER USERS",grant:"read"},n.a.createElement(ue.a,{item:!0,xs:12,className:o.middleFlex},n.a.createElement(ht,{defaultValue:c,className:o.userInput}))),n.a.createElement(ue.a,{item:!0,xs:12,className:o.middleFlex},c?n.a.createElement(Ke.a,{avatar:n.a.createElement(T.a,null),label:c.username,color:"primary"}):null),n.a.createElement(ue.a,{item:!0,xs:12,className:o.middleFlex},X?n.a.createElement(Ke.a,{icon:n.a.createElement(he.a,null),label:"Locked",color:"text-secondary"}):null),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:o.inputBlock},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{className:o.middleFlex,variant:"h6"},"Objectives")),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:p,setItems:m,type:"Achieved",setOtherItems:v})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:h,setItems:v,type:"Planned",setOtherItems:m}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{className:o.middleFlex,variant:"h6",align:"center"},"Trainings")),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:y,setItems:S,type:"Training_Achieved",setOtherItems:O})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:x,setItems:O,type:"Training_Planned",setOtherItems:S}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:P,setItems:I,type:"SWOT_S"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:R,setItems:D,type:"SWOT_W"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:B,setItems:W,type:"SWOT_O"})),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(lt,{context:t,details:a,items:V,setItems:G,type:"SWOT_T"}))),n.a.createElement(ue.a,{container:!0,item:!0,xs:12,component:Xe.a,className:"".concat(o.inputBlock," ").concat(o.topMargin)},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(lt,{context:t,details:a,items:J,setItems:Y,type:"Feedback"}))),n.a.createElement($,{code:je.securities.APPRAISAL_DETAILS_OTHER.code,grant:je.securities.APPRAISAL_DETAILS_OTHER.grants.toggleLock},ae?null:n.a.createElement(ue.a,{container:!0,item:!0,xs:12,className:o.buttonsCenter},n.a.createElement(ue.a,{item:!0,xs:12,className:o.topMargin},n.a.createElement(z.a,{startIcon:X?n.a.createElement(Et.a,null):n.a.createElement(he.a,null),variant:"contained",color:"secondary",onClick:s},X?"Unlock":"Lock"))))))},wt=function(e){var t=e.context,a=Object(r.useState)(null),c=Object(l.a)(a,2),s=c[0],o=c[1],p=Object(r.useState)(null),m=Object(l.a)(p,2),f=m[0],h=m[1],b=Object(d.h)().id,v=Object(d.h)().userId;Object(r.useEffect)((function(){o(null),h(null)}),[v]);var g,E=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=5;break}return e.next=3,ze.toggleLockPeriod(s.id,v);case 3:t=e.sent,o((function(e){return e?Object(u.a)(Object(u.a)({},e),{},{users:t.users.slice()}):e}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g=v?n.a.createElement(n.a.Fragment,null,null===s||null===f?n.a.createElement(gt,{periodId:b,userId:v,setUserDetails:h,setPeriodDetails:o}):n.a.createElement(Ot,{context:t,periodDetails:s,userDetails:f,handleLockButton:E})):n.a.createElement(n.a.Fragment,null,null===s?n.a.createElement(qe,{periodId:b,setPeriodDetails:o}):n.a.createElement(vt,{context:t,periodDetails:s})),n.a.createElement(i.a,{title:s&&s.name},g)},jt=function(e){var t=e.code,a=e.grant,c=e.to,s=e.failureNotification,o=Object(Z.a)(e,["code","grant","to","failureNotification"]),i=Object(r.useContext)(Q),u=Object(r.useState)(!1),p=Object(l.a)(u,2),m=p[0],f=p[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),v=b[0],g=b[1],E=Object(r.useState)(!1),x=Object(l.a)(E,2),O=x[0],w=x[1];Object(r.useEffect)((function(){var e=i.Authorize(t,a);f(e),i.security&&(g(!e),!s||e||O||(Ee.a.notify(s),w(!0)))}),[i,t,a,s,O]);var j=null;return m&&(j=o.children),v&&(j=n.a.createElement(d.a,{to:c||"/"})),j},yt=function(){var e=Object(r.useContext)(Q);return n.a.createElement(b.a,{maxWidth:"md"},n.a.createElement(Ye,null),n.a.createElement(jt,{code:je.securities.APPRAISAL_DETAILS.code,grant:je.securities.APPRAISAL_DETAILS.grants.read,to:"/appraisals",failureNotification:{type:"info",header:"No access",content:"You have no access to this page. Please contact your administrator"}},n.a.createElement(wt,{context:e})))},St=Object(G.a)((function(e){return{noDataText:{textAlign:"center",paddingBottom:e.spacing(3),paddingTop:e.spacing(3),color:e.palette.text.secondary}}})),kt=function(e){var t=e.collection,a=e.children,r=St();return 0===t.length?n.a.createElement(U.a,{className:r.noDataText,variant:"subtitle1"},"No data..."):a},At=Object(G.a)((function(e){return{header:{textAlign:"center"},centerButton:{display:"flex",justifyContent:"center",margin:e.spacing(10,0)},card:{minWidth:300,width:"15vw",padding:e.spacing(2),margin:e.spacing(2),display:"flex",flexDirection:"column"},cardActions:{height:"100%"},gridFlex:{display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-evenly"},linkDecoration:{textDecoration:"none",alignSelf:"flex-end"}}})),Pt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],p=o[1],f=Object(r.useContext)(Q),h=At(),v=Object(d.i)().path,g=Object(r.useState)(null),E=Object(l.a)(g,2),x=E[0],O=E[1],w=function(e){O(e.currentTarget)},j=function(){O(null)},y=function(e){return Object(ie.a)(oe.a.mark((function t(){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze.finishPeriod(e.id);case 2:t.sent&&c((function(t){return t.map((function(t){return t.id===e.id?Object(u.a)(Object(u.a)({},e),{},{status:"Finished"}):t}))})),j();case 5:case"end":return t.stop()}}),t)})))};return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,ze.getPeriods();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:v},n.a.createElement(b.a,{maxWidth:"md"},n.a.createElement(Ye,null),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",{className:h.header},"Appraisals")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h2",{className:h.header},"Opened")),n.a.createElement(ue.a,{item:!0,xs:12,className:h.gridFlex},n.a.createElement(kt,{collection:a.filter((function(e){return"Active"===e.status}))},a.filter((function(e){return"Active"===e.status})).map((function(e){return n.a.createElement(le.a,{key:e.id,className:h.card},n.a.createElement(pe.a,{action:n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{"data-itemid":e.id,"aria-label":"menu",color:"inherit",tabIndex:-1,onClick:w},n.a.createElement(fe.a,null)),n.a.createElement(R.a,{id:"item-menu-".concat(e.id),anchorEl:x,keepMounted:!0,open:Boolean(x)&&x.dataset.itemid===e.id,onClose:j,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(F.a,{onClick:y(e)},n.a.createElement(W.a,null,n.a.createElement(he.a,{fontSize:"small"})),n.a.createElement(_.a,{primary:"Finish"})))),title:e.name,subheader:e.status}),n.a.createElement(me.a,null,n.a.createElement(U.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(de.a,{className:h.cardActions},n.a.createElement(m.b,{to:"/appraisals/".concat(e.id),className:h.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h2",{className:h.header},"Closed")),n.a.createElement(ue.a,{item:!0,xs:12,className:h.gridFlex},n.a.createElement(kt,{collection:a.filter((function(e){return"Active"!==e.status}))},a.filter((function(e){return"Active"!==e.status})).map((function(e){return n.a.createElement(le.a,{key:e.id,className:h.card},n.a.createElement(pe.a,{action:n.a.createElement(N.a,{"aria-label":"actions"},n.a.createElement(fe.a,null)),title:e.name,subheader:e.status}),n.a.createElement(me.a,null,n.a.createElement(U.a,{variant:"body1",component:"p"},"Created by:"," ",e.createdUser.username),n.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},new Date(e.createdDate).toLocaleString())),n.a.createElement(de.a,{className:h.cardActions},n.a.createElement(m.b,{to:"/appraisals/".concat(e.id),className:h.linkDecoration},n.a.createElement(z.a,{variant:"contained",color:"primary"},"Open"))))})))),n.a.createElement(ue.a,{item:!0,xs:12,className:h.centerButton},n.a.createElement(z.a,{onClick:function(){return p(!0)},variant:"contained",color:"primary"},"New Period")),n.a.createElement(Je,{open:i,context:f,handleClose:function(){return p(!1)},setItems:c})))),n.a.createElement(d.b,{exact:!0,path:"".concat(v,"/:id/user/:userId")},n.a.createElement(yt,{ctx:f,setCtx:f.setContext})),n.a.createElement(d.b,{path:"".concat(v,"/:id")},n.a.createElement(yt,{ctx:f,setCtx:f.setContext}))))},Tt=a(541),It=a(338),Ct=a(358),Nt=a(542),Ut=a(376),Rt=Object(G.a)((function(e){return{grid:{flexDirection:"row",alignItems:"center"},header:{textAlign:"center"},subheader:{textAlign:"center",color:e.palette.text.secondary},divider:{marginTop:e.spacing(1)},addInput:{width:"90%"},itemAchievedText:{textDecoration:"line-through"}}})),Dt=function(e){var t=e.items,a=e.setItems,c=Rt(),s=Object(r.useState)(""),o=Object(l.a)(s,2),i=o[0],p=o[1],m=function(){var e=Object(ie.a)(oe.a.mark((function e(t,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.updateItem(Object(u.a)(Object(u.a)({},t),{},{type:r}));case 2:n=e.sent,a((function(e){var a=Object(u.a)(Object(u.a)({},t),{},{type:n.type});return e.map((function(e){return e.id===t.id?a:e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(e){return function(t){t.target.checked?m(e,"Achieved"):m(e,"Planned")}},f=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var r,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=7;break}return r={content:t,createdDate:new Date,modifiedDate:new Date,status:"Active",type:"Planned",periodId:null,relatedItemId:null},e.next=4,ze.addOrphan(r);case 4:n=e.sent,a((function(e){return e.concat(n)})),p("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze.deleteItem(t.id);case 2:a((function(e){return e.filter((function(e){return e.id!==t.id}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(Ze.a,{border:1,borderColor:"secondary.main",borderRadius:3,p:3},n.a.createElement(U.a,{className:c.header,variant:"h6"},"Planned items"),n.a.createElement(U.a,{className:c.subheader,variant:"subtitle2"},"Here you will see items planned over past periods"),n.a.createElement(Tt.a,{className:c.divider}),n.a.createElement(kt,{collection:t},n.a.createElement(B.a,null,t.map((function(e){return n.a.createElement(P.a,{dense:!0},n.a.createElement(It.a,{className:Object(V.a)(Object(v.a)({},c.itemAchievedText,"Achieved"===e.type)),control:n.a.createElement(Ct.a,{name:e.content,checked:"Achieved"===e.type,onChange:d(e)}),label:e.content}),n.a.createElement(Nt.a,null,n.a.createElement(N.a,{disabled:null!==e.relatedItemId,onClick:function(){return h(e)}},n.a.createElement(Ut.a,null))))})))),n.a.createElement(ue.a,{container:!0,className:c.grid},n.a.createElement(ue.a,{item:!0,xs:6},n.a.createElement(tt.a,{className:c.addInput,variant:"filled",size:"small",label:"Add New",color:"secondary",value:i,onChange:function(e){p(e.target.value)}})),n.a.createElement(ue.a,{item:!0,xs:6},n.a.createElement(z.a,{variant:"contained",color:"secondary",disabled:""===i,onClick:function(){return f(i)}},"Add"))))},Ft=function(e){var t=e.setItems;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,ze.getOrphans("Planned");case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),null},zt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ft,{setItems:c}),n.a.createElement(Dt,{items:a,setItems:c}))},Lt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"HomePage"),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement($,{code:"APPRAISAL DETAILS",grant:"read"},n.a.createElement(zt,null)))))},Bt=Object(G.a)((function(){return{root:{}}})),Wt=a(543),_t={palette:{type:"dark"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Mt={palette:{type:"light"},typography:{fontFamily:["Roboto","Arial",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},Vt=function(){var e=Object(r.useContext)(Q),t=Object(r.useState)(e.userPreferences.theme.palette.type),a=Object(l.a)(t,2),c=a[0],s=a[1];return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{variant:"h4"},"General Settings")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(U.a,{variant:"h6"},"Appearence:")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(ue.a,{component:"label",container:!0,alignItems:"center",spacing:1},n.a.createElement(ue.a,{item:!0},"Light"),n.a.createElement(ue.a,{item:!0},n.a.createElement(Wt.a,{checked:"dark"===c,onChange:function(t){var a;a=t.target.checked?"dark":"light",s(a),localStorage.setItem("theme",a),e.setContext((function(t){return Object(u.a)(Object(u.a)({},t),{},{userPreferences:Object(u.a)(Object(u.a)({},e.userPreferences),{},{theme:"light"===a?Object(f.a)(Mt):Object(f.a)(_t)})})}))}})),n.a.createElement(ue.a,{item:!0},"Dark"))))},Gt=a(107),Ht=a(116),Qt=a.n(Ht),Jt=a(120),Yt={getTeamsPath:"/api/teams/",addTeamPath:"/api/teams",validate:function(e){if(!e)throw new Error("Team name missing");return!0},getTeams:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getTeamsPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("Server response: ".concat(a.status," - ").concat(a.statusText));case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addTeam:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.validate(e),a.next=4,ve.a.post(t.addTeamPath,{team:e});case 4:if(200!==(r=a.sent).status){a.next=7;break}return a.abrupt("return",r.data);case 7:throw new Error("Server response: ".concat(r.status," - ").concat(r.statusText));case 10:throw a.prev=10,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},qt={getRolesPath:"/api/security/roles",getCurrentUserSecuritiesPath:"/api/security/permissions/me",getUserSecuritiesPath:function(e){return"/api/security/permissions/user/".concat(e)},getOrganizationUsersSecuritiesPath:"/api/security/permissions/organization",getRolesSecuritiesPath:"/api/security/permissions/role",getPermissionCodesPath:"/api/security/permissions/code",addPermissionPath:"/api/security/permissions",updatePermissionPath:function(e){return"/api/security/permissions/".concat(e)},deletePermissionPath:function(e){return"/api/security/permissions/".concat(e)},getRoles:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getRolesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getCurrentUserSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUserSecurities:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.get(t.getUserSecuritiesPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},getOrganizationUsersSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getOrganizationUsersSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getRolesSecurities:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getRolesSecuritiesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getPermissionCodes:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.getPermissionCodesPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:throw t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:t.t0.response.data&&t.t0.response.data.error||t.t0.message}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addPermission:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.post(t.addPermissionPath,e);case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},updatePermission:function(e,t){var a=this;return Object(ie.a)(oe.a.mark((function r(){var n;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ve.a.put(a.updatePermissionPath(e),t);case 3:if(200!==(n=r.sent).status){r.next=6;break}return r.abrupt("return",n.data);case 6:return r.abrupt("return",null);case 9:throw r.prev=9,r.t0=r.catch(0),Ee.a.notify({type:"error",header:"Error",content:r.t0.response.data&&r.t0.response.data.error||r.t0.message}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},deletePermission:function(e){var t=this;return Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ve.a.delete(t.deletePermissionPath(e));case 3:if(200!==(r=a.sent).status){a.next=6;break}return a.abrupt("return",r.data);case 6:return a.abrupt("return",null);case 9:throw a.prev=9,a.t0=a.catch(0),Ee.a.notify({type:"error",header:"Error",content:a.t0.response.data&&a.t0.response.data.error||a.t0.message}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,9]])})))()},Authorize:function(e,t){try{if(this.security){var a=this.security.map((function(e){return e.code})).indexOf(e);if(-1!==a)return-1!==this.security[a].grants.indexOf(t)}return!1}catch(r){return Ee.a.notify({type:"error",header:"Error",content:r.response.data&&r.response.data.error||r.message}),!1}}},Kt=function(e){var t=e.rowData,a=e.onChange,r=e.teams;return n.a.createElement(pt.a,{multiple:!0,id:"tags-standard",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.teams,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{variant:"standard",label:"Multiple values",placeholder:"Favorites"}))}})},Xt=function(e){var t=e.rowData,a=e.onChange,r=e.global;return n.a.createElement(pt.a,{multiple:!0,id:"tags-standard-organizations",options:r.user.organizations,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.organizations,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{variant:"standard",label:"Organizaions",placeholder:"Organizations"}))}})},Zt=function(e){var t=e.rowData,a=e.onChange,r=e.roles;return n.a.createElement(pt.a,{id:"tags-standard-role",options:r,getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.name===t.name},value:t.role,onChange:function(e,t){a(t)},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{variant:"standard",label:"Roles",placeholder:"Roles"}))}})},$t=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],p=o[1],m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useContext)(Q),v=[{title:"Username",field:"username",editable:"never"},{title:"Teams",field:"teams",render:function(e){return e.teams.map((function(e){return e.name})).join(", ")},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Kt,{rowData:t,onChange:a,teams:i})}},{title:"Organizations",field:"organizations",render:function(e){return e.organizations?e.organizations.map((function(e){return e.name})).join(", "):null},customFilterAndSearch:function(e,t){var a=e.toLowerCase();return t.organizations.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a)})).length>0},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Xt,{rowData:t,onChange:a,global:b})}},{title:"Role",field:"role",render:function(e){return e.role&&e.role.name},editComponent:function(e){var t=e.rowData,a=e.onChange;return n.a.createElement(Zt,{rowData:t,onChange:a,roles:f})}}],g={onRowUpdate:function(e,t){return new Promise((function(r,n){function s(){return(s=Object(ie.a)(oe.a.mark((function s(){var o,i,l,p;return oe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,o=Object(Gt.a)(a),i=t.tableData.id,l=t.organization||null,!t.organization&&e.organizations.length?l=e.organizations[0].id:0===e.organizations.length&&(l=null),s.next=7,mt.updateSettingsUser(e.id,Object(u.a)(Object(u.a)({},e),{},{teams:e.teams.map((function(e){return e.id})),organizations:e.organizations.map((function(e){return e.id})),organization:l}));case 7:p=s.sent,o[i]=p,c((function(){return o})),r(),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),n(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))).apply(this,arguments)}!function(){s.apply(this,arguments)}()})).catch((function(e){throw e}))}};return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var t,a,r,n,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([mt.getSettingsUsers(),Yt.getTeams(),qt.getRoles()]);case 2:t=e.sent,a=Object(l.a)(t,3),r=a[0],n=a[1],s=a[2],c((function(){return r})),p((function(){return n})),h((function(){return s}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"Users Settings")),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Qt.a,{icons:Jt.a.tableIcons,title:"Users",columns:v,data:a,options:{searchFieldAlignment:"left"},editable:g})))},ea=function(){return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalPeriods Settings")))},ta=function(){return n.a.createElement(ue.a,{container:!0},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement("h1",null,"AppraisalItems Settings")))},aa=a(558),ra=a(548),na=function(e){var t=e.setLoaded,a=e.setPermissionCodes,n=e.setRoles,c=e.setUsers,s=e.setRolePermissions,o=e.setUserPermissions;return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var r,i,l,p,m,d,f;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.getPermissionCodes();case 2:return r=e.sent,a(r.sort((function(e,t){return e.code<t.code?-1:1}))),e.next=6,qt.getRoles();case 6:return i=e.sent,n(i.sort((function(e,t){return e.name<t.name?-1:1}))),e.next=10,mt.getSettingsUsers();case 10:return l=e.sent,c(l.sort((function(e,t){return e.username<t.username?-1:1}))),e.next=14,qt.getRolesSecurities();case 14:return p=e.sent,m={},p.forEach((function(e){m[e.reference.name]=Object(u.a)(Object(u.a)({},m[e.reference.name]),{},Object(v.a)({},e.code.code,e))})),s(m),e.next=20,qt.getOrganizationUsersSecurities();case 20:d=e.sent,f={},d.forEach((function(e){f[e.reference.username]=Object(u.a)(Object(u.a)({},f[e.reference.username]),{},Object(v.a)({},e.code.code,e))})),o(f),t(!0);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,t,n,c,s,o]),null},ca=a(549),sa=a(551),oa=a(550),ia=Object(G.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),ua=function(e){var t=e.codes,a=e.roles,c=e.rolePermissions,s=e.setRolePermissions,o=e.selectedRole,i=e.setSelectedRole,p=ia(),m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useState)(""),g=Object(l.a)(b,2),E=g[0],x=g[1],O=function(e,t,a){s((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(v.a)({},e.name,Object(u.a)(Object(u.a)({},r[e.name]),{},Object(v.a)({},t.code,a))))}))},w=function(){var e=Object(ie.a)(oe.a.mark((function e(t,a,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.addPermission({grants:[r],code:a.id,permissionType:"Role",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){return function(){var r=Object(ie.a)(oe.a.mark((function r(n){var s,o,i,l,p;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.name]&&c[e.name][t.code]){r.next=8;break}return r.next=4,w(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return o=[].concat(Object(Gt.a)(c[e.name][t.code].grants),[a]),r.next=12,j(Object(u.a)(Object(u.a)({},c[e.name][t.code]),{},{grants:o}));case 12:(i=r.sent)&&O(e,t,i),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.name][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,y(c[e.name][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(u.a)(Object(u.a)({},c[e.name][t.code]),{},{grants:l}));case 26:(p=r.sent)&&O(e,t,p);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.name]&&c[e.name][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(ue.a,{container:!0,className:p.root},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(pt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.name},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{label:"Roles",variant:"outlined"}))},onChange:function(e,t){i(t)},value:o,className:p.selector})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,{variant:"outlined",className:p.toolBar},n.a.createElement(tt.a,{id:"role-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?h([]):h(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(ue.a,{item:!0,xs:12},o?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(ca.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){h(a?function(e){return[].concat(Object(Gt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(sa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(k.a,null)},n.a.createElement("div",{className:p.permissionDescription},n.a.createElement(U.a,null,e.code),n.a.createElement(U.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(oa.a,{className:p.permissionBox},e.grants.map((function(t){return n.a.createElement(_e.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(It.a,{value:t,label:n.a.createElement(U.a,{variant:"button"},t),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(o,e,t)}),onChange:S(o,e,t),labelPlacement:"start"}))}))));var t})):null))},la=Object(G.a)((function(e){return{root:{marginTop:e.spacing(5),"& > * + *":{marginTop:e.spacing(3)},"& > *:last-child":{marginBottom:e.spacing(5)}},selector:{maxWidth:"300px",margin:"0 auto"},toolBar:{padding:e.spacing(3),display:"flex",flexFlow:"row nowrap","& > * + *":{marginLeft:e.spacing(3)}},permissionDescription:{display:"flex",flexFlow:"column nowrap"},permissionBox:{display:"flex",flexFlow:"column nowrap"}}})),pa=function(e){var t=e.codes,a=e.users,c=e.userPermissions,s=e.setUserPermissions,o=e.selectedUser,i=e.setSelectedUser,p=la(),m=Object(r.useState)([]),d=Object(l.a)(m,2),f=d[0],h=d[1],b=Object(r.useState)(""),g=Object(l.a)(b,2),E=g[0],x=g[1],O=function(e,t,a){s((function(r){return Object(u.a)(Object(u.a)({},r),{},Object(v.a)({},e.username,Object(u.a)(Object(u.a)({},r[e.username]),{},Object(v.a)({},t.code,a))))}))},w=function(){var e=Object(ie.a)(oe.a.mark((function e(t,a,r){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.addPermission({grants:[r],code:a.id,permissionType:"User",reference:t.id});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qt.updatePermission(t.id,t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qt.deletePermission(t.id);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,a){return function(){var r=Object(ie.a)(oe.a.mark((function r(n){var s,o,i,l,p;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.persist(),c[e.username]&&c[e.username][t.code]){r.next=8;break}return r.next=4,w(e,t,a);case 4:(s=r.sent)&&O(e,t,s),r.next=28;break;case 8:if(!n.target.checked){r.next=16;break}return o=[].concat(Object(Gt.a)(c[e.username][t.code].grants),[a]),r.next=12,j(Object(u.a)(Object(u.a)({},c[e.username][t.code]),{},{grants:o}));case 12:(i=r.sent)&&O(e,t,i),r.next=28;break;case 16:if(n.target.checked){r.next=28;break}if(0!==(l=c[e.username][t.code].grants.filter((function(e){return e!==a}))).length){r.next=24;break}return r.next=21,y(c[e.username][t.code]);case 21:O(e,t,null),r.next=28;break;case 24:return r.next=26,j(Object(u.a)(Object(u.a)({},c[e.username][t.code]),{},{grants:l}));case 26:(p=r.sent)&&O(e,t,p);case 28:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},A=function(e,t,a){var r=c[e.username]&&c[e.username][t.code];return!!r&&-1!==r.grants.indexOf(a)};return n.a.createElement(ue.a,{container:!0,className:p.root},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(pt.a,{id:"security-role-select",options:a,getOptionLabel:function(e){return e.username},renderInput:function(e){return n.a.createElement(tt.a,Object.assign({},e,{label:"Users",variant:"outlined"}))},onChange:function(e,t){i(t)},value:o,className:p.selector})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,{variant:"outlined",className:p.toolBar},n.a.createElement(tt.a,{id:"user-permissions-search",label:"Search",size:"small",value:E,onChange:function(e){x(e.target.value)}}),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f.length===t.length?h([]):h(t.map((function(e){return e.code})))}},f.length!==t.length?"Expand All":"Collapse All"))),n.a.createElement(ue.a,{item:!0,xs:12},o?t.filter((function(e){return-1!==e.code.toLowerCase().indexOf(E.toLowerCase())})).map((function(e){return n.a.createElement(ca.a,{key:e.id,expanded:-1!==f.indexOf(e.code),onChange:(t=e.code,function(e,a){h(a?function(e){return[].concat(Object(Gt.a)(e),[t])}:function(e){return e.filter((function(e){return e!==t}))})})},n.a.createElement(sa.a,{"aria-controls":"permission-content",expandIcon:n.a.createElement(k.a,null)},n.a.createElement("div",{className:p.permissionDescription},n.a.createElement(U.a,null,e.code),n.a.createElement(U.a,{variant:"caption",gutterBottom:!0},e.description))),n.a.createElement(oa.a,{className:p.permissionBox},n.a.createElement(_e.a,{"aria-label":"overrule",row:!0,key:"".concat(e.id,"-$'overrule'")},n.a.createElement(It.a,{value:"overrule",label:n.a.createElement(U.a,{variant:"button"},"overrule"),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(o,e,"overrule")}),onChange:S(o,e,"overrule"),labelPlacement:"start"})),e.grants.map((function(t){return n.a.createElement(_e.a,{"aria-label":t,row:!0,key:"".concat(e.id,"-").concat(t)},n.a.createElement(It.a,{value:t,label:n.a.createElement(U.a,{variant:"button"},t),control:n.a.createElement(Ct.a,{color:"secondary",checked:A(o,e,t)}),onChange:S(o,e,t),labelPlacement:"start"}))}))));var t})):null))},ma=function(e){var t=e.value,a=e.setValue;return n.a.createElement(Ze.a,{mt:2},n.a.createElement(I.a,{position:"static",color:"transparent",elevation:0},n.a.createElement(aa.a,{value:t,onChange:function(e,t){a(t)},centered:!0,mt:5},n.a.createElement(ra.a,{label:"Roles"}),n.a.createElement(ra.a,{label:"Users"}))))};function da(e){var t=e.children,a=e.value,r=e.index;return n.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},a===r&&n.a.createElement(Ze.a,null,t))}var fa=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)({}),b=Object(l.a)(h,2),v=b[0],g=b[1],E=Object(r.useState)({}),x=Object(l.a)(E,2),O=x[0],w=x[1],j=Object(r.useState)(null),y=Object(l.a)(j,2),S=y[0],k=y[1],A=Object(r.useState)(null),P=Object(l.a)(A,2),T=P[0],I=P[1],C=Object(r.useState)(0),N=Object(l.a)(C,2),U=N[0],R=N[1],D=Object(r.useState)(!1),F=Object(l.a)(D,2),z=F[0],L=F[1];return Object(r.useEffect)((function(){k((function(e){return null===e&&i.length>0?i[0]:e}))}),[i]),Object(r.useEffect)((function(){I((function(e){return null===e&&d.length>0?d[0]:e}))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement(na,{setLoaded:L,setPermissionCodes:c,setRoles:u,setUsers:f,setRolePermissions:g,setUserPermissions:w}),z?n.a.createElement(n.a.Fragment,null,n.a.createElement(ma,{value:U,setValue:R}),n.a.createElement(da,{value:U,index:0},n.a.createElement(ua,{codes:a,roles:i,rolePermissions:v,setRolePermissions:g,selectedRole:S,setSelectedRole:k})),n.a.createElement(da,{value:U,index:1},n.a.createElement(pa,{codes:a,users:d,userPermissions:O,setUserPermissions:w,selectedUser:T,setSelectedUser:I}))):null)},ha=function(){return n.a.createElement(fa,null)},ba=function(){var e=Object(d.i)().path,t=Bt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye,null),n.a.createElement(b.a,{maxWidth:"lg",className:t.root},n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:e},n.a.createElement(jt,{code:"SETTINGS",grant:"general",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Vt,null))),n.a.createElement(d.b,{path:"".concat(e,"/users")},n.a.createElement(jt,{code:"SETTINGS",grant:"users",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Users"},n.a.createElement($t,null)))),n.a.createElement(d.b,{path:"".concat(e,"/appraisal-periods")},n.a.createElement(jt,{code:"SETTINGS",grant:"appraisal-periods",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - appraisal periods"},n.a.createElement(ea,null)))),n.a.createElement(d.b,{path:"".concat(e,"/appraisal-items")},n.a.createElement(jt,{code:"SETTINGS",grant:"appraisal-items",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - appraisal items"},n.a.createElement(ta,null)))),n.a.createElement(d.b,{path:"".concat(e,"/permissions")},n.a.createElement(jt,{code:"SETTINGS",grant:"permissions",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Settings - Securities"},n.a.createElement(ha,null)))))))},va=a(138),ga=a(37),Ea=a(94),xa=function(e){var t=e.template,a=e.params,c=e.handleUpdate,s=Object(r.useState)([]),o=Object(l.a)(s,2),i=o[0],p=o[1],m=Object(r.useState)({name:"",defaultValue:"",path:""}),d=Object(l.a)(m,2),f=d[0],h=d[1],b=function(e){return function(t){var a=t.target.value;h((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(v.a)({},e,a))}))}},g=function(e,t){return function(a){var r=a.target.value;c((function(a){return Object(u.a)(Object(u.a)({},a),{},{parameters:a.parameters.map((function(a){return a.path===e?Object(u.a)(Object(u.a)({},a),{},Object(v.a)({},t,r)):a}))})}))}};return Object(r.useEffect)((function(){var e=!0;function a(){return(a=Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ga.a.getTempalteParameters(t.id);case 2:r=a.sent,e&&p(r);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!1}}),[]),n.a.createElement(B.a,{dense:!0,className:"owl fullWidth"},a.map((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(P.a,null,n.a.createElement("div",{className:"flexColumn owl"},n.a.createElement(tt.a,{label:"Name",variant:"outlined",value:e.name,onChange:g(e.path,"name")}),n.a.createElement(tt.a,{label:"Default Value",variant:"outlined",value:e.defaultValue,onChange:g(e.path,"defaultValue")}),n.a.createElement(tt.a,{label:"Path",variant:"outlined",disabled:!0,value:e.path})),n.a.createElement(Nt.a,null,n.a.createElement(N.a,{edge:"end","aria-label":"delete",onClick:(t=e.path,function(){c((function(e){return Object(u.a)(Object(u.a)({},e),{},{parameters:e.parameters.filter((function(e){return e.path!==t}))})}))})},n.a.createElement(rt.a,null)))),n.a.createElement(Tt.a,null));var t})),n.a.createElement(P.a,{className:"flexColumn owl"},n.a.createElement(U.a,{variant:"body1"},"Add new:"),n.a.createElement(tt.a,{label:"Name",variant:"outlined",value:f.name,onChange:b("name")}),n.a.createElement(tt.a,{label:"Default value",variant:"outlined",value:f.defaultValue,onChange:b("defaultValue")}),n.a.createElement(tt.a,{label:"Parameter",variant:"outlined",value:f.path,helperText:"Select the path meant to be modified",onChange:b("path"),select:!0},n.a.createElement(F.a,{value:""},n.a.createElement("em",null,"None")),i.map((function(e){return e.paths.map((function(t){return n.a.createElement(F.a,{disabled:a.length&&-1!==a.find((function(a){return a.path==="".concat(e.name,".").concat(t)})),value:"".concat(e.name,".").concat(t)},"".concat(e.name,".").concat(t))}))}))),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){""!==f.name&&""!==f.path&&(c((function(e){return Object(u.a)(Object(u.a)({},e),{},{parameters:e.parameters.concat(f)})})),h({name:"",defaultValue:"",path:""}))},disabled:!(f.name.length&&f.path.length)},"Add")))},Oa=function(e){var t=e.params,a=e.handleUpdate;return n.a.createElement(n.a.Fragment,null,t.map((function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ze.a,{className:"flexColumn owl"},n.a.createElement(U.a,{variant:"body1"},n.a.createElement("strong",null,"Name: ")," ",e.name),n.a.createElement(U.a,{variant:"body1"},n.a.createElement("strong",null,"Path: ")," ",e.path),n.a.createElement(tt.a,{label:"Value",variant:"standard",value:e.value,onChange:a(t)})),n.a.createElement(Tt.a,{style:{width:"100%"}}))})))},wa=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(null),o=Object(l.a)(s,2),i=o[0],p=o[1],m=Object(r.useState)({}),f=Object(l.a)(m,2),h=f[0],g=f[1],E=Object(r.useState)([]),x=Object(l.a)(E,2),O=x[0],w=x[1],j=Object(d.h)().id,y=function(e){g({name:e.name,description:e.description,parameters:e.parameters})};Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ga.a.getReport(j);case 2:a=t.sent,e&&(p(a),y(a),w(a.parameters.map((function(e){return{name:e.name,value:e.defaultValue,path:e.path}}))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[j]);var S=function(e){return function(t){var a=t.currentTarget.value;g((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(v.a)({},e,a))}))}},k=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.a.generateReport(j,O);case 2:return t=e.sent,e.next=5,Object(va.downloadBlob)(i.template.filename,t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return e.next=3,ga.a.updateReport(i.id,h);case 3:t=e.sent,p(t),y(t),w(t.parameters.map((function(e){return{name:e.name,value:e.defaultValue,path:e.path}}))),c(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=null;return i&&(P=n.a.createElement(ue.a,{container:!0,className:"owl"},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ea.a,{text:i.name})),n.a.createElement(ue.a,{item:!0,xs:12,container:!0,component:Xe.a},n.a.createElement(Ze.a,{p:2,className:"flexColumn owl"},n.a.createElement(U.a,{variant:"h6"},"General: "),n.a.createElement(tt.a,{label:"Name",variant:"outlined",disabled:!a,value:h.name,onChange:S("name")}),n.a.createElement(tt.a,{label:"Description",variant:"outlined",disabled:!a,multiline:!0,value:h.description,onChange:S("description")}))),n.a.createElement(ue.a,{item:!0,xs:12,container:!0,component:Xe.a},n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(Ze.a,{p:2,width:"100%",className:"flexColumn owl"},n.a.createElement(U.a,{variant:"h6"},"Parameters: "),n.a.createElement(Tt.a,{style:{width:"100%"}}),a?n.a.createElement(xa,{params:h.parameters,handleUpdate:g,template:i.template}):n.a.createElement(Oa,{params:O,handleUpdate:function(e){return function(t){var a=t.currentTarget.value;w((function(t){var r=t.slice();return r[e].value=a,r}))}}}))),n.a.createElement(ue.a,{item:!0,xs:12,sm:6},n.a.createElement(Ze.a,{p:2},n.a.createElement(Ze.a,{mb:1},n.a.createElement(U.a,{variant:"h6"},"Aggregation: ")),n.a.createElement(tt.a,{multiline:!0,fullWidth:!0,variant:"outlined",label:"Aggregation",disabled:!0,value:JSON.stringify(JSON.parse(i.template.aggregation),null,4)})))),n.a.createElement(ue.a,{item:!0,xs:12,component:Xe.a},n.a.createElement(Ze.a,{className:"flexRow owlHorizontal",p:2},n.a.createElement(z.a,{disabled:Boolean(a),variant:"contained",color:"secondary",onClick:k},"Generate"),a?n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:A},"Save"):n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){c(!0)}},"Edit"))))),n.a.createElement(b.a,{maxWidth:"lg"},P)},ja=a(352),ya=a(344),Sa=a(345),ka=a(341),Aa=Object(G.a)((function(e){return{textField:{width:"30%"}}})),Pa=function(){var e=Aa(),t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],p=i[1],m=Object(r.useState)(""),f=Object(l.a)(m,2),h=f[0],v=f[1],g=Object(r.useState)(""),E=Object(l.a)(g,2),x=E[0],O=E[1],w=Object(r.useState)([]),j=Object(l.a)(w,2),y=j[0],S=j[1],k=Object(r.useState)([]),A=Object(l.a)(k,2),P=A[0],T=A[1],I=Object(r.useState)([]),C=Object(l.a)(I,2),N=C[0],R=C[1],D=Object(d.g)(),L=function(e){return function(t){e(t.target.value)}},B=function(e){return function(t){t.persist(),R((function(a){var r=a.slice();return r[e].name=t.target.value,r}))}},W=function(e){return function(t){t.persist(),R((function(a){var r=a.slice();return r[e].defaultValue=t.target.value,r}))}},_=function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),t.preventDefault(),(a=new FormData).append("name",c),a.append("description",u),a.append("template",h),a.append("parameters",JSON.stringify(N)),e.next=9,ga.a.addReport(a);case 9:e.sent&&(D.push("/reporting/reports"),Ee.a.notify({type:"success",header:"Report created",content:"Report successfully created"}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ga.a.getTemplates();case 2:a=t.sent,e&&S(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]),Object(r.useEffect)((function(){var e=!0;function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""===h){t.next=7;break}return t.next=3,ga.a.getTempalteParameters(h);case 3:(a=t.sent).length&&e&&T(a),t.next=8;break;case 7:T([]);case 8:R([]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[h]),n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement("form",{onSubmit:_},n.a.createElement(ue.a,{container:!0,className:"owl"},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ea.a,{text:"Create Report"})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,null,n.a.createElement(Ze.a,{p:2,className:"centerFlexColumn owl"},n.a.createElement(U.a,{variant:"h6",align:"center"},"General:"),n.a.createElement(tt.a,{className:e.textField,label:"Name",variant:"outlined",required:!0,onChange:L(s)}),n.a.createElement(tt.a,{className:e.textField,label:"Description",variant:"outlined",multiline:!0,required:!0,onChange:L(p)}),n.a.createElement(tt.a,{className:e.textField,label:"Template",variant:"outlined",value:h,onChange:function(e){v(e.target.value)},required:!0,select:!0},n.a.createElement(F.a,{value:""},n.a.createElement("em",null,"None")),y.map((function(e){return n.a.createElement(F.a,{value:e.id},e.name)})))))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,null,n.a.createElement(Ze.a,{p:2,className:"centerFlexColumn owl"},n.a.createElement(U.a,{variant:"h6",align:"center"},"Parameters:"),n.a.createElement(tt.a,{label:"Parameter",className:e.textField,variant:"outlined",onChange:function(e){O(e.target.value)},select:!0},n.a.createElement(F.a,{value:""},n.a.createElement("em",null,"None")),P.map((function(e){return e.paths.map((function(t){return n.a.createElement(F.a,{value:"".concat(e.name,".").concat(t)},"".concat(e.name,".").concat(t))}))}))),n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(e){""!==x&&R((function(e){return-1===N.map((function(e){return e.name})).indexOf(x)?e.concat({name:x,defaultValue:"",path:x}):(O(""),e)}))}},"Add Parameter"),N.length?n.a.createElement(ja.a,null,n.a.createElement(ya.a,null,N.map((function(e,t){return n.a.createElement(Sa.a,{key:e.path},n.a.createElement(ka.a,{style:{display:"flex",flexFlow:"column nowrap",alignItems:"center"}},n.a.createElement(tt.a,{label:"Name",value:e.name,onChange:B(t)}),n.a.createElement(tt.a,{label:"Default value",value:e.defaultValue,onChange:W(t)}),n.a.createElement(tt.a,{label:"Path",disabled:!0,value:e.path})))})))):null))),n.a.createElement(ue.a,{item:!0,xs:12,className:"centerFlexColumn"},n.a.createElement(z.a,{type:"submit",variant:"contained",color:"secondary"},"Create")))))},Ta=a(6),Ia=function(e){var t=e.setReports;return Object(r.useEffect)((function(){var e=!0;function a(){return(a=Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ga.a.getReports();case 2:r=a.sent,e&&t(r);case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){e=!1}}),[t]),null};Ia.propTypes={setReports:a.n(Ta).a.func.isRequired};var Ca=Ia,Na=function(){var e=Object(d.g)(),t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(d.i)().path;return n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement(Ca,{setReports:s}),n.a.createElement(ue.a,{container:!0,className:"owl"},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ea.a,{text:"Reports"})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,null,n.a.createElement(Ze.a,{p:2,className:"centerFlexRow"},n.a.createElement(m.b,{to:"".concat(o,"/new"),className:"textDecorationOff"},n.a.createElement(z.a,{variant:"contained",color:"secondary"},"New Report"))))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Qt.a,{icons:Jt.a.tableIcons,title:"",columns:[{title:"Name",field:"name"},{title:"Description",field:"description",cellStyle:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:100}},{title:"Organization",field:"organizationId.name"},{title:"Parameters",render:function(e){return e.parameters.map((function(e){return e.name})).join(", ")},cellStyle:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:100}},{title:"Created user",field:"createdUser.username"},{title:"Created date",render:function(e){return new Date(e.createdDate).toLocaleString()}}],data:c,onRowClick:function(t,a){return e.push("".concat(o,"/").concat(a.id))}}))))},Ua=function(){var e=Object(d.i)().path;return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:e},n.a.createElement(Na,null)),n.a.createElement(d.b,{exact:!0,path:"".concat(e,"/new")},n.a.createElement(Pa,null)),n.a.createElement(d.b,{exact:!0,path:"".concat(e,"/:id")},n.a.createElement(wa,null))))},Ra=a(467).default,Da=Object(G.a)((function(e){return{paddedContainer:{padding:e.spacing(1),"& > * + *":{marginTop:e.spacing(1)}},row:{display:"block"},textarea:{width:"100%","& textarea":{width:"100%"}},ceneteredItems:{display:"flex",flexFlow:"row nowrap",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}}})),Fa=function(){var e=Object(d.h)().id,t=Object(r.useState)(null),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Da(),i=Object(r.useState)(!1),p=Object(l.a)(i,2),m=p[0],f=p[1],h=Object(r.useState)({}),g=Object(l.a)(h,2),E=g[0],x=g[1],O=function(e){x({name:e.name,filename:e.filename,aggregation:e.aggregation})},w=function(e){return function(t){var a=t.currentTarget.value;x((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(v.a)({},e,a))}))}},j=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.a.updateTemplate(c.id,E);case 2:t=e.sent,s(t),f(!1),O(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){var t=!0;function a(){return(a=Object(ie.a)(oe.a.mark((function a(){var r;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ga.a.getTemplate(e);case 2:r=a.sent,t&&(s(r),O(r));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return function(){a.apply(this,arguments)}(),function(){t=!1}}),[e]),!c)return null;var y=n.a.createElement(ue.a,{container:!0,className:o.paddedContainer},n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Ea.a,{text:"Details - ".concat(c.name)})),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,{title:"Meta",className:o.paddedContainer},n.a.createElement(U.a,{variant:"caption",className:o.row},n.a.createElement("strong",null,"Created user:")," ",c.createdUser&&c.createdUser.username||""),n.a.createElement(U.a,{variant:"caption",className:o.row},n.a.createElement("strong",null,"Created date:")," ",c.createdDate&&new Date(c.createdDate).toLocaleString()||""),c.modifiedUser&&n.a.createElement(U.a,{variant:"caption",className:o.row},n.a.createElement("strong",null,"Modified user:")," ",c.modifiedUser&&c.modifiedUser.username||""),c.modifiedUser&&n.a.createElement(U.a,{variant:"caption",className:o.row},n.a.createElement("strong",null,"Modified date:")," ",c.modifiedDate&&new Date(c.modifiedDate).toLocaleString()||""))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,{title:"General",className:o.paddedContainer},n.a.createElement(tt.a,{variant:"outlined",label:"Name",disabled:!m,value:E.name||"",className:o.row,onChange:w("name")}),n.a.createElement(tt.a,{variant:"outlined",label:"Original Filename",disabled:!m,value:E.filename||"",className:o.row,onChange:w("filename")}))),n.a.createElement(ue.a,{item:!0,xs:12},n.a.createElement(Xe.a,{title:"Aggregation",className:o.paddedContainer},n.a.createElement(tt.a,{variant:"outlined",multiline:!0,label:"Aggregation",disabled:!m,value:E.aggregation,className:o.textarea,onChange:w("aggregation")}))),n.a.createElement(ue.a,{item:!0,xs:12,className:o.ceneteredItems},m?n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:j},"Save"):n.a.createElement(z.a,{variant:"contained",color:"secondary",onClick:function(){f(!0)}},"Edit")));return n.a.createElement(b.a,{maxWidth:"lg"},y)},za=a(556),La=a(553),Ba=a(554),Wa=a(555),_a=a(557),Ma=Object(G.a)((function(e){return{root:{display:"inline-flex",flexFlow:"row nowrap",alignItems:"center"},input:{display:"none"},text:{marginLeft:e.spacing(1)}}})),Va=function(e){var t=e.label,a=e.file,c=e.setFile,s=Ma(),o=Object(r.useState)(a?a.name:"..."),i=Object(l.a)(o,2),u=i[0],p=i[1];return n.a.createElement(Ze.a,{className:s.root},n.a.createElement("input",{id:"upload-file-input",type:"file",className:s.input,onChange:function(e){var t=e.target.files;t.length>0?(p(t[0].name),c(t[0])):(p("..."),c(null))}}),n.a.createElement("label",{htmlFor:"upload-file-input"},n.a.createElement(z.a,{variant:"text",startIcon:n.a.createElement(_a.a,null),component:"span"},t||"Uplaod")),n.a.createElement(U.a,{variant:"caption",className:s.text},u))},Ga=Object(G.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),Ha=function(e){var t=e.advanceStep,a=e.prevStep,r=e.name,c=e.setName,s=e.file,o=e.setFile,i=Ga();return n.a.createElement(Ze.a,{className:i.root},n.a.createElement(U.a,{variant:"subtitle1"},"Specify your template name, then attach your template file."," ","(Ex: All user info, or Items per user)."),n.a.createElement(tt.a,{value:r,onChange:function(e){c(e.target.value)},variant:"outlined",color:"secondary",label:"Template Name",id:"new-template-name",name:"new-template-name",size:"small"}),n.a.createElement(Va,{label:"Template File",file:s,setFile:o}),n.a.createElement(Ze.a,{p:2,className:i.buttons},n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:a},"Back"),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:t},"Next")))};Ha.defaultProps={file:null};var Qa=Ha,Ja=Object(G.a)((function(e){return{root:{"& > * + *":{marginTop:e.spacing(1)}},multilineInput:{width:"100%","& textarea":{}}}})),Ya=a(498),qa=function(e){var t=e.value,a=e.setValue,r=e.Component,c=e.readOnly,s=e.className,o=r||Ya.a;return n.a.createElement(o,{multiline:!0,rows:20,rowsMax:30,readOnly:c,value:t,className:s,onKeyPress:function(e){"Enter"===e.key&&console.log(e.key)},onChange:function(e){a(e.target.value)}})};qa.defaultProps={readOnly:!1,className:"",Component:null};var Ka=qa,Xa=function(e){var t=e.value,a=e.setValue,c=e.advanceStep,s=Ja(),o=Object(r.useState)(""),i=Object(l.a)(o,2),u=i[0],p=i[1],m=function(){var e=Object(ie.a)(oe.a.mark((function e(){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga.a.getSample(t);case 2:a=e.sent,p(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement(Ze.a,{className:s.root},n.a.createElement(U.a,{variant:"subtitle1"},"Create a valid MongoDB aggregation. Test and verify if it returns valid info below. For more info, refer to MongoDB"," ",n.a.createElement("a",{href:"https://docs.mongodb.com/manual/aggregation/",target:"_blank",rel:"noopener noreferrer"},"documentation"),"."),n.a.createElement(Ka,{value:t,setValue:a,className:s.multilineInput}),n.a.createElement("div",null,u?n.a.createElement(Ka,{value:JSON.stringify(u,null,2),setValue:p,readOnly:!0,className:s.multilineInput}):null),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:m},"Get sample"),n.a.createElement(z.a,{variant:"contained",color:"primary",onClick:c},"Next"))},Za=Object(G.a)((function(e){return{root:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start","& > * + *":{marginTop:e.spacing(1)}},buttons:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start","& > * + *":{marginLeft:e.spacing(2)}}}})),$a=function(e){var t=e.prevStep,a=e.handleSubmit,r=e.handleGenerate,c=Za();return n.a.createElement(Ze.a,{className:c.root},n.a.createElement(U.a,{variant:"subtitle1"},"You can generate your report to check if everything is working."," ","After, you can click 'Submit' to save it."),n.a.createElement(Ze.a,{className:c.buttons},n.a.createElement(z.a,{onClick:t,variant:"contained",color:"primary"},"Back"),n.a.createElement(z.a,{onClick:a,variant:"contained",color:"primary"},"Submit"),n.a.createElement(z.a,{onClick:r,variant:"contained",color:"primary"},"Generate")))},er=Object(G.a)((function(e){return{root:{padding:e.spacing(3)},header:{textAlign:"center",marginBottom:e.spacing(3)},formContainer:{"& > * + *":{marginTop:e.spacing(2)}}}})),tr=function(){var e=er(),t=Object(d.g)(),a=Object(r.useState)(0),c=Object(l.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(l.a)(i,2),p=u[0],m=u[1],f=Object(r.useState)(""),h=Object(l.a)(f,2),v=h[0],g=h[1],E=Object(r.useState)(null),x=Object(l.a)(E,2),O=x[0],w=x[1],j=["Create your database aggregation","Add you template file","Try it out"],y=function(){o((function(e){return(e+1)%j.length}))},S=function(){o((function(e){return e>0?e-1:0}))},k=function(){var e=Object(ie.a)(oe.a.mark((function e(){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("aggregation",p),a.append("name",v),a.append("template",O),e.next=6,ga.a.createTemplate(a);case 6:t.push("/reporting/templates");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(ie.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("aggregation",p),t.append("name",v),t.append("template",O),e.next=6,ga.a.generateTemplate(t);case 6:return a=e.sent,e.next=9,Object(va.downloadBlob)(O.name,a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=[n.a.createElement(Xa,{advanceStep:y,value:p,setValue:m,setAggregation:m}),n.a.createElement(Qa,{name:v,setName:g,file:O,setFile:w,advanceStep:y,prevStep:S}),n.a.createElement($a,{prevStep:S,handleSubmit:k,handleGenerate:A})];return n.a.createElement("div",{className:e.root},n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement(U.a,{variant:"h4",component:"h1",className:e.header},"New Template"),n.a.createElement(za.a,{elevation:2,activeStep:s,orientation:"vertical"},j.map((function(e,t){return n.a.createElement(La.a,{key:e},n.a.createElement(Ba.a,null,e),n.a.createElement(Wa.a,null,P[t]))})))))},ar=function(){var e=Object(d.i)().path;return n.a.createElement(d.d,null,n.a.createElement(d.b,{exact:!0,path:e},n.a.createElement(Ra,null)),n.a.createElement(d.b,{exact:!0,path:"".concat(e,"/new")},n.a.createElement(tr,null)),n.a.createElement(d.b,{path:"".concat(e,"/:id")},n.a.createElement(Fa,null)))},rr=function(e){var t=e.ctx,a=e.setCtx,r=Object(d.i)().path;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye,{ctx:t,setCtx:a}),n.a.createElement(b.a,{maxWidth:"lg"},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"".concat(r,"/reports")},n.a.createElement(jt,{code:"REPORTS",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(Ua,null))),n.a.createElement(d.b,{path:"".concat(r,"/templates")},n.a.createElement(jt,{code:"REPORT-TEMPLATES",grant:"read",to:"/",failureNotification:{header:"No Access",content:"No permission to access this page. Please contact your administrator."}},n.a.createElement(i.a,{title:"Reporting Templates"},n.a.createElement(ar,null)))))))},nr=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{textAlign:"center"}},"Login"),n.a.createElement("a",{href:"/api/login"},"Login"))};function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function sr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var or=n.a.createElement("path",{d:"M230.338,106.843l-11.177-25.312c-1.2-2.718-3.89-4.471-6.861-4.471h-18.524c-4.142,0-7.5,3.357-7.5,7.5v11.823h-5.762 v-9.728c0-4.143-3.358-7.5-7.5-7.5h-19.968V58.69c0-4.143-3.358-7.5-7.5-7.5h-36.895v-7.142h36.895c4.142,0,7.5-3.358,7.5-7.5 c0-4.143-3.358-7.5-7.5-7.5H56.758c-4.142,0-7.5,3.357-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h36.895v7.142H56.758 c-4.142,0-7.5,3.357-7.5,7.5v6.234H32.804c-4.142,0-7.5,3.357-7.5,7.5v40.247H15V72.424c0-4.143-3.358-7.5-7.5-7.5 S0,68.282,0,72.424v95.496c0,4.143,3.358,7.5,7.5,7.5s7.5-3.357,7.5-7.5v-40.249h10.304v40.249c0,4.143,3.358,7.5,7.5,7.5h29.139 l29.608,24.762c1.35,1.129,3.052,1.747,4.812,1.747h76.652c4.142,0,7.5-3.357,7.5-7.5v-20.445h5.762v11.823 c0,4.143,3.358,7.5,7.5,7.5h18.524c2.971,0,5.661-1.753,6.861-4.471l11.177-25.312c0.421-0.954,0.639-1.986,0.639-3.029v-50.623 C230.978,108.83,230.76,107.797,230.338,106.843z M215.978,158.914l-8.563,19.394h-6.138v-11.823c0-4.143-3.358-7.5-7.5-7.5h-20.762 c-4.142,0-7.5,3.357-7.5,7.5v20.445h-66.43l-29.608-24.762c-1.35-1.129-3.052-1.747-4.812-1.747H40.304V79.924h16.454 c4.142,0,7.5-3.357,7.5-7.5V66.19h73.789v20.467c0,4.143,3.358,7.5,7.5,7.5h19.968v9.728c0,4.143,3.358,7.5,7.5,7.5h20.762 c4.142,0,7.5-3.357,7.5-7.5V92.061h6.138l8.563,19.394V158.914z"}),ir=n.a.createElement("g",null),ur=n.a.createElement("g",null),lr=n.a.createElement("g",null),pr=n.a.createElement("g",null),mr=n.a.createElement("g",null),dr=n.a.createElement("g",null),fr=n.a.createElement("g",null),hr=n.a.createElement("g",null),br=n.a.createElement("g",null),vr=n.a.createElement("g",null),gr=n.a.createElement("g",null),Er=n.a.createElement("g",null),xr=n.a.createElement("g",null),Or=n.a.createElement("g",null),wr=n.a.createElement("g",null),jr=function(e){var t=e.svgRef,a=e.title,r=sr(e,["svgRef","title"]);return n.a.createElement("svg",cr({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 230.978 230.978",style:{enableBackground:"new 0 0 230.978 230.978"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,or,ir,ur,lr,pr,mr,dr,fr,hr,br,vr,gr,Er,xr,Or,wr)},yr=n.a.forwardRef((function(e,t){return n.a.createElement(jr,cr({svgRef:t},e))}));a.p;function Sr(){return(Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function kr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Ar=n.a.createElement("path",{d:"m64 11.758 62.25 104.484h-124.5z",fill:"#025f80"}),Pr=n.a.createElement("path",{d:"m19.348 106.242 44.652-74.947 44.652 74.947z",fill:"#ffef9e"}),Tr=n.a.createElement("g",{fill:"#ff62b4"},n.a.createElement("path",{d:"m59.75 56.852h8.5v22.287h-8.5z"}),n.a.createElement("path",{d:"m59.75 87.278h8.5v9.891h-8.5z"})),Ir=function(e){var t=e.svgRef,a=e.title,r=kr(e,["svgRef","title"]);return n.a.createElement("svg",Sr({id:"Layer_2",height:512,viewBox:"0 0 128 128","data-name":"Layer 2",ref:t},r),a?n.a.createElement("title",null,a):null,Ar,Pr,Tr)},Cr=n.a.forwardRef((function(e,t){return n.a.createElement(Ir,Sr({svgRef:t},e))}));a.p;function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function Ur(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Rr=n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{d:"M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0 C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z  M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771 C25.897,14.648,24.746,15.872,22.946,15.872z"}))),Dr=n.a.createElement("g",null),Fr=n.a.createElement("g",null),zr=n.a.createElement("g",null),Lr=n.a.createElement("g",null),Br=n.a.createElement("g",null),Wr=n.a.createElement("g",null),_r=n.a.createElement("g",null),Mr=n.a.createElement("g",null),Vr=n.a.createElement("g",null),Gr=n.a.createElement("g",null),Hr=n.a.createElement("g",null),Qr=n.a.createElement("g",null),Jr=n.a.createElement("g",null),Yr=n.a.createElement("g",null),qr=n.a.createElement("g",null),Kr=function(e){var t=e.svgRef,a=e.title,r=Ur(e,["svgRef","title"]);return n.a.createElement("svg",Nr({id:"Capa_1",x:"0px",y:"0px",width:"45.999px",height:"45.999px",viewBox:"0 0 45.999 45.999",style:{enableBackground:"new 0 0 45.999 45.999"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,Rr,Dr,Fr,zr,Lr,Br,Wr,_r,Mr,Vr,Gr,Hr,Qr,Jr,Yr,qr)},Xr=n.a.forwardRef((function(e,t){return n.a.createElement(Kr,Nr({svgRef:t},e))}));a.p;function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function $r(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var en=n.a.createElement("g",null,n.a.createElement("path",{d:"m330.247 154.328c-5.857-5.859-15.354-5.857-21.213 0l-83.034 83.031-23.034-23.032c-5.857-5.857-15.355-5.856-21.212.001l-42.425 42.425c-5.858 5.857-5.858 15.355 0 21.213l76.066 76.066c5.853 5.854 15.356 5.858 21.213 0l136.066-136.066c5.854-5.852 5.857-15.356 0-21.213zm-104.247 167.885-54.852-54.854 21.212-21.212 23.034 23.032c5.857 5.857 15.355 5.856 21.212-.001l83.034-83.031 21.212 21.212z"}),n.a.createElement("path",{d:"m256 0c-140.959 0-256 115.049-256 256 0 140.959 115.049 256 256 256 140.959 0 256-115.049 256-256 0-140.959-115.049-256-256-256zm0 482c-124.617 0-226-101.383-226-226s101.383-226 226-226 226 101.383 226 226-101.383 226-226 226z"})),tn=function(e){var t=e.svgRef,a=e.title,r=$r(e,["svgRef","title"]);return n.a.createElement("svg",Zr({id:"Capa_1",enableBackground:"new 0 0 512 512",height:512,viewBox:"0 0 512 512",width:512,ref:t},r),a?n.a.createElement("title",null,a):null,en)},an=n.a.forwardRef((function(e,t){return n.a.createElement(tn,Zr({svgRef:t},e))})),rn=(a.p,a(366)),nn=a.n(rn),cn=a(367),sn=a.n(cn),on=a(368),un=a.n(on),ln={info:{text:"#ffffff",bg:"#1976d2",bgLight:"#63a4ff",bgDark:"#004ba0"},warning:{text:"#000000",bg:"#ffa000",bgLight:"#ffd149",bgDark:"#c67100"},error:{text:"#ffffff",bg:"#d32f2f",bgLight:"#ff6659",bgDark:"#9a0007"},success:{text:"#000000",bg:"#00c853",bgLight:"#5efc82",bgDark:"#009624"}},pn=Object(G.a)({"@keyframes timerSlide":{from:{width:"100%"},to:{width:"0px"}},"@keyframes test":{"0%":{},"100%":{}},popUpContainer:function(e){return{position:"relative",backgroundColor:ln[e.entry.type].bg,borderRadius:3,color:ln[e.entry.type].text,overflow:"hidden",maxWidth:400,opacity:"0.7",fontFamily:"Roboto","& > *:last-child":{padding:"1em"}}},popUpHeader:{fontSize:"1.5em",padding:"0.2em 0",textAlign:"center"},popUpWatermark:{position:"absolute",width:"30%",height:"100%",right:"0%",top:"0%",opacity:"0.8",mixBlendMode:"soft-light","& > *":{width:"100%",height:"auto"}},popUpDelimiter:function(e){return{borderTop:"1px solid ".concat(ln[e.entry.type].bgDark),borderBottom:"1px solid ".concat(ln[e.entry.type].bgLight)}},popUpToolbar:{position:"relative",padding:"2px 0"},popUpTimer:function(e){return{position:"absolute",top:0,left:0,height:"100%",background:ln[e.entry.type].bgDark,mixBlendMode:"multiply",zIndex:"1"}},popUpTimerOn:{animationName:"$timerSlide",animationTimingFunction:"linear"},popUpTimerOff:{width:"100%"},popUpControls:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"flex-end",alignContent:"center","& > *":{zIndex:"2",cursor:"pointer",height:"20px",padding:"0 0.1em 0 0.1em"},"& img":{height:"100%"}},popUpContent:{textAlign:"center"}}),mn=function(e){var t=e.entry,a=e.onBeforeClose,c=e.onAfterClose,s=t.type||"error",o=Object(u.a)(Object(u.a)({},t),{},{type:s}),i=pn({entry:o}),p=Object(r.useState)(!0),m=Object(l.a)(p,2),d=m[0],f=m[1],h=Object(r.useState)(!1),b=Object(l.a)(h,2),g=b[0],E=b[1],x=Object(r.useState)(0),O=Object(l.a)(x,2),w=O[0],j=O[1],y=t.duration||5,S=Object(r.useCallback)(Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a,!e.t0){e.next=4;break}return e.next=4,a();case 4:f(!1),c&&c(t);case 6:case"end":return e.stop()}}),e)}))),[t,c,a]);Object(r.useEffect)((function(){j(setTimeout(S,1e3*y))}),[]);var k=function(){j(g?setTimeout(S,1e3*y):function(e){return clearTimeout(e),0}),E(!g)},A=function(){switch(s){case"error":return n.a.createElement(yr,null);case"info":return n.a.createElement(Xr,null);case"warn":return n.a.createElement(Cr,null);case"success":return n.a.createElement(an,null);default:return null}};return n.a.createElement(n.a.Fragment,null,d?n.a.createElement("div",{className:i.popUpContainer},n.a.createElement("div",{className:i.popUpWatermark},n.a.createElement(A,null)),n.a.createElement("div",{className:i.popUpToolbar},n.a.createElement("div",{className:i.popUpControls},g?n.a.createElement("span",{role:"button",onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:sn.a,alt:"Continue the pop-up timer"})):n.a.createElement("span",{onClick:function(){return k()},"aria-hidden":"true"},n.a.createElement("img",{src:un.a,alt:"Pause the pop-up timer"})),n.a.createElement("span",{onClick:function(){return clearTimeout(w),void S()},"aria-hidden":"true"},n.a.createElement("img",{src:nn.a,alt:"Close the pop-up"}))),n.a.createElement("div",{className:Object(V.a)(Object(v.a)({},i.popUpTimer,!0),g?i.popUpTimerOff:i.popUpTimerOn),style:{animationDuration:"".concat(y,"s")}})),n.a.createElement("div",{className:i.popUpDelimiter}),n.a.createElement("div",{className:i.popUpHeader},n.a.createElement("span",null,t.header?t.header.toUpperCase():"Error")),n.a.createElement("div",{className:i.popUpDelimiter}),n.a.createElement("div",{className:i.popUpContent},t.content)):null)},dn=Object(G.a)({"@keyframes slideLeft":{from:{right:"-120%"},to:{right:"0"}},"@keyframes slideRight":{from:{right:"0"},to:{right:"-120%"}},root:{position:"fixed",right:10,bottom:10,minWidth:400,zIndex:9999,"& > * + *":{marginTop:".5em"}},containerTransition:{position:"relative",animationName:"$slideLeft",animationDuration:700,animationTiminFunction:"ease-in-out"},containerTransitionOff:{animationName:"$slideRight",animationDuration:700,animationTiminFunction:"ease-in-out",animationFillMode:"forwards"},"body * + *":{marginTop:"1.5em"}}),fn=function(e){var t=e.entry,a=e.onAfterClose,c=e.notificationRender,s=dn({entry:t}),o=Object(r.useState)(!1),i=Object(l.a)(o,2),u=i[0],p=i[1];return n.a.createElement("div",{className:Object(V.a)(s.containerTransition,Object(v.a)({},s.containerTransitionOff,u))},c(t,{entry:t,onAfterClose:a,closeTimeOffset:5,onBeforeClose:function(){return new Promise((function(e){p(!0),setTimeout((function(){e()}),700)}))}}))},hn=function(){var e=dn(),t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1];return Ee.a.notifications=c,Ee.a.setNotifications=s,n.a.createElement("div",{className:e.root},c.map((function(e){return n.a.createElement(fn,{key:e.id,notificationRender:function(e,t){return n.a.createElement(mn,{type:e.type,entry:t.entry,onBeforeClose:t.onBeforeClose,onAfterClose:t.onAfterClose})},onAfterClose:function(e){return s((function(t){return t.filter((function(t){return t!==e}))}))},entry:e})})))},bn=function(){var e=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function t(){return(t=Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.security||null===e.user){t.next=5;break}return t.next=3,qt.getSecurities();case 3:(a=t.sent)&&e.setContext((function(e){return Object(u.a)(Object(u.a)({},e),{},{security:a})}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),null},vn={currentUserPath:"/api/me",getCurrentUser:function(){var e=this;return Object(ie.a)(oe.a.mark((function t(){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ve.a.get(e.currentUserPath);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 9:return t.prev=9,t.t0=t.catch(0),Ee.a.notify({type:"error",header:"Error",content:"Not logged in. ".concat(t.t0.response.data&&t.t0.response.data.error||t.t0.message)}),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}},gn=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(Q);return Object(r.useEffect)((function(){function e(){return(e=Object(ie.a)(oe.a.mark((function e(){var t,r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.setContext){e.next=2;break}return e.abrupt("return",n(!1));case 2:if(c.user||a){e.next=9;break}return n(!0),e.next=6,vn.getCurrentUser();case 6:return(t=e.sent)&&(r=t.displayName||t.username||"Unknown",t.avatar=r.split(/[. ,_-]/).map((function(e){return e[0]})).join("").slice(0,2).toUpperCase()),e.abrupt("return",c.setContext(Object(u.a)(Object(u.a)({},c),{},{user:t,userLoaded:!0})));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a,c]),null},En=Object(G.a)((function(e){return{"@global":{".centerFlexRow":{display:"flex",flexFlow:"row nowrap",justifyContent:"center"},".centerFlexColumn":{display:"flex",flexFlow:"column nowrap",alignItems:"center"},".flexColumn":{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start"},".textDecorationOff":{textDecoration:"none"},".owl":{"& > * + *":{marginTop:e.spacing(1)}},".owlHorizontal":{"& > * + *":{marginLeft:e.spacing(2)}},".fullWidth":{width:"100%"}}}}));function xn(){return En(),null}var On=Object(G.a)((function(e){var t;return{root:(t={},Object(v.a)(t,e.breakpoints.up("md"),{marginLeft:"auto"}),Object(v.a)(t,e.breakpoints.between("sm","md"),{marginLeft:e.spacing(7)+1}),t)}}));var wn=function(){var e=On(),t=Object(r.useState)({user:null,Authorize:qt.Authorize,setContext:null,userPreferences:{theme:"dark"===localStorage.getItem("theme")?Object(f.a)(_t):Object(f.a)(Mt)}}),a=Object(l.a)(t,2),c=a[0],s=a[1],o=c.userPreferences.theme;return Object(r.useEffect)((function(){s((function(e){return Object(u.a)(Object(u.a)({},e),{},{setContext:s})}))}),[]),n.a.createElement(Q.Provider,{value:c},n.a.createElement(h.a,{theme:o},n.a.createElement(hn,null),n.a.createElement(gn,{ctx:c,setCtx:s}),n.a.createElement(p.a,null),n.a.createElement(xn,null),n.a.createElement(bn,null),n.a.createElement(m.a,null,n.a.createElement(ce,null),n.a.createElement(b.a,{maxWidth:"lg",className:e.root},n.a.createElement(d.d,null,n.a.createElement(d.b,{path:"/appraisals"},n.a.createElement(i.a,{title:"Appraisals"},n.a.createElement(Pt,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/audits"},n.a.createElement(i.a,{title:"Audits"},n.a.createElement("h1",null,"IN PROGRESS"))),n.a.createElement(d.b,{path:"/reporting"},n.a.createElement(i.a,{title:"Reporting"},n.a.createElement(rr,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/settings"},n.a.createElement(i.a,{title:"Settings"},n.a.createElement(ba,null))),n.a.createElement(d.b,{path:"/login"},n.a.createElement(i.a,{title:"Sign in"},n.a.createElement(nr,{ctx:c,setCtx:s}))),n.a.createElement(d.b,{path:"/"},n.a.createElement(Lt,{ctx:c,setCtx:s})))))))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(i.a,{title:"Admin Tools"},n.a.createElement(wn,null))),document.getElementById("root"))},467:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a.n(r),c=a(7),s=a(8),o=a(0),i=a.n(o),u=a(40),l=a(29),p=a(533),m=a(102),d=a(325),f=a(116),h=a.n(f),b=a(120),v=a(254),g=Object(v.a)((function(e){return{container:{display:"flex",flexFlow:"row nowrap",justifyContent:"center",padding:e.spacing(2),marginBottom:e.spacing(1)}}})),E=a(37),x=a(94);t.default=function(){var e=g(),t=Object(u.g)(),a=Object(o.useState)([]),r=Object(s.a)(a,2),f=r[0],v=r[1],O=Object(u.i)().path;return Object(o.useEffect)((function(){var e=!0;function t(){return(t=Object(c.a)(n.a.mark((function t(){var a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.getTemplates();case 2:a=t.sent,e&&v(a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[]),i.a.createElement(p.a,{maxWidth:"lg"},i.a.createElement(x.a,{text:"Templates"}),i.a.createElement(m.a,{className:e.container},i.a.createElement(l.b,{to:"".concat(O,"/new"),className:"textDecorationOff"},i.a.createElement(d.a,{color:"secondary",variant:"contained"},"Create Template"))),i.a.createElement(h.a,{icons:b.a.tableIcons,title:"",columns:[{title:"Name",field:"name"},{title:"Filename",field:"filename"},{title:"User created",field:"createdUser.username"}],data:f,actions:[{icon:b.a.tableIcons.Download,tooltip:"Download Template",onClick:function(e,t){return E.a.downloadTemplate(t.id,t.filename)}}],onRowClick:function(e,a){return t.push("".concat(O,"/").concat(a.id))}}))}},94:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(60),s=a(254),o=Object(s.a)((function(e){return{root:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}));t.a=function(e){var t=e.text,a=o();return n.a.createElement(c.a,{variant:"h4",align:"center",className:a.root},t)}}},[[382,1,2]]]);
//# sourceMappingURL=main.7ab55dd2.chunk.js.map